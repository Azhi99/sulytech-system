(function(e){function t(t){for(var n,r,o=t[0],l=t[1],c=t[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,r=1;r<s.length;r++){var l=s[r];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},a={app:0},i=[];function r(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"b52270e3","chunk-2d216257":"d8c9bc89","chunk-d4327f6c":"30fdf999"}[e]+".js"}function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[],s=a[e];if(0!==s)if(s)t.push(s[2]);else{var n=new Promise((function(t,n){s=a[e]=[t,n]}));t.push(s[2]=n);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=r(e);var c=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(u);var s=a[e];if(0!==s){if(s){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",c.name="ChunkLoadError",c.type=n,c.request=i,s[1](c)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";s("85ec")},"0f81":function(e,t,s){e.exports=s.p+"img/5_IQD.017fc467.jpg"},2201:function(e,t,s){},"328f":function(e,t,s){e.exports=s.p+"img/1000_IQD.d7437a74.png"},"48dd":function(e,t,s){},"4ab6":function(e,t,s){e.exports=s.p+"img/logo darin.60954348.png"},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-main",{class:{"mx-auto my-15":"login"==e.$route.name},style:{"background-color":e.$vuetify.theme.dark?"#202020 !important":""}},[e.getPageTitle?s("navbar",{staticClass:"notPrint",attrs:{pageTitle:e.getPageTitle}}):e._e(),s("transition",{attrs:{name:"scale",mode:"out-in"}},[s("router-view")],1)],1)],1)},i=[],r=(s("b0c0"),{name:"App",data:function(){return{}},computed:{getPageTitle:function(){return{home:"پەڕەی سەرەکی",items:"کاڵاکان",roles:"ڕۆڵەکان",expenses:"خەرجیەکان",box:"قاسەی پارە",suppliers:"کۆمپانیاکان",customers:"کڕیارەکان",purchases:"کڕینەکان",users:"بەکارهێنەرەکان",disposals:"تەلەفەکان",invoice:"فرۆشتن",showInvoice:"پسوڵەی عــرض",stock:"مەخزەن",stockReport:"زانیاری مەخزەن",saleReport:"زانیاری فرۆشتن",itemSaleReport:"زانیاری کاڵای فرۆشراو",purchaseReport:"زانیاری کڕین",moneyMovement:"جوڵەی پارە",customerDebts:"قەرزی کڕیارەکان",supplierDebts:"قەرزی کۆمپانیاکان",profitReport:"زانیاری قازانج",expenseReport:"زانیاری خەرجی",moneyInStock:"زانیاری پارەی ماوە",supplierDebtReport:"ڕاپۆرتی قەرزی کۆمپانیا + (قەرزی هاوبەشەکان)",customerDebtReport:"ڕاپۆرتی قەرزی کڕیارەکان + (قەرزی هاوبەشەکان)",ownerSaleReport:"فرۆشراوی خاوەندارێتی",profitByItem:"قازانج بە پێی مەواد",accountStatementCompany:"کشف حساب کۆمپانیا",amountOwner:"سندوقی حساب"}[this.$route.name]}}}),o=r,l=(s("034f"),s("2877")),c=s("6544"),u=s.n(c),d=s("7496"),m=s("f6c4"),p=Object(l["a"])(o,a,i,!1,null,null,null),v=p.exports;u()(p,{VApp:d["a"],VMain:m["a"]});var h=s("9483");Object(h["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var f=s("1da1"),g=(s("96cf"),s("caad"),s("2532"),s("8c4f")),b=s("bc3a"),x=s.n(b),y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"primary",icon:"mdi-dots-grid",text:"کاڵاکان",data:e.numberOfItems.toLocaleString(),to:"/items"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"orange",icon:"mdi-alert-minus-outline",text:"کاڵا کەمبووەکان",data:e.lackInStockItems.length.toLocaleString()}},[s("v-dialog",{attrs:{width:"75%"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"orange lighten-1 white--text"}},"v-btn",a,!1),n),[e._v(" بینین ")])]}}]),model:{value:e.dialogs.decreasedItems,callback:function(t){e.$set(e.dialogs,"decreasedItems",t)},expression:"dialogs.decreasedItems"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" کاڵا کەمبووەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.decreasedItems=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-5"},[s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[s("v-text-field",{attrs:{label:"گەڕان بە ناو یان بارکۆد",outlined:"",dense:"",clearable:""},model:{value:e.searchLackInStock,callback:function(t){e.searchLackInStock=t},expression:"searchLackInStock"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[s("v-select",{attrs:{label:"خاوەندارێتی",outlined:"",dense:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID",clearable:""},model:{value:e.searchOwnerLackInStock,callback:function(t){e.searchOwnerLackInStock=t},expression:"searchOwnerLackInStock"}})],1)],1),s("v-data-table",{attrs:{headers:e.decreasedItemsHeader,items:e.filteredLackItems,search:e.searchLackInStock,"footer-props":{"items-per-page-options":[10,15,20]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemCode)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[s("v-chip",{attrs:{label:"",color:n.totalInStock>10?"primary":n.totalInStock<10&&n.totalInStock>5?"warning":"error"}},[e._v(" "+e._s(n.totalInStock)+" ")])],1)])]}}])})],1)],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"success",icon:"mdi-account-group-outline",text:"بەکارهێنەرەکان",data:e.numberOfUsers.toLocaleString(),to:"/users"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"orange",icon:"mdi-bank-transfer-out",text:"خەرجی ئەمڕۆ",data:e.totalExpense.toLocaleString()+" IQD",to:"/expenses"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"success",icon:"fa fa-hand-holding-usd",text:"فرۆشتنی ئەمڕۆ",data:e.getTotalSoldToday.toLocaleString()+" $"}},[s("v-dialog",{attrs:{persistent:"",width:"85%",eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success lighten-1 white--text"}},"v-btn",a,!1),n),[e._v(" بینین ")])]}}]),model:{value:e.dialogs.todaySold,callback:function(t){e.$set(e.dialogs,"todaySold",t)},expression:"dialogs.todaySold"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" فرۆشتنی ئەمڕۆ ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.todaySold=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("itemSaleReport")],1)],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"primary",icon:"mdi-cart-plus",text:"کڕینی ئەمڕۆ",data:e.getTotalPurchaseToday.toLocaleString()+" $"}},[s("v-dialog",{attrs:{width:"75%"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary lighten-1 white--text"}},"v-btn",a,!1),n),[e._v(" بینین ")])]}}]),model:{value:e.dialogs.todayPurchase,callback:function(t){e.$set(e.dialogs,"todayPurchase",t)},expression:"dialogs.todayPurchase"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" کڕینی ئەمڕۆ ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.todayPurchase=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",[s("v-data-table",{attrs:{headers:e.todayPurchaseHeader,items:e.todayPurchase,"footer-props":{"items-per-page-options":[10,20]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.referenceNo)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.supplierName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.amountPay.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("invoiceType")(n.paymentType))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("purchaseStatus")(n.PurchaseStatus))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.user)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(t){return e.getPurchaseDetail(n.purchaseID,n.referenceNo)}}},[s("v-icon",[e._v(" mdi-eye ")])],1)],1)])]}}])})],1)],1)],1)],1)],1)],1),s("v-divider",{staticClass:"my-4"}),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeCategory"),expression:"emitter.$emit('closeCategory')"}],attrs:{inset:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-shape-outline ")]),e._v(" جۆرەکان ")],1)]}}]),model:{value:e.sheets.category,callback:function(t){e.$set(e.sheets,"category",t)},expression:"sheets.category"}},[s("v-sheet",{staticClass:"px-3"},[s("formCategory")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-shape-outline ")]),e._v(" جۆرەکان ")],1)]}}],null,!1,2045869111),model:{value:e.dialogs.category,callback:function(t){e.$set(e.dialogs,"category",t)},expression:"dialogs.category"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" جۆرەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeCategory"),e.dialogs.category=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formCategory")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeBrand"),expression:"emitter.$emit('closeBrand')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" far fa-copyright ")]),e._v(" براندەکان ")],1)]}}]),model:{value:e.sheets.brand,callback:function(t){e.$set(e.sheets,"brand",t)},expression:"sheets.brand"}},[s("v-sheet",{staticClass:"px-3"},[s("formBrand")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" far fa-copyright ")]),e._v(" براندەکان ")],1)]}}],null,!1,3873983502),model:{value:e.dialogs.brand,callback:function(t){e.$set(e.dialogs,"brand",t)},expression:"dialogs.brand"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" براندەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeBrand"),e.dialogs.brand=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formBrand")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeShelf"),expression:"emitter.$emit('closeShelf')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-bookshelf ")]),e._v(" خاوەندارێتیەکان ")],1)]}}]),model:{value:e.sheets.shelf,callback:function(t){e.$set(e.sheets,"shelf",t)},expression:"sheets.shelf"}},[s("v-sheet",{staticClass:"px-3"},[s("formShelf")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-account-tie ")]),e._v(" خاوەندارێتیەکان ")],1)]}}],null,!1,1467658905),model:{value:e.dialogs.shelf,callback:function(t){e.$set(e.dialogs,"shelf",t)},expression:"dialogs.shelf"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" خاوەندارێتیەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeShelf"),e.dialogs.shelf=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formShelf")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeUnit"),expression:"emitter.$emit('closeUnit')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-warehouse ")]),e._v(" مەخزەنەکان ")],1)]}}]),model:{value:e.sheets.unit,callback:function(t){e.$set(e.sheets,"unit",t)},expression:"sheets.unit"}},[s("v-sheet",{staticClass:"px-3"},[s("formUnit")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-warehouse ")]),e._v(" مەخزەنەکان ")],1)]}}],null,!1,4058360020),model:{value:e.dialogs.unit,callback:function(t){e.$set(e.dialogs,"unit",t)},expression:"dialogs.unit"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" مەخزەنەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeUnit"),e.dialogs.unit=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formUnit")],1)],1)],1)],1)],1),s("v-divider",{staticClass:"mb-2 mt-2"}),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("v-card",{staticClass:"px-5 py-3",attrs:{color:"blue-grey lighten-4"}},[s("v-form",{ref:"formDollar",on:{submit:function(e){e.preventDefault()}}},[s("v-text-field",{staticClass:"my-0",attrs:{type:"number",label:"نرخی 1 دۆلار",outlined:"",dense:"",rules:e.rules.dollarRule,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateDollar()}},model:{value:e.dollarPrice,callback:function(t){e.dollarPrice=e._n(t)},expression:"dollarPrice"}}),s("v-btn",{attrs:{block:"",loading:e.loadings.updateDollar},on:{click:function(t){return e.updateDollar()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1)],1)],1)],1),s("v-divider",{staticClass:"mb-2 mt-2"}),s("v-dialog",{attrs:{persistent:"",width:"75%"},model:{value:e.dialogs.invoiceDetail,callback:function(t){e.$set(e.dialogs,"invoiceDetail",t)},expression:"dialogs.invoiceDetail"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.invoiceDetail.invoiceID)+" ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.invoiceDetail=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("v-data-table",{attrs:{headers:e.invoiceDetailHeader,items:e.invoiceDetail.items,loading:e.loadings.invoiceDetail,"loading-text":"تکایە چاوەڕوانبە..."},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.qty)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.productPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((n.productPrice*n.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1),s("v-dialog",{attrs:{width:"75%"},model:{value:e.dialogs.purchaseDetail,callback:function(t){e.$set(e.dialogs,"purchaseDetail",t)},expression:"dialogs.purchaseDetail"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.purchaseDetail.referenceNo)+" ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.purchaseDetail=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-card-text",[s("v-data-table",{attrs:{headers:e.purchaseDetailHeader,items:e.purchaseDetail.items,loading:e.loadings.purchaseDetail,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[15,20]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.costPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.qty.toLocaleString())+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.costAfterDisc.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((n.costAfterDisc*n.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1),s("notification"),s("v-row",[s("v-col",{attrs:{cols:"12",md:"6",lg:"6"}},[s("div",{staticStyle:{width:"80%",height:"400px"},attrs:{id:"chart"}})]),s("v-col",{attrs:{cols:"12",md:"6",lg:"6"}},[s("div",{staticStyle:{width:"80%",height:"400px"},attrs:{id:"lineChart"}})]),s("v-col",{attrs:{cols:"12",md:"6",lg:"6"}},[s("div",{staticStyle:{width:"80%",height:"400px"},attrs:{id:"chartToday"}})])],1)],1)},D=[],I=(s("a9e3"),s("d81d"),s("d3b7"),s("4de4"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-alert",{staticClass:"my-0 px-1",attrs:{elevation:"1",outlined:"",text:"",color:e.color}},[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-icon",{staticClass:"px-3",attrs:{"x-large":"",color:e.color}},[e._v(" "+e._s(e.icon)+" ")])],1),s("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.text)+" "),s("hr"),e._v(" "+e._s(e.data)+" ")]),s("v-col",{staticClass:"px-5"},[e.to?s("v-btn",{attrs:{block:"",to:e.to,color:e.color+" lighten-1 white--text"}},[e._v(" بینین ")]):e._e(),e._t("default")],2)],1)],1)}),_=[],k={props:["color","icon","text","data","to"]},S=k,C=s("0798"),$=s("8336"),w=s("62ad"),N=s("132d"),T=s("0fd9"),P=Object(l["a"])(S,I,_,!1,null,null,null),V=P.exports;u()(P,{VAlert:C["a"],VBtn:$["a"],VCol:w["a"],VIcon:N["a"],VRow:T["a"]});var R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formCategory",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"جـۆر",outlined:"",dense:"",rules:e.rules.categoryName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addCategory()}},model:{value:e.singleCategory.categoryName,callback:function(t){e.$set(e.singleCategory,"categoryName","string"===typeof t?t.trim():t)},expression:"singleCategory.categoryName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addCategory,disabled:!e.singleCategory.categoryName},on:{click:function(t){return e.addCategory()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.clearCategory()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" جۆر ")]),s("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.categories,(function(t,n){return s("tr",{key:t.categoryID},[s("td",[e._v(" "+e._s(6*(e.page-1)+(n+1))+" ")]),t.categoryID!=e.singleCategory.categoryID?s("td",[e._v(" "+e._s(t.categoryName)+" ")]):s("td",[s("v-text-field",{attrs:{dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.updateCategory(t.categoryID,n)}},model:{value:e.categories[n].categoryName,callback:function(t){e.$set(e.categories[n],"categoryName","string"===typeof t?t.trim():t)},expression:"categories[index].categoryName"}})],1),s("td",[t.categoryID!=e.singleCategory.categoryID?s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.singleCategory.categoryID=t.categoryID}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):s("v-btn",{attrs:{icon:"",color:"success",disabled:!e.categories[n].categoryName,loading:e.loadings.updateCategory},on:{click:function(s){return e.updateCategory(t.categoryID,n)}}},[s("v-icon",[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])}),s("v-pagination",{staticClass:"mt-1",attrs:{length:Math.ceil(e.numberOfCategories/6),"total-visible":"5",color:"primary"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},E=[],O={data:function(){return{page:1,loadings:{addCategory:!1,updateCategory:!1},categories:[],singleCategory:{categoryID:null,categoryName:null},rules:{categoryName:[function(e){return null!=e&&e.length>0||"تکایە جۆرەکە داخڵ بکە"}]},numberOfCategories:0}},created:function(){var e=this;this.getCategories(),this.$http.get("/essential/numberOfCategories").then((function(t){var s=t.data;e.numberOfCategories=s.numberOfCategories}))},mounted:function(){var e=this;this.emitter.$on("closeCategory",(function(){e.clearCategory()}))},methods:{getCategories:function(){var e=this;this.$http.get("/essential/getLimitedCategories/"+6*(this.page-1)).then((function(t){var s=t.data;e.categories=s}))},addCategory:function(){var e=this;this.$refs.formCategory.validate()&&(this.loadings.addCategory=!0,this.$http.post("/essential/addCategory",{categoryName:this.singleCategory.categoryName}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),1==e.page&&(e.categories.unshift({categoryID:s.categoryID,categoryName:e.singleCategory.categoryName}),e.categories.length>6&&e.categories.pop()),++e.numberOfCategories,e.clearCategory()})).finally((function(){e.loadings.addCategory=!1})))},updateCategory:function(e,t){var s=this,n=this.categories[t].categoryName;n?(this.loadings.updateCategory=!0,this.$http.patch("/essential/updateCategory/"+e,{categoryName:n}).then((function(){s.singleCategory.categoryID=null,s.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})).finally((function(){s.loadings.updateCategory=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە جۆرەکە داخڵ بکە"}),console.log(e),console.log(t)},clearCategory:function(){this.singleCategory.categoryID=null,this.singleCategory.categoryName=null,this.$refs.formCategory.resetValidation()}},watch:{page:function(){this.getCategories()}},beforeDestroy:function(){this.emitter.$off("closeCategory")}},B=O,A=s("4bd4"),U=s("891e"),L=s("1f4f"),F=s("8654"),q=Object(l["a"])(B,R,E,!1,null,null,null),j=q.exports;u()(q,{VBtn:$["a"],VCol:w["a"],VForm:A["a"],VIcon:N["a"],VPagination:U["a"],VRow:T["a"],VSimpleTable:L["a"],VTextField:F["a"]});var W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formBrand",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"براند",outlined:"",dense:"",rules:e.rules.brandName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addBrand()}},model:{value:e.singleBrand.brandName,callback:function(t){e.$set(e.singleBrand,"brandName","string"===typeof t?t.trim():t)},expression:"singleBrand.brandName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"success",disabled:!e.singleBrand.brandName,loading:e.loadings.addBrand},on:{click:function(t){return e.addBrand()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.clearBrand()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" براند ")]),s("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.brands,(function(t,n){return s("tr",{key:t.brandID},[s("td",[e._v(" "+e._s(6*(e.page-1)+(n+1))+" ")]),t.brandID!=e.singleBrand.brandID?s("td",[e._v(" "+e._s(t.brandName)+" ")]):s("td",[s("v-text-field",{attrs:{dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.updateBrand(t.brandID,n)}},model:{value:e.brands[n].brandName,callback:function(t){e.$set(e.brands[n],"brandName","string"===typeof t?t.trim():t)},expression:"brands[index].brandName"}})],1),s("td",[t.brandID!=e.singleBrand.brandID?s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.singleBrand.brandID=t.brandID}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):s("v-btn",{attrs:{icon:"",color:"success",disabled:!e.brands[n].brandName,loading:e.loadings.updateBrand},on:{click:function(s){return e.updateBrand(t.brandID,n)}}},[s("v-icon",[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])}),s("v-pagination",{staticClass:"mt-1",attrs:{length:Math.ceil(e.numberOfBrands/6),"total-visible":"5"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},M=[],Q={data:function(){return{page:1,loadings:{addBrand:!1,updateBrand:!1},brands:[],singleBrand:{brandID:null,brandName:null},rules:{brandName:[function(e){return null!=e&&e.length>0||"تکایە براند داخڵ بکە"}]},numberOfBrands:0}},created:function(){var e=this;this.getBrands(),this.$http.get("/essential/numberOfBrands").then((function(t){var s=t.data;e.numberOfBrands=s.numberOfBrands}))},mounted:function(){var e=this;this.emitter.$on("closeBrand",(function(){e.clearBrand()}))},methods:{getBrands:function(){var e=this;this.$http.get("/essential/getLimitedBrands/"+6*(this.page-1)).then((function(t){var s=t.data;e.brands=s}))},addBrand:function(){var e=this;this.$refs.formBrand.validate()&&(this.loadings.addBrand=!0,this.$http.post("/essential/addBrand",{brandName:this.singleBrand.brandName}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),1==e.page&&(e.brands.unshift({brandID:s.brandID,brandName:e.singleBrand.brandName}),e.brands.length>6&&e.brands.pop()),++e.numberOfBrands,e.clearBrand()})).finally((function(){e.loadings.addBrand=!1})))},updateBrand:function(e,t){var s=this,n=this.brands[t].brandName;n?(this.loadings.updateBrand=!0,this.$http.patch("/essential/updateBrand/"+e,{brandName:n}).then((function(){s.singleBrand.brandID=null,s.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})).finally((function(){s.loadings.updateBrand=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە براندەکە داخڵ بکە"})},clearBrand:function(){this.singleBrand.brandID=null,this.singleBrand.brandName=null,this.$refs.formBrand.resetValidation()}},watch:{page:function(){this.getBrands()}},beforeDestroy:function(){this.emitter.$off("closeBrand")}},H=Q,G=Object(l["a"])(H,W,M,!1,null,null,null),z=G.exports;u()(G,{VBtn:$["a"],VCol:w["a"],VForm:A["a"],VIcon:N["a"],VPagination:U["a"],VRow:T["a"],VSimpleTable:L["a"],VTextField:F["a"]});var K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formShelf",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"نــاو",outlined:"",dense:"",rules:e.rules.shelfName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addShelf()}},model:{value:e.singleShelf.shelfName,callback:function(t){e.$set(e.singleShelf,"shelfName","string"===typeof t?t.trim():t)},expression:"singleShelf.shelfName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addShelf,disabled:!e.singleShelf.shelfName},on:{click:function(t){return e.addShelf()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.clearShelf()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" نــاو ")]),s("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.shelfs,(function(t,n){return s("tr",{key:t.shelfID},[s("td",[e._v(" "+e._s(n+1)+" ")]),t.shelfID!=e.singleShelf.shelfID?s("td",[e._v(" "+e._s(t.shelfName)+" ")]):s("td",[s("v-text-field",{attrs:{dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.updateShelf(t.shelfID,n)}},model:{value:e.shelfs[n].shelfName,callback:function(t){e.$set(e.shelfs[n],"shelfName","string"===typeof t?t.trim():t)},expression:"shelfs[index].shelfName"}})],1),s("td",[t.shelfID!=e.singleShelf.shelfID?s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.singleShelf.shelfID=t.shelfID}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):s("v-btn",{attrs:{icon:"",color:"success"},on:{click:function(s){return e.updateShelf(t.shelfID,n)}}},[s("v-icon",[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])})],1)},J=[],X={data:function(){return{loadings:{addShelf:!1,updateShelf:!1},shelfs:[],singleShelf:{shelfID:null,shelfName:null},rules:{shelfName:[function(e){return null!=e&&e.length>0||"تکایە ڕەفە داخڵ بکە"}]}}},created:function(){var e=this;this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s}))},mounted:function(){var e=this;this.emitter.$on("closeShelf",(function(){e.clearShelf()}))},methods:{addShelf:function(){var e=this;this.$refs.formShelf.validate()&&(this.loadings.addShelf=!0,this.$http.post("/essential/addShelf",{shelfName:this.singleShelf.shelfName}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.shelfs.unshift({shelfID:s.shelfID,shelfName:e.singleShelf.shelfName}),e.clearShelf()})).finally((function(){e.loadings.addShelf=!1})))},updateShelf:function(e,t){var s=this,n=this.shelfs[t].shelfName;n?(this.loadings.updateShelf=!0,this.$http.patch("/essential/updateShelf/"+e,{shelfName:n}).then((function(){s.singleShelf.shelfID=null,s.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})).finally((function(){s.loadings.updateShelf=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە ڕەفەکە داخڵ بکە"})},clearShelf:function(){this.singleShelf.shelfID=null,this.singleShelf.shelfName=null,this.$refs.formShelf.resetValidation()}},beforeDestroy:function(){this.emitter.$off("closeShelf")}},Y=X,Z=Object(l["a"])(Y,K,J,!1,null,null,null),ee=Z.exports;u()(Z,{VBtn:$["a"],VCol:w["a"],VForm:A["a"],VIcon:N["a"],VRow:T["a"],VSimpleTable:L["a"],VTextField:F["a"]});var te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formUnit",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"مەخزەن",outlined:"",dense:"",rules:e.rules.unitName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addUnit()}},model:{value:e.singleUnit.unitName,callback:function(t){e.$set(e.singleUnit,"unitName","string"===typeof t?t.trim():t)},expression:"singleUnit.unitName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addUnit,disabled:!e.singleUnit.unitName},on:{click:function(t){return e.addUnit()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.clearUnit()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" مەخزەن ")]),s("th",{staticClass:"text-center",staticStyle:{}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.units,(function(t,n){return s("tr",{key:t.unitID},[s("td",[e._v(" "+e._s(n+1)+" ")]),t.unitID!=e.singleUnit.unitID?s("td",[e._v(" "+e._s(t.unitName)+" ")]):s("td",[s("v-text-field",{attrs:{dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.updateUnit(t.unitID,n)}},model:{value:e.units[n].unitName,callback:function(t){e.$set(e.units[n],"unitName","string"===typeof t?t.trim():t)},expression:"units[index].unitName"}})],1),s("td",[t.unitID!=e.singleUnit.unitID?s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.singleUnit.unitID=t.unitID}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):s("v-btn",{attrs:{icon:"",color:"success",loading:e.loadings.updateUnit},on:{click:function(s){return e.updateUnit(t.unitID,n)}}},[s("v-icon",[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])})],1)},se=[],ne={data:function(){return{loadings:{addUnit:!1,updateUnit:!1},units:[],singleUnit:{unitID:null,unitName:null,shortName:null},rules:{unitName:[function(e){return null!=e&&e.length>0||"تکایە یەکە داخڵ بکە"}],shortName:[function(e){return null!=e&&e.length>0||"تکایە ناوی کورتکراوەی یەکە داخڵ بکە"}]}}},created:function(){var e=this;this.$http.get("/essential/getUnits").then((function(t){var s=t.data;e.units=s}))},mounted:function(){var e=this;this.emitter.$on("closeUnit",(function(){e.clearUnit()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},addUnit:function(){var e=this;this.$refs.formUnit.validate()&&(this.loadings.addUnit=!0,this.$http.post("/essential/addUnit",{unitName:this.singleUnit.unitName,shortName:this.singleUnit.shortName}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.units.unshift({unitID:s.unitID,unitName:e.singleUnit.unitName,shortName:e.singleUnit.shortName}),e.clearUnit()})).finally((function(){e.loadings.addUnit=!1})))},updateUnit:function(e,t){var s=this,n=this.units[t].unitName;n?(this.loadings.updateUnit=!0,this.$http.patch("/essential/updateUnit/"+e,{unitName:n,shortName:null}).then((function(){s.singleUnit.unitID=null,s.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})).finally((function(){s.loadings.updateUnit=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە مەخزەن داخڵ بکە"})},clearUnit:function(){this.singleUnit.unitID=null,this.singleUnit.unitName=null,this.singleUnit.shortName=null,this.$refs.formUnit.resetValidation()}},beforeDestroy:function(){this.emitter.$off("closeUnit")}},ae=ne,ie=Object(l["a"])(ae,te,se,!1,null,null,null),re=ie.exports;u()(ie,{VBtn:$["a"],VCol:w["a"],VForm:A["a"],VIcon:N["a"],VRow:T["a"],VSimpleTable:L["a"],VTextField:F["a"]});var oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-text",[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("زانیاری گەڕان بۆ فرۆشراوەکان : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"3"}},[s("v-select",{attrs:{label:"خاوەندارێتی",outlined:"",dense:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.shelfID=null}},model:{value:e.search.shelfID,callback:function(t){e.$set(e.search,"shelfID",t)},expression:"search.shelfID"}})],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"3"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"3"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},n))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"2",lg:"2"}},[s("v-btn",{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"3",xl:"2"}},[s("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",a,!1),n),[e._v(" کۆی گشتی ")])]}}])},[s("v-card",[s("v-card-title",[s("span",[e._v(" کۆی گشتی کاڵا فرۆشراوەکان ")])]),s("v-divider"),s("v-card-text",[s("v-data-table",{attrs:{loading:e.loadings.table,headers:e.getItemsWithTotalHeader,items:e.filteredItemsWithTotal,"footer-props":{"items-per-page-options":[15,20,25]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.qty)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.total.toLocaleString())+" $ ")])])]}}])})],1)],1)],1)],1)],1),s("v-data-table",{attrs:{loading:e.loadings.table,headers:e.getItemsHeader,items:e.filteredItems,"footer-props":{"items-per-page-options":[15,20,25]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.invoiceID)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.qty)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.productPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((n.productPrice*n.qty).toLocaleString())+" $ ")])])]}}])})],1)},le=[],ce=(s("ac1f"),s("1276"),s("841c"),{data:function(){return{loadings:{clearSearch:!1,table:!1},dialogs:{itemsWithTotal:!1},search:{shelfID:null,userID:null,fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0]},users:[],items:[],shelfs:[],itemsWithTotal:[],menu2:!1,menu3:!1}},created:function(){var e=this;this.$http.get("/user/allUser").then((function(t){var s=t.data;e.users=s})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s})),this.getAllItems()},methods:{clearSearch:function(){this.search.shelfID=null,this.search.userID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},getAllItems:function(){var e=this;this.items=[],this.itemsWithTotal=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&(this.loadings.table=!0,this.$http.get("/item/getSoldedItems/"+this.search.fromDate+"/"+this.search.toDate).then((function(t){var s=t.data;e.items=s.items,e.itemsWithTotal=s.itemsWithTotal})).finally((function(){return e.loadings.table=!1})))}},computed:{getItemsHeader:function(){return[{text:"ژ.وەصڵ",align:"center",value:"invoiceID",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانەی فرۆشراو",align:"center",value:"qty",sortable:!0},{text:"نرخی دانە",align:"center",value:"productPrice",sortable:!0},{text:"کۆی گشتی",align:"center",sortable:!1}]},getItemsWithTotalHeader:function(){return[{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانەی فرۆشراو",align:"center",value:"qty",sortable:!0},{text:"کۆی گشتی",align:"center",value:"total",sortable:!0}]},filteredItems:function(){var e=this;return this.items.filter((function(t){return!e.search.shelfID||t.shelfID==e.search.shelfID}))},filteredItemsWithTotal:function(){var e=this;return this.itemsWithTotal.filter((function(t){return!e.search.shelfID||t.shelfID==e.search.shelfID}))}},watch:{"search.fromDate":function(){this.getAllItems()},"search.toDate":function(){this.getAllItems()}}}),ue=ce,de=s("b0af"),me=s("99d9"),pe=s("a523"),ve=s("8fea"),he=s("2e4b"),fe=s("169a"),ge=s("ce7e"),be=s("cd55"),xe=s("49e2"),ye=s("c865"),De=s("0393"),Ie=s("e449"),_e=s("b974"),ke=Object(l["a"])(ue,oe,le,!1,null,null,null),Se=ke.exports;u()(ke,{VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDatePicker:he["a"],VDialog:fe["a"],VDivider:ge["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:De["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VSelect:_e["a"],VTextField:F["a"]});for(var Ce=function(e){return{s:"فرۆشتن",rs:"گەڕاندنەوەی فرۆشراو",rds:"هێنانەوەی قەرز",p:"کڕین",rp:"گەڕاندنەوەی کڕدراو",rdp:"دانەوەی قەرز",d:"تەلەف",c:"کاش"}[e]},$e=function(e){return{c:"کاش",d:"قەرز",rd:"پسووڵەی قەرز"}[e]},we=function(e){return{recived:"وەرگیراو",ordered:"کڕدراو",pending:"لە چاوەڕوانیدایە"}[e]},Ne=function(e){return{s:"فرۆشتن",rs:"گەڕاوەی فرۆشراو",p:"کڕین",rp:"گەڕاوەی کڕدراو",exp:"خـەرجی",rdp:"دانەوەی قەرزی کۆمپانیا",rds:"وەرگرتنەوەی قەرزی کڕیار",in:"زیادکردن بۆ قاسە",out:"دەرهێنان لە قاسە"}[e]},Te=s("313e"),Pe=new Date,Ve=[],Re=0;Re<7;Re++)Ve.unshift(Pe.toLocaleString("default",{weekday:"short"})),Pe.setDate(Pe.getDate()-1);var Ee={name:"Index",components:{card:V,formCategory:j,formBrand:z,formShelf:ee,formUnit:re,itemSaleReport:Se},data:function(){return{dialogs:{category:!1,brand:!1,shelf:!1,unit:!1,role:!1,decreasedItems:!1,expiredItems:!1,expiredItems15:!1,todayExpenses:!1,todaySold:!1,todayPurchase:!1,purchaseDetail:!1,invoiceDetail:!1},sheets:{category:!1,brand:!1,shelf:!1,unit:!1,role:!1},loadings:{invoiceDetail:!1,purchaseDetail:!1,updateDollar:!1},pages:{decreasedItems:1,expiredItems:1,expiredItems15:1},numberOfItems:0,numberOfUsers:0,todaySold:[],totalExpense:0,invoiceDetail:{invoiceID:null,items:[]},todayPurchase:[],purchaseDetail:{referenceNo:null,items:[]},lackInStockItems:[],dollarPrice:0,rules:{dollarRule:[function(e){return Number(e)>=0||"نرخی دۆلار ئەبێت لە 0 گەورەتر بێت"}]},getTopSaleByCat:[],shelfs:[],searchLackInStock:"",searchOwnerLackInStock:null,option:{title:{text:"زۆرترین فرۆش بە پێی جۆر",left:"center"},tooltip:{trigger:"جۆر"},legend:{orient:"vertical",left:"left"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"Access From",type:"pie",radius:"50%",data:[]}]},optionToday:{title:{text:"زۆرترین فرۆشتنی ئەمڕۆ بە پێی جۆر",left:"center"},tooltip:{trigger:"جۆر"},legend:{orient:"vertical",left:"left"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"Access From",type:"pie",radius:"50%",data:[]}]},option2:{title:{text:"کڕین و فرۆشتن"},tooltip:{trigger:"axis"},legend:{data:["فرۆشتن","کڕین"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:Ve},yAxis:{type:"value"},series:[{name:"فرۆشتن",type:"line",stack:"Sale",data:[]},{name:"کڕین",type:"line",stack:"Purchase",data:[]}]}}},created:function(){var e=this;this.$http.get("/item/countAllItems").then((function(t){var s=t.data;e.numberOfItems=s.numberOfItems})),this.$http.get("/user/countAllUsers").then((function(t){var s=t.data;e.numberOfUsers=s.numberOfUsers})),this.$http.get("/invoice/todaySold").then((function(t){var s=t.data;e.todaySold=s})),this.$http.get("/expense/todayTotalExpense").then((function(t){var s=t.data;e.totalExpense=s.total})),this.$http.get("/item/lackInStock").then((function(t){var s=t.data;e.lackInStockItems=s})),this.$http.get("/generalReport/getTodayPurchases").then((function(t){var s=t.data;e.todayPurchase=s})),this.$http.get("/essential/getDollarPrice").then((function(t){var s=t.data;e.$store.commit("updateDollar",s.dollarPrice),e.dollarPrice=s.dollarPrice})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s}))},mounted:function(){this.chart()},methods:{chart:function(){var e=this,t=Te["a"](document.getElementById("chart")),s=Te["a"](document.getElementById("lineChart")),n=Te["a"](document.getElementById("chartToday"));this.$http.get("/generalReport/getTopSaleByCat").then((function(s){var n=s.data;e.option.series[0].data=n.getTopSaleByCat.map((function(e){return{value:e.totalSale,name:e.categoryName}})),t.setOption(e.option)})),this.$http.get("/generalReport/getTopSaleByCatToday").then((function(t){var s=t.data;e.optionToday.series[0].data=s.getTopSaleByCat.map((function(e){return{value:e.totalSale,name:e.categoryName}})),n.setOption(e.optionToday)})),this.$http.get("/generalReport/getSaleAndPurchase").then((function(t){var n=t.data;e.option2.series[0].data[6]=n.todaySale,e.option2.series[0].data[5]=n.PreviousOneDaySale,e.option2.series[0].data[4]=n.PreviousTwoDaySale,e.option2.series[0].data[3]=n.PreviousThreeDaySale,e.option2.series[0].data[2]=n.PreviousFourDaySale,e.option2.series[0].data[1]=n.PreviousFiveDaySale,e.option2.series[0].data[0]=n.PreviousSixDaySale,e.option2.series[1].data[6]=n.todayPurchase,e.option2.series[1].data[5]=n.PreviousOneDayPurchase,e.option2.series[1].data[4]=n.PreviousTwoDayPurchase,e.option2.series[1].data[3]=n.PreviousThreeDayPurchase,e.option2.series[1].data[2]=n.PreviousFourDayPurchase,e.option2.series[1].data[1]=n.PreviousFiveDayPurchase,e.option2.series[1].data[0]=n.PreviousSixDayPurchase,s.setOption(e.option2)})),window.addEventListener("resize",(function(){setTimeout((function(){t.resize(),s.resize(),n.resize()}),200)}))},getInvoiceDetail:function(e){var t=this;this.invoiceDetail.invoiceID=null,this.invoiceDetail.items=[],this.loadings.invoiceDetail=!0,this.dialogs.invoiceDetail=!0,this.$http.get("/invoice/searchInvoice/"+e).then((function(s){var n=s.data;t.invoiceDetail.invoiceID=e,t.invoiceDetail.items=n.invoiceItems})).catch((function(e){t.emitter.$emit("notify",{type:"error",text:e.response.data.message})})).finally((function(){return t.loadings.invoiceDetail=!1}))},getPurchaseDetail:function(e,t){var s=this;this.purchaseDetail.referenceNo=null,this.purchaseDetail.items=[],this.loadings.purchaseDetail=!0,this.dialogs.purchaseDetail=!0,this.$http.get("/generalReport/getPurchaseDetail/"+e).then((function(e){var n=e.data;s.purchaseDetail.referenceNo=t,s.purchaseDetail.items=n})).finally((function(){return s.loadings.purchaseDetail=!1}))},updateDollar:function(){var e=this;this.$refs.formDollar.validate()&&(this.loadings.updateDollar=!0,this.$http.patch("/essential/updateDollar",{dollarPrice:this.dollarPrice}).then((function(){e.$store.commit("updateDollar",e.dollarPrice),e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})).finally((function(){return e.loadings.updateDollar=!1})))}},computed:{decreasedItemsHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"باڕکۆد",align:"center",value:"itemCode",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانەی ماوە لە مەخزەن",align:"center",value:"totalInStock",sortable:!0}]},todaySoldHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"ژ.وەصڵ",align:"center",value:"invoiceID",sortable:!1},{text:"کڕیار",align:"center",value:"customerName",sortable:!1},{text:"کۆی گشتی",align:"center",value:"totalPrice",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"وردەکاری",align:"center",sortable:!1}]},invoiceDetailHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانە",align:"center",value:"qty",sortable:!1},{text:"نرخ",align:"center",value:"productPrice",sortable:!1},{text:"کۆی نرخ",align:"center",sortable:!1}]},todayPurchaseHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"ژ.وەصڵ",align:"center",value:"referenceNo",sortable:!1},{text:"کۆمپانیا",align:"center",value:"supplierName",sortable:!1},{text:"کۆی گشتی",align:"center",value:"totalPrice",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"پارەی دراو",align:"center",value:"amountPay",sortable:!0},{text:"جۆری کڕین",align:"center",value:"paymentType",sortable:!1},{text:"جۆری وەصڵ",align:"center",value:"PurchaseStatus",sortable:!1},{text:"بەکارهێنەر",align:"center",value:"user",sortable:!1},{text:"وردەکاری",align:"center",sortable:!1}]},purchaseDetailHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"نرخی کڕین",align:"center",value:"costPrice",sortable:!0},{text:"دانە",align:"center",value:"qty",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"نرخی کڕین دوای داشکاندن",align:"center",value:"costAfterDisc",sortable:!0},{text:"کۆی گشتی",align:"center",sortable:!0}]},getTotalSoldToday:function(){return this.todaySold.reduce((function(e,t){return e+t.totalPrice}),0)},getTotalPurchaseToday:function(){return this.todayPurchase.reduce((function(e,t){return e+t.totalPrice}),0)},filteredLackItems:function(){var e=this;return this.lackInStockItems.filter((function(t){return!e.searchOwnerLackInStock||t.shelfID==e.searchOwnerLackInStock}))}},filters:{invoiceType:$e,purchaseStatus:we}},Oe=Ee,Be=s("288c"),Ae=s("cc20"),Ue=s("8dd9"),Le=s("2fa4"),Fe=s("269a"),qe=s.n(Fe),je=s("a293"),We=Object(l["a"])(Oe,y,D,!1,null,null,null),Me=We.exports;u()(We,{VBottomSheet:Be["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VChip:Ae["a"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VForm:A["a"],VIcon:N["a"],VRow:T["a"],VSelect:_e["a"],VSheet:Ue["a"],VSpacer:Le["a"],VTextField:F["a"]}),qe()(We,{ClickOutside:je["a"]});var Qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("v-select",{attrs:{label:"جۆر",outlined:"",dense:"",items:e.categories,"item-text":"categoryName","item-value":"categoryID","append-icon":"mdi-shape-outline",clearable:""},model:{value:e.groupSearches.categoryID,callback:function(t){e.$set(e.groupSearches,"categoryID",t)},expression:"groupSearches.categoryID"}})],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("v-select",{attrs:{label:"براند",outlined:"",dense:"",items:e.brands,"item-text":"brandName","item-value":"brandID","append-icon":"far fa-copyright",clearable:""},model:{value:e.groupSearches.brandID,callback:function(t){e.$set(e.groupSearches,"brandID",t)},expression:"groupSearches.brandID"}})],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("v-select",{attrs:{label:"خاوەندارێتی",outlined:"",dense:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID","append-icon":"mdi-account-tie",clearable:""},model:{value:e.groupSearches.shelfID,callback:function(t){e.$set(e.groupSearches,"shelfID",t)},expression:"groupSearches.shelfID"}})],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("v-select",{attrs:{label:"مەخزەنەکان",outlined:"",dense:"",items:e.units,"item-text":"unitName","item-value":"unitID","append-icon":"mdi-warehouse",clearable:""},model:{value:e.groupSearches.unitID,callback:function(t){e.$set(e.groupSearches,"unitID",t)},expression:"groupSearches.unitID"}})],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"2",lg:"2"}},[s("v-chip",{staticStyle:{width:"100%",height:"40px"},attrs:{label:""}},[e._v(" فلتەری نرخی کڕین لە نێوان: ")])],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"1",lg:"1"}},[s("v-text-field",{attrs:{outlined:"",dense:""},model:{value:e.firstBuyPrice,callback:function(t){e.firstBuyPrice=t},expression:"firstBuyPrice"}})],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"1",lg:"1"}},[s("v-chip",{staticStyle:{width:"100%",height:"40px"},attrs:{label:""}},[e._v(" بــۆ: ")])],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"1",lg:"1"}},[s("v-text-field",{attrs:{outlined:"",dense:""},model:{value:e.secondBuyPrice,callback:function(t){e.secondBuyPrice=t},expression:"secondBuyPrice"}})],1),s("v-spacer"),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("v-chip",{staticStyle:{width:"100%",height:"40px"},attrs:{label:""}},[e._v(" کاڵا تـەواوبـووەکـان "),s("v-switch",{staticClass:"mx-5",attrs:{inset:""},model:{value:e.groupSearches.outOfStock,callback:function(t){e.$set(e.groupSearches,"outOfStock",t)},expression:"groupSearches.outOfStock"}})],1)],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"12",lg:"12"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-col",{staticClass:"pt-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("card",{attrs:{color:"primary",icon:"mdi-archive",text:"ژمارەی کاڵاکان",data:e.filteredItems.length.toLocaleString()}})],1),s("v-col",{staticClass:"pt-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("card",{attrs:{color:"primary",icon:"mdi-chart-scatter-plot-hexbin",text:"کۆی عەدەدی ماوە",data:e.getTotalInStock.toLocaleString()}})],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{staticClass:"pt-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("card",{attrs:{color:"info",icon:"mdi-currency-usd",text:"کۆی نرخی کڕین",data:e.getTotalCostPrice.toLocaleString()+" $"}})],1),s("v-col",{staticClass:"pt-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("card",{attrs:{color:"success",icon:"mdi-currency-usd",text:"کۆی نرخی فرۆشتن",data:e.getTotalRetailPrice.toLocaleString()+" $"}})],1)],1),s("v-divider",{staticClass:"my-3"}),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-dialog",{attrs:{persistent:"",eager:"",width:"95%"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-alert",e._g(e._b({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"px-3 py-1 text-center",attrs:{color:"success",outlined:"",text:""}},"v-alert",a,!1),n),[s("v-icon",{attrs:{left:"",color:"success"}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کاڵا ")],1)]}}]),model:{value:e.dialogs.item,callback:function(t){e.$set(e.dialogs,"item",t)},expression:"dialogs.item"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری کاڵا ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeItem"),e.dialogs.item=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-card-text",[s("formItem")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-btn",{attrs:{block:"",color:"primary"}},[s("download-excel",{attrs:{data:e.filteredItems,fields:e.fields}},[e._v(" Download Excel file "),s("v-icon",[e._v("mdi-file-excel-outline")])],1)],1)],1),s("v-spacer")],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.filteredItems,search:e.search,loading:e.loadings.table,"footer-props":{"items-per-page-options":[10,15,20,25,30]},"loading-text":"تکایە چاوەڕوانبە ..."},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemCode)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.categoryName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.brandName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.shelfName)+" ")]),s("td",{staticClass:"text-center"},[s("v-chip",{attrs:{color:n.totalInStock>0?"primary":"error"}},[e._v(" "+e._s(n.totalInStock.toLocaleString())+" ")])],1),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.costPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemPriceWhole.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemPriceRetail.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getItem(n)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteItem(n.itemID)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])]}}])}),s("notification")],1)},He=[],Ge=(s("c740"),s("a434"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formItem",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[e.cameraOpened?s("v-btn",{attrs:{color:"error",block:""},on:{click:function(t){e.cameraOpened=!1}}},[e._v(" داخستنەوەی بارکۆد سکانەر ")]):s("v-btn",{attrs:{color:"primary",block:""},on:{click:function(t){e.cameraOpened=!0}}},[e._v(" کردنەوەی بارکۆد سکانەر ")]),e.cameraOpened?s("StreamBarcodeReader",{on:{decode:e.onDecode,loaded:function(){return e.onLoaded()}}}):e._e()],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"باڕکۆد",outlined:"",dense:"",id:"item-code",clearable:"",rules:e.rules.itemCode,"validate-on-blur":""},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.setFocus("item-name"),e.searchItemByCode()}},model:{value:e.singleItem.itemCode,callback:function(t){e.$set(e.singleItem,"itemCode","string"===typeof t?t.trim():t)},expression:"singleItem.itemCode"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"ناوی کاڵا",outlined:"",dense:"",id:"item-name",rules:e.rules.itemName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("category")}},model:{value:e.singleItem.itemName,callback:function(t){e.$set(e.singleItem,"itemName","string"===typeof t?t.trim():t)},expression:"singleItem.itemName"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-select",{attrs:{label:"جۆر",outlined:"",dense:"",clearable:"",items:e.categories,"item-value":"categoryID","item-text":"categoryName",id:"category"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("brand")}},model:{value:e.singleItem.categoryID,callback:function(t){e.$set(e.singleItem,"categoryID",t)},expression:"singleItem.categoryID"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-select",{attrs:{label:"براند",outlined:"",dense:"",clearable:"",items:e.brands,"item-value":"brandID","item-text":"brandName",id:"brand"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("shelf")}},model:{value:e.singleItem.brandID,callback:function(t){e.$set(e.singleItem,"brandID",t)},expression:"singleItem.brandID"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-select",{attrs:{label:"خاوەندارێتی",outlined:"",dense:"",clearable:"",items:e.shelfs,"item-value":"shelfID","item-text":"shelfName",id:"shelf",rules:e.rules.shelf,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("unit")}},model:{value:e.singleItem.shelfID,callback:function(t){e.$set(e.singleItem,"shelfID",t)},expression:"singleItem.shelfID"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-select",{attrs:{label:"مەخزەن",outlined:"",dense:"",clearable:"",items:e.units,"item-value":"unitID","item-text":"unitName",id:"unit",rules:e.rules.unit,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("perUnit")}},model:{value:e.singleItem.unitID,callback:function(t){e.$set(e.singleItem,"unitID",t)},expression:"singleItem.unitID"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"نرخی کڕین",outlined:"",dense:"",type:"number",prefix:"$",min:"1",id:"cost-price",rules:e.rules.costPrice,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("price-retail")}},model:{value:e.singleItem.costPrice,callback:function(t){e.$set(e.singleItem,"costPrice",e._n(t))},expression:"singleItem.costPrice"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"نرخی فرۆشتنی تاک",outlined:"",dense:"",type:"number",prefix:"$",min:"1",id:"price-retail",rules:e.rules.itemPriceRetail,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("price-whole")}},model:{value:e.singleItem.itemPriceRetail,callback:function(t){e.$set(e.singleItem,"itemPriceRetail",e._n(t))},expression:"singleItem.itemPriceRetail"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"نرخی فرۆشتنی کۆ",outlined:"",dense:"",type:"number",prefix:"$",min:"1",id:"price-whole",rules:e.rules.itemPriceWhole,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("stock-alert")}},model:{value:e.singleItem.itemPriceWhole,callback:function(t){e.$set(e.singleItem,"itemPriceWhole",e._n(t))},expression:"singleItem.itemPriceWhole"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"ئاگادارکردنەوە لە کەمبوون (دانە)",outlined:"",dense:"",type:"number",min:"1",id:"stock-alert",rules:e.rules.stockAlert,"validate-on-blur":""},model:{value:e.singleItem.stockAlert,callback:function(t){e.$set(e.singleItem,"stockAlert",e._n(t))},expression:"singleItem.stockAlert"}})],1)],1),s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-checkbox",{attrs:{label:"دەرکەوتن لە جەرد",color:"primary"},model:{value:e.singleItem.hideInStock,callback:function(t){e.$set(e.singleItem,"hideInStock",t)},expression:"singleItem.hideInStock"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-checkbox",{attrs:{label:"دەرکەوتن بە دوگمە",color:"primary"},model:{value:e.singleItem.showButton,callback:function(t){e.$set(e.singleItem,"showButton",t)},expression:"singleItem.showButton"}})],1)],1),s("v-row",{staticClass:"px-3"},[s("v-textarea",{attrs:{label:"تـێبـینی",outlined:"",dense:"","no-resize":""},model:{value:e.singleItem.note,callback:function(t){e.$set(e.singleItem,"note","string"===typeof t?t.trim():t)},expression:"singleItem.note"}})],1),s("v-row",{staticClass:"my-0 px-3"},[e.singleItem.itemID?s("v-btn",{attrs:{color:"warning",block:"",loading:e.loadings.updateItem},on:{click:function(t){return e.updateItem()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{color:"success",block:"",loading:e.loadings.addItem},on:{click:function(t){return e.addItem()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{cols:"12",md:"4"}},[s("input",{attrs:{type:"file"},on:{change:e.processFile}}),s("v-divider",{staticClass:"mt-2"}),e.singleItem.imagePath?s("v-img",{attrs:{src:"/item/image/"+e.singleItem.imagePath}}):e._e(),e.singleItem.itemID?s("v-btn",{staticClass:"mt-2",attrs:{color:"primary",block:"",disabled:!e.singleItem.imageFile,loading:e.loadings.updateImage},on:{click:function(t){return e.updateImage()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-autorenew ")]),e._v(" نوێکردنەوەی وێنە ")],1):e._e(),e.singleItem.imagePath?s("v-btn",{staticClass:"mt-2",attrs:{color:"error",block:"",loading:e.loadings.deleteImage},on:{click:function(t){return e.deleteImage()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v(" سڕینەوەی وێنە ")],1):e._e(),s("v-btn",{staticClass:"mt-2",attrs:{color:"info",block:""},on:{click:function(t){e.clearItem(),e.setFocus("item-code")}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-broom ")]),e._v(" پاکردنەوە ")],1)],1)],1)],1)],1)}),ze=[],Ke=(s("7db0"),s("25f0"),s("f337")),Je={components:{StreamBarcodeReader:Ke["a"]},data:function(){return{cameraOpened:!1,loadings:{addItem:!1,updateItem:!1,updateImage:!1,deleteImage:!1},categories:[],brands:[],shelfs:[],units:[],singleItem:{itemID:null,itemCode:null,itemName:null,categoryID:null,brandID:null,shelfID:null,unitID:null,perUnit:1,costPrice:0,itemPriceRetail:0,itemPriceWhole:0,stockAlert:0,imagePath:null,imageFile:null,hideInStock:!0,showButton:!0,note:null},userID:null,rules:{itemCode:[function(e){return null!=e&&e.length>0||"تکایە باڕکۆد داخڵ بکە"}],itemName:[function(e){return null!=e&&e.length>0||"تکایە ناوی کاڵا داخڵ بکە"}],unit:[function(e){return null!=e&&Number(e)>0||"تکایە مەخزەن هەڵبژێرە"}],shelf:[function(e){return null!=e&&Number(e)>0||"تکایە خاوەندارێتی هەڵبژێرە"}],perUnit:[function(e){return null!=e&&Number(e)>0||"تکایە عەدەد بۆ هەر یەکەیەک بە دروستی داخڵ بکە"}],costPrice:[function(e){return null!=e&&Number(e)>=0||"تکایە نرخی کڕین بەدروستی داخڵ بکە"}],itemPriceRetail:[function(e){return null!=e&&Number(e)>=0||"تکایە نرخی فرۆشتنی تاک بەدروستی داخڵ بکە"}],itemPriceWhole:[function(e){return null!=e&&Number(e)>=0||"تکایە نرخی فرۆشتنی کۆ بەدروستی داخڵ بکە"}],stockAlert:[function(e){return null!=e&&Number(e)>=0||"تکایە ئاگادارکردنەوە لە کەمبوون بە دروستی داخڵ بکە"}]}}},created:function(){var e=this;this.$http.get("/essential/getCategories").then((function(t){var s=t.data;e.categories=s})),this.$http.get("/essential/getBrands").then((function(t){var s=t.data;e.brands=s})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s})),this.$http.get("/essential/getUnits").then((function(t){var s=t.data;e.units=s})),this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID}))},mounted:function(){var e=this;this.emitter.$on("openItem",(function(t){e.singleItem.itemID=t.itemID,e.singleItem.itemCode=t.itemCode,e.singleItem.itemName=t.itemName,e.singleItem.categoryID=t.categoryID,e.singleItem.brandID=t.brandID,e.singleItem.shelfID=t.shelfID,e.singleItem.unitID=t.unitID,e.singleItem.perUnit=t.perUnit,e.singleItem.costPrice=t.costPrice,e.singleItem.itemPriceRetail=t.itemPriceRetail,e.singleItem.itemPriceWhole=t.itemPriceWhole,e.singleItem.stockAlert=t.stockAlert,e.singleItem.imagePath=t.image,e.singleItem.hideInStock=Boolean(Number(t.hideInStock)),e.singleItem.showButton=Boolean(Number(t.showButton)),e.singleItem.note=t.note})),this.emitter.$on("closeItem",(function(){e.clearItem()}))},methods:{onDecode:function(e){this.singleItem.itemCode=e},onLoaded:function(){console.log("Loaded")},setFocus:function(e){document.getElementById(e).focus()},processFile:function(e){this.singleItem.imageFile=e.target.files[0]},clearItem:function(){this.singleItem.itemID=null,this.singleItem.itemCode=null,this.singleItem.itemName=null,this.singleItem.categoryID=null,this.singleItem.brandID=null,this.singleItem.shelfID=null,this.singleItem.unitID=null,this.singleItem.perUnit=1,this.singleItem.costPrice=0,this.singleItem.itemPriceRetail=0,this.singleItem.itemPriceWhole=0,this.singleItem.stockAlert=0,this.singleItem.imagePath=null,this.singleItem.imageFile=null,this.singleItem.hideInStock=!0,this.singleItem.showButton=!0,this.singleItem.note=null,this.$refs.formItem.resetValidation()},searchItemByCode:function(){var e=this;this.$http.get("/item/getItemByCode/"+this.singleItem.itemCode).then((function(t){var s=t.data;s&&(e.singleItem.itemID=s.itemID,e.singleItem.itemName=s.itemName,e.singleItem.categoryID=s.categoryID,e.singleItem.brandID=s.brandID,e.singleItem.shelfID=s.shelfID,e.singleItem.unitID=s.unitID,e.singleItem.perUnit=s.perUnit,e.singleItem.costPrice=s.costPrice,e.singleItem.itemPriceRetail=s.itemPriceRetail,e.singleItem.itemPriceWhole=s.itemPriceWhole,e.singleItem.stockAlert=s.stockAlert,e.singleItem.imagePath=s.image,e.singleItem.hideInStock=Boolean(Number(s.hideInStock)),e.singleItem.showButton=Boolean(Number(s.showButton)),e.singleItem.note=s.note)}))},addItem:function(){var e=this;if(this.$refs.formItem.validate()){this.loadings.addItem=!0;var t=new FormData;t.append("itemCode",this.singleItem.itemCode),t.append("itemName",this.singleItem.itemName),t.append("categoryID",this.singleItem.categoryID||""),t.append("brandID",this.singleItem.brandID||""),t.append("brandName",this.singleItem.brandID?this.brands.find((function(t){return t.brandID==e.singleItem.brandID})):""),t.append("shelfID",this.singleItem.shelfID||""),t.append("unitID",this.singleItem.unitID),t.append("perUnit",this.singleItem.perUnit),t.append("costPrice",this.singleItem.costPrice),t.append("itemPriceRetail",this.singleItem.itemPriceRetail),t.append("itemPriceWhole",this.singleItem.itemPriceWhole),t.append("stockAlert",this.singleItem.stockAlert),t.append("hideInStock",Number(this.singleItem.hideInStock).toString()),t.append("showButton",Number(this.singleItem.showButton).toString()),t.append("note",this.singleItem.note||""),t.append("userID",this.userID),t.append("itemImage",this.singleItem.imageFile),this.$http.post("/item/addItem",t).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("itemAdded",{itemID:s.itemID,itemCode:e.singleItem.itemCode,itemName:e.singleItem.itemName,categoryID:e.singleItem.categoryID,categoryName:(e.categories.find((function(t){return t.categoryID==e.singleItem.categoryID}))||{categoryName:null}).categoryName,brandID:e.singleItem.brandID,shelfID:e.singleItem.shelfID,shelfName:(e.shelfs.find((function(t){return t.shelfID==e.singleItem.shelfID}))||{shelfName:null}).shelfName,unitID:e.singleItem.unitID,perUnit:e.singleItem.perUnit,costPrice:e.singleItem.costPrice,itemPriceRetail:e.singleItem.itemPriceRetail,itemPriceWhole:e.singleItem.itemPriceWhole,stockAlert:e.singleItem.stockAlert,image:s.image,hideInStock:Number(e.singleItem.hideInStock).toString(),showButton:Number(e.singleItem.showButton).toString(),totalInStock:0,note:e.singleItem.note}),e.clearItem()})).finally((function(){return e.loadings.addItem=!1}))}},updateItem:function(){var e=this;this.$refs.formItem.validate()&&(this.loadings.updateItem=!0,this.$http.patch("/item/updateItem/"+this.singleItem.itemID,{itemCode:this.singleItem.itemCode,itemName:this.singleItem.itemName,categoryID:this.singleItem.categoryID,brandID:this.singleItem.brandID,shelfID:this.singleItem.shelfID,unitID:this.singleItem.unitID,perUnit:this.singleItem.perUnit,costPrice:this.singleItem.costPrice,itemPriceRetail:this.singleItem.itemPriceRetail,itemPriceWhole:this.singleItem.itemPriceWhole,stockAlert:this.singleItem.stockAlert,hideInStock:Number(this.singleItem.hideInStock).toString(),showButton:Number(this.singleItem.showButton).toString(),note:this.singleItem.note}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکارییەکە سەرکەوتوو بوو"}),e.emitter.$emit("itemUpdated",{itemID:e.singleItem.itemID,itemCode:e.singleItem.itemCode,itemName:e.singleItem.itemName,categoryID:e.singleItem.categoryID,categoryName:(e.categories.find((function(t){return t.categoryID==e.singleItem.categoryID}))||{categoryName:null}).categoryName,brandID:e.singleItem.brandID,shelfID:e.singleItem.shelfID,shelfName:(e.shelfs.find((function(t){return t.shelfID==e.singleItem.shelfID}))||{shelfName:null}).shelfName,unitID:e.singleItem.unitID,perUnit:e.singleItem.perUnit,costPrice:e.singleItem.costPrice,itemPriceRetail:e.singleItem.itemPriceRetail,itemPriceWhole:e.singleItem.itemPriceWhole,stockAlert:e.singleItem.stockAlert,hideInStock:Number(e.singleItem.hideInStock).toString(),showButton:Number(e.singleItem.showButton).toString(),note:e.singleItem.note})})).finally((function(){return e.loadings.updateItem=!1})))},updateImage:function(){var e=this;this.$confirm("دڵنیای لە نوێکردنەوەی وێنە ؟","","question").then((function(){e.loadings.updateImage=!0;var t=new FormData;t.append("itemImage",e.singleItem.imageFile),e.$http.patch("/item/updateImage/"+e.singleItem.itemID,t).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"نوێکردنەوەی وێنە سەرکەوتوو بوو"}),e.emitter.$emit("imageUpdated",{image:s.image}),e.singleItem.imagePath=s.image})).finally((function(){return e.loadings.updateImage=!1}))}))},deleteImage:function(){var e=this;this.$confirm("دڵنیای لە سڕینەوەی وێنە ؟","","question").then((function(){e.loadings.deleteImage=!0,e.$http.delete("/item/deleteImage/"+e.singleItem.itemID).then((function(){e.singleItem.imagePath=null})).finally((function(){return e.loadings.deleteImage=!1}))}))}},beforeDestroy:function(){this.emitter.$off("openItem"),this.emitter.$off("closeItem")}},Xe=Je,Ye=s("ac7c"),Ze=s("adda"),et=s("a844"),tt=Object(l["a"])(Xe,Ge,ze,!1,null,null,null),st=tt.exports;u()(tt,{VBtn:$["a"],VCheckbox:Ye["a"],VCol:w["a"],VDivider:ge["a"],VForm:A["a"],VIcon:N["a"],VImg:Ze["a"],VRow:T["a"],VSelect:_e["a"],VTextField:F["a"],VTextarea:et["a"]});var nt={name:"Items",components:{formItem:st,card:V},data:function(){return{page:1,dialogs:{item:!1},loadings:{table:!1},items:[],numberOfItems:0,search:"",groupSearches:{brandID:null,categoryID:null,shelfID:null,unitID:null,outOfStock:!1},brands:[],categories:[],shelfs:[],units:[],fields:{"باڕکۆد":"itemCode","ناوی کاڵا":"itemName","جۆر":"categoryName","براند":"brandName","خاوەندارێتی":"shelfName","نرخی کڕین":"costPrice","نرخی فرۆشتنی کۆ":"itemPriceWhole","نرخی فرۆشتنی تاک":"itemPriceRetail"},firstBuyPrice:0,secondBuyPrice:0}},created:function(){var e=this;this.getItems(),this.$http.get("/essential/getCategories").then((function(t){var s=t.data;e.categories=s})),this.$http.get("/essential/getBrands").then((function(t){var s=t.data;e.brands=s})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s})),this.$http.get("/essential/getUnits").then((function(t){var s=t.data;e.units=s}))},mounted:function(){var e=this;this.emitter.$on("itemAdded",(function(t){e.items.unshift(t)})),this.emitter.$on("itemUpdated",(function(t){var s=e.items.findIndex((function(e){return e.itemID==t.itemID}));e.items[s].itemCode=t.itemCode,e.items[s].itemName=t.itemName,e.items[s].categoryID=t.categoryID,e.items[s].categoryName=t.categoryName,e.items[s].shelfID=t.shelfID,e.items[s].shelfName=t.shelfName,e.items[s].brandID=t.brandID,e.items[s].unitID=t.unitID,e.items[s].perUnit=t.perUnit,e.items[s].costPrice=t.costPrice,e.items[s].itemPriceRetail=t.itemPriceRetail,e.items[s].itemPriceWhole=t.itemPriceWhole,e.items[s].stockAlert=t.stockAlert,e.items[s].hideInStock=t.hideInStock,e.items[s].showButton=t.showButton,e.items[s].note=t.note}))},methods:{getItems:function(){var e=this;this.items=[],this.loadings.table=!0,this.$http.get("/item/allItems").then((function(t){var s=t.data;e.items=s})).finally((function(){return e.loadings.table=!1}))},getItem:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.dialogs.item=!0,t.emitter.$emit("openItem",e);case 2:case"end":return s.stop()}}),s)})))()},deleteItem:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then((function(){var s=t.items.findIndex((function(t){return t.itemID==e}));t.$http.delete("/item/deleteItem/"+e).then((function(){t.items.splice(s,1)}))}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"باڕکۆد",value:"itemCode",align:"center",sortable:!1},{text:"ناوی کاڵا",value:"itemName",align:"center",sortable:!0},{text:"جۆر",value:"categoryName",align:"center",sortable:!1},{text:"براند",value:"brandName",align:"center",sortable:!1},{text:"خاوەندارێتی",value:"shelfName",align:"center",sortable:!1},{text:"دانەی ماوە",value:"totalInStock",align:"center",sortable:!1},{text:"نرخی کڕین",value:"costPrice",align:"center",sortable:!0},{text:"نرخی فرۆشتنی کۆ",value:"itemPriceWhole",align:"center",sortable:!0},{text:"نرخی فرۆشتنی تاک",value:"itemPriceRetail",align:"center",sortable:!0},{text:"کردارەکان",align:"center",sortable:!1}]},filteredItems:function(){var e=this;return this.items.filter((function(t){return(!e.groupSearches.categoryID||t.categoryID==e.groupSearches.categoryID)&&(!e.groupSearches.brandID||t.brandID==e.groupSearches.brandID)&&(!e.groupSearches.shelfID||t.shelfID==e.groupSearches.shelfID)&&(!e.groupSearches.unitID||t.unitID==e.groupSearches.unitID)&&(0==e.firstBuyPrice&&0==e.secondBuyPrice||t.costPrice>=e.firstBuyPrice&&t.costPrice<=e.secondBuyPrice)&&(!e.groupSearches.outOfStock||0==t.totalInStock)}))},getTotalInStock:function(){return this.filteredItems.reduce((function(e,t){return e+t.totalInStock}),0)},getTotalCostPrice:function(){return this.filteredItems.reduce((function(e,t){return e+t.costPrice*t.totalInStock}),0)},getTotalRetailPrice:function(){return this.filteredItems.reduce((function(e,t){return e+t.itemPriceRetail*t.totalInStock}),0)}},beforeDestroy:function(){this.emitter.$off("itemAdded"),this.emitter.$off("itemUpdated")}},at=nt,it=s("b73d"),rt=s("5607"),ot=Object(l["a"])(at,Qe,He,!1,null,null,null),lt=ot.exports;u()(ot,{VAlert:C["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VChip:Ae["a"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VRow:T["a"],VSelect:_e["a"],VSpacer:Le["a"],VSwitch:it["a"],VTextField:F["a"]}),qe()(ot,{Ripple:rt["a"]});var ct=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeRole"),expression:"emitter.$emit('closeRole')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی ڕۆڵ ")],1)]}}]),model:{value:e.sheets.role,callback:function(t){e.$set(e.sheets,"role",t)},expression:"sheets.role"}},[s("v-sheet",{staticClass:"px-3"},[s("formRole")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی ڕۆڵ ")],1)]}}],null,!1,3571708683),model:{value:e.dialogs.role,callback:function(t){e.$set(e.dialogs,"role",t)},expression:"dialogs.role"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" ڕۆڵەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeRole"),e.dialogs.role=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formRole")],1)],1)],1)],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" ڕۆڵ ")]),s("th",{staticClass:"text-center",staticStyle:{width:"27%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.roles,(function(t,n){return s("tr",{key:t.roleID},[s("td",[e._v(" "+e._s(n+1)+" ")]),s("td",[e._v(" "+e._s(t.roleName)+" ")]),s("td",[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){return e.getRole(t.roleID,t.roleName)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(s){return e.deleteRole(t.roleID,n)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])})),0)]},proxy:!0}])}),s("notification")],1)},ut=[],dt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formRole",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"ڕۆڵ",outlined:"",dense:"",rules:e.rules.roleName},model:{value:e.singleRole.roleName,callback:function(t){e.$set(e.singleRole,"roleName",t)},expression:"singleRole.roleName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[e.singleRole.roleID?s("v-btn",{attrs:{color:"warning",block:"",loading:e.loadings.updateRole,disabled:!e.singleRole.roleName||0==e.subRoles.length},on:{click:function(t){return e.updateRole()}}},[s("v-icon",[e._v(" mdi-content-save-outline ")])],1):s("v-btn",{attrs:{color:"success",block:"",loading:e.loadings.addRole,disabled:!e.singleRole.roleName||0==e.subRoles.length},on:{click:function(t){return e.addRole()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.clearRole()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-divider"),s("v-row",[s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"کاڵاکان",color:"primary",value:"items"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"بەکارهێنەرەکان",color:"primary",value:"users"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"ڕۆڵەکان",color:"primary",value:"roles"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"فرۆشتن",color:"primary",value:"invoice"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"پسوڵەی عـرض",color:"primary",value:"showInvoice"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"خەرجیەکان",color:"primary",value:"expenses"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"قاسەی پارە",color:"primary",value:"box"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"کۆمپانیاکان",color:"primary",value:"suppliers"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"قەرزی کۆمپانیاکان",color:"primary",value:"supplierDebts"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"کشف حساب کۆمپانیا",color:"primary",value:"accountStatementCompany"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"کڕیارەکان",color:"primary",value:"customers"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"قەرزی کڕیارەکان",color:"primary",value:"customerDebts"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"کڕینەکان",color:"primary",value:"purchases"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"تەلەفەکان",color:"primary",value:"disposals"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"مەخزەن",color:"primary",value:"stock"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری مەخزەن",color:"primary",value:"stockReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری فرۆشتن",color:"primary",value:"saleReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری کاڵای فرۆشراو",color:"primary",value:"itemSaleReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری کڕین",color:"primary",value:"purchaseReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"جوڵەی پارە",color:"primary",value:"moneyMovement"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری قازانج",color:"primary",value:"profitReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"قازانجی مەواد",color:"primary",value:"profitByItem"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری خەرجیەکان",color:"primary",value:"expenseReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری پارەی ماوە",color:"primary",value:"moneyInStock"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"ڕاپۆرتی قەرزی کۆمپانیا",color:"primary",value:"supplierDebtReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"ڕاپۆرتی قەرزی کڕیار",color:"primary",value:"customerDebtReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"ڕاپۆرتی فرۆشراوی خاوەنداێتی",color:"primary",value:"ownerSaleReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"سندوقی حساب",color:"primary",value:"amountOwner"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1)],1)],1)},mt=[],pt={data:function(){return{loadings:{addRole:!1,updateRole:!1},subRoles:[],singleRole:{roleID:null,roleName:null},rules:{roleName:[function(e){return null!=e&&e.length>0||"تکایە ڕۆڵ داخڵ بکە"}]}}},mounted:function(){var e=this;this.emitter.$on("openRole",(function(t){e.singleRole=t.singleRole,e.subRoles=t.subRoles})),this.emitter.$on("closeRole",(function(){e.clearRole()}))},methods:{clearRole:function(){this.singleRole.roleID=null,this.singleRole.roleName=null,this.subRoles=[],this.$refs.formRole.resetValidation()},addRole:function(){var e=this;this.$refs.formRole.validate()&&this.subRoles.length>0&&(this.loadings.addRole=!0,this.$http.post("/user/addRole",{roleName:this.singleRole.roleName,subRoles:this.subRoles}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),e.emitter.$emit("roleAdded",{roleID:s.roleID,roleName:e.singleRole.roleName}),e.clearRole()})).finally((function(){return e.loadings.addRole=!1})))},updateRole:function(){var e=this;this.singleRole.roleName?(this.loadings.updateRole=!0,this.$http.patch("/user/updateRole/"+this.singleRole.roleID,{roleName:this.singleRole.roleName,subRoles:this.subRoles}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("roleUpdated",{roleID:e.singleRole.roleID,roleName:e.singleRole.roleName})})).finally((function(){return e.loadings.updateRole=!1}))):this.emitter.$emit("notify",{type:"warning",text:"ناوی ڕۆڵ داخڵ بکە"})}},beforeDestroy:function(){this.emitter.$off("openRole"),this.emitter.$off("closeRole")}},vt=pt,ht=Object(l["a"])(vt,dt,mt,!1,null,null,null),ft=ht.exports;u()(ht,{VBtn:$["a"],VCheckbox:Ye["a"],VCol:w["a"],VDivider:ge["a"],VForm:A["a"],VIcon:N["a"],VRow:T["a"],VTextField:F["a"]});var gt={name:"Roles",components:{formRole:ft},data:function(){return{dialogs:{role:!1},sheets:{role:!1},roles:[]}},created:function(){var e=this;this.$http.get("/user/allRole").then((function(t){var s=t.data;e.roles=s}))},mounted:function(){var e=this;this.emitter.$on("roleAdded",(function(t){e.roles.unshift(t)})),this.emitter.$on("roleUpdated",(function(t){var s=e.roles.findIndex((function(e){return e.roleID==t.roleID}));e.roles[s].roleName=t.roleName}))},methods:{getRole:function(e,t){var s=this;this.$http.get("/user/subRoles/"+e).then(function(){var n=Object(f["a"])(regeneratorRuntime.mark((function n(a){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=a.data,n.next=3,s.$isMobile();case 3:if(!n.sent){n.next=7;break}s.sheets.role=!0,n.next=8;break;case 7:s.dialogs.role=!0;case 8:s.emitter.$emit("openRole",{singleRole:{roleID:e,roleName:t},subRoles:i});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},deleteRole:function(e,t){var s=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم ڕۆڵە ؟","","question").then((function(){s.$http.delete("/user/deleteRole/"+e).then((function(){s.roles.splice(t,1)}))}))}},beforeDestroy:function(){this.emitter.$off("roleAdded"),this.emitter.$off("roleUpdated")}},bt=gt,xt=Object(l["a"])(bt,ct,ut,!1,null,null,null),yt=xt.exports;u()(xt,{VBottomSheet:Be["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VRow:T["a"],VSheet:Ue["a"],VSimpleTable:L["a"],VSpacer:Le["a"]}),qe()(xt,{ClickOutside:je["a"]});var Dt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeExpense"),expression:"emitter.$emit('closeExpense')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی خەرجی ")],1)]}}]),model:{value:e.sheets.expense,callback:function(t){e.$set(e.sheets,"expense",t)},expression:"sheets.expense"}},[s("v-sheet",{staticClass:"pa-3"},[s("formExpense")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی خەرجی ")],1)]}}],null,!1,3499921447),model:{value:e.dialogs.expense,callback:function(t){e.$set(e.dialogs,"expense",t)},expression:"dialogs.expense"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری خەرجی ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeExpense"),e.dialogs.expense=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formExpense")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeExpenseType"),expression:"emitter.$emit('closeExpenseType')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),n),[e._v(" جۆرەکانی خەرجی ")])]}}]),model:{value:e.sheets.expenseType,callback:function(t){e.$set(e.sheets,"expenseType",t)},expression:"sheets.expenseType"}},[s("v-sheet",{staticClass:"px-3"},[s("formExpenseType")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),n),[e._v(" جۆرەکانی خەرجی ")])]}}],null,!1,1375452407),model:{value:e.dialogs.expenseType,callback:function(t){e.$set(e.dialogs,"expenseType",t)},expression:"dialogs.expenseType"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" جۆرەکانی خەرجی ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeExpenseType"),e.dialogs.expenseType=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formExpenseType")],1)],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.expenses,search:e.search,loading:e.loadings.table,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.typeName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.shelfName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.priceExpenseIQD.toLocaleString())+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.priceExpense$.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.userName)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getExpense(n)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteExpense(n.expenseID)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])]}}])}),s("notification")],1)},It=[],_t=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formExpenseType",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"جۆر",outlined:"",dense:"",rules:e.rules.typeName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addType()}},model:{value:e.singleType.typeName,callback:function(t){e.$set(e.singleType,"typeName","string"===typeof t?t.trim():t)},expression:"singleType.typeName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"success",disabled:!e.singleType.typeName,loading:e.loadings.addType},on:{click:function(t){return e.addType()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"info"},on:{click:function(t){return e.clearType()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"12%"}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" جۆر ")]),s("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.expenseTypes,(function(t,n){return s("tr",{key:t.typeExpenseID},[s("td",[e._v(" "+e._s(n+1)+" ")]),t.typeExpenseID!=e.singleType.typeExpenseID?s("td",[e._v(" "+e._s(t.typeName)+" ")]):s("td",[s("v-text-field",{attrs:{dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.updateType(t.typeExpenseID,n)}},model:{value:e.expenseTypes[n].typeName,callback:function(t){e.$set(e.expenseTypes[n],"typeName","string"===typeof t?t.trim():t)},expression:"expenseTypes[index].typeName"}})],1),s("td",[t.typeExpenseID!=e.singleType.typeExpenseID?s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.singleType.typeExpenseID=t.typeExpenseID}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):s("v-btn",{attrs:{icon:"",color:"success",disabled:!e.expenseTypes[n].typeName,loading:e.loadings.updateType},on:{click:function(s){return e.updateType(t.typeExpenseID,n)}}},[s("v-icon",[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])}),s("v-pagination",{staticClass:"mt-2",attrs:{length:Math.ceil(e.numberOfTypes/10),"total-visible":"5"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},kt=[],St={data:function(){return{page:1,loadings:{addType:!1,updateType:!1},numberOfTypes:0,expenseTypes:[],singleType:{typeExpenseID:null,typeName:null},rules:{typeName:[function(e){return null!=e&&e.length>0||"تکایە جۆری خەرجی داخڵ بکە"}]}}},created:function(){var e=this;this.$http.get("/expense/countTypes").then((function(t){var s=t.data;e.numberOfTypes=s.numberOfTypes})),this.getTypes()},mounted:function(){var e=this;this.emitter.$on("closeExpenseType",(function(){e.clearType()}))},methods:{clearType:function(){this.singleType.typeExpenseID=null,this.singleType.typeName=null,this.$refs.formExpenseType.resetValidation()},getTypes:function(){var e=this;this.$http.get("/expense/limitedType/"+10*(this.page-1)).then((function(t){var s=t.data;e.expenseTypes=s}))},addType:function(){var e=this;this.$refs.formExpenseType.validate()&&(this.loadings.addType=!0,this.$http.post("/expense/addType",{typeName:this.singleType.typeName}).then((function(t){var s=t.data;1==e.page&&e.expenseTypes.length<10&&e.expenseTypes.unshift({typeExpenseID:s.typeExpenseID,typeName:e.singleType.typeName}),e.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),e.clearType(),++e.numberOfTypes})).catch((function(t){e.emitter.$emit("notify",{type:"error",text:t.response.data.message})})).finally((function(){return e.loadings.addType=!1})))},updateType:function(e,t){var s=this,n=this.expenseTypes[t].typeName;n?(this.loadings.updateType=!0,this.$http.patch("/expense/updateType/"+e,{typeName:n}).then((function(){s.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),s.singleType.typeExpenseID=null})).catch((function(e){s.emitter.$emit("notify",{type:"error",text:e.response.data.message})})).finally((function(){return s.loadings.updateType=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە جۆری خەرجی داخڵ بکە"})}},watch:{page:function(){this.getTypes()}},beforeDestroy:function(){this.emitter.$off("closeExpenseType")}},Ct=St,$t=Object(l["a"])(Ct,_t,kt,!1,null,null,null),wt=$t.exports;u()($t,{VBtn:$["a"],VCol:w["a"],VForm:A["a"],VIcon:N["a"],VPagination:U["a"],VRow:T["a"],VSimpleTable:L["a"],VTextField:F["a"]});var Nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formExpense",on:{submit:function(e){e.preventDefault()}}},[s("v-select",{attrs:{label:"جۆری خەرجی",outlined:"",dense:"",items:e.expenseTypes,"item-value":"typeExpenseID","item-text":"typeName",rules:e.rules.typeExpenseID,"validate-on-blur":""},model:{value:e.singleExpense.typeExpenseID,callback:function(t){e.$set(e.singleExpense,"typeExpenseID",t)},expression:"singleExpense.typeExpenseID"}}),s("v-select",{attrs:{label:"لە حسابی",dense:"",outlined:"",items:e.owners,"item-text":"shelfName","item-value":"shelfID",rules:e.rules.shelfID,"validate-on-blur":""},model:{value:e.singleExpense.shelfID,callback:function(t){e.$set(e.singleExpense,"shelfID",t)},expression:"singleExpense.shelfID"}}),s("v-text-field",{attrs:{label:"بڕی خەرجی (دینار)",outlined:"",dense:"",type:"number",rules:e.rules.priceExpenseIQD,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("price-dollar")}},model:{value:e.singleExpense.priceExpenseIQD,callback:function(t){e.$set(e.singleExpense,"priceExpenseIQD",e._n(t))},expression:"singleExpense.priceExpenseIQD"}}),s("v-text-field",{attrs:{label:"بڕی خەرجی (دۆلار)",outlined:"",dense:"",type:"number",id:"price-dollar",rules:e.rules.priceExpenseIQD$,"validate-on-blur":""},model:{value:e.singleExpense.priceExpense$,callback:function(t){e.$set(e.singleExpense,"priceExpense$",e._n(t))},expression:"singleExpense.priceExpense$"}}),s("v-textarea",{attrs:{label:"تێبینی",outlined:"",dense:"","no-resize":""},model:{value:e.singleExpense.note,callback:function(t){e.$set(e.singleExpense,"note","string"===typeof t?t.trim():t)},expression:"singleExpense.note"}})],1),e.singleExpense.expenseID?s("v-btn",{attrs:{block:"",color:"warning",loading:e.loadings.updateExpense,disabled:!e.singleExpense.typeExpenseID||e.singleExpense.priceExpenseIQD<0||e.singleExpense.priceExpense$<0},on:{click:function(t){return e.updateExpense()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addExpense,disabled:!e.singleExpense.typeExpenseID||e.singleExpense.priceExpenseIQD<0||e.singleExpense.priceExpense$<0},on:{click:function(t){return e.addExpense()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)},Tt=[],Pt={data:function(){return{loadings:{addExpense:!1,updateExpense:!1},expenseTypes:[],singleExpense:{expenseID:null,typeExpenseID:null,shelfID:null,priceExpenseIQD:0,priceExpense$:0,note:null},rules:{typeExpenseID:[function(e){return null!=e&&Number(e)>0||"تکایە جۆری خەرجی هەڵبژێرە"}],shelfID:[function(e){return null!=e&&Number(e)>0||"تکایە سندوق هەڵبژێرە"}],priceExpenseIQD:[function(e){return null!=e&&Number(e)>=0||"تکایە بڕی خەرجی دینار بە دروستی داخڵ بکە"}],priceExpense$:[function(e){return null!=e&&Number(e)>=0||"تکایە بڕی خەرجی دۆلار بە دروستی داخڵ بکە"}]},userID:null,userName:"",owners:[]}},created:function(){var e=this;this.$http.get("/expense/allType").then((function(t){var s=t.data;e.expenseTypes=s})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.owners=s})),this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName}))},mounted:function(){var e=this;this.emitter.$on("openExpense",(function(t){e.singleExpense.expenseID=t.expenseID,e.singleExpense.typeExpenseID=t.typeExpenseID,e.singleExpense.shelfID=t.shelfID,e.singleExpense.priceExpenseIQD=t.priceExpenseIQD,e.singleExpense.priceExpense$=t.priceExpense$,e.singleExpense.note=t.note})),this.emitter.$on("closeExpense",(function(){e.clearExpense()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},clearExpense:function(){this.singleExpense.expenseID=null,this.singleExpense.typeExpenseID=null,this.singleExpense.shelfID=null,this.singleExpense.priceExpenseIQD=0,this.singleExpense.priceExpense$=0,this.$refs.formExpense.resetValidation()},addExpense:function(){var e=this;this.$refs.formExpense.validate()&&(this.loadings.addExpense=!0,this.$http.post("/expense/addExpense",{typeExpenseID:this.singleExpense.typeExpenseID,shelfID:this.singleExpense.shelfID,priceExpenseIQD:this.singleExpense.priceExpenseIQD,priceExpense$:this.singleExpense.priceExpense$,dollarPrice:1480,note:this.singleExpense.note}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("expenseAdded",{expenseID:s.expenseID,typeName:e.expenseTypes.find((function(t){return t.typeExpenseID==e.singleExpense.typeExpenseID})).typeName,typeExpenseID:e.singleExpense.typeExpenseID,shelfID:e.singleExpense.shelfID,shelfName:e.owners.find((function(t){return t.shelfID==e.singleExpense.shelfID})).shelfName,priceExpenseIQD:e.singleExpense.priceExpenseIQD,priceExpense$:e.singleExpense.priceExpense$,userName:e.userName,note:e.singleExpense.note}),e.clearExpense()})).finally((function(){return e.loadings.addExpense=!1})))},updateExpense:function(){var e=this;this.$refs.formExpense.validate()&&(this.loadings.updateExpense=!0,this.$http.patch("/expense/updateExpense/"+this.singleExpense.expenseID,{typeExpenseID:this.singleExpense.typeExpenseID,shelfID:this.singleExpense.shelfID,priceExpenseIQD:this.singleExpense.priceExpenseIQD,priceExpense$:this.singleExpense.priceExpense$,dollarPrice:1480,note:this.singleExpense.note}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("expenseUpdated",{expenseID:e.singleExpense.expenseID,typeName:e.expenseTypes.find((function(t){return t.typeExpenseID==e.singleExpense.typeExpenseID})).typeName,typeExpenseID:e.singleExpense.typeExpenseID,shelfID:e.singleExpense.shelfID,shelfName:e.owners.find((function(t){return t.shelfID==e.singleExpense.shelfID})).shelfName,priceExpenseIQD:e.singleExpense.priceExpenseIQD,priceExpense$:e.singleExpense.priceExpense$,userName:e.userName,note:e.singleExpense.note})})).finally((function(){return e.loadings.updateExpense=!1})))}},beforeDestroy:function(){this.emitter.$off("openExpense"),this.emitter.$off("closeExpense")}},Vt=Pt,Rt=Object(l["a"])(Vt,Nt,Tt,!1,null,null,null),Et=Rt.exports;u()(Rt,{VBtn:$["a"],VForm:A["a"],VIcon:N["a"],VSelect:_e["a"],VTextField:F["a"],VTextarea:et["a"]});var Ot={name:"Expenses",components:{formExpenseType:wt,formExpense:Et},data:function(){return{dialogs:{expense:!1,expenseType:!1},sheets:{expense:!1,expenseType:!1},loadings:{table:!1},expenses:[],search:""}},created:function(){this.getExpenses()},mounted:function(){var e=this;this.emitter.$on("expenseAdded",(function(t){e.expenses.unshift(t)})),this.emitter.$on("expenseUpdated",(function(t){var s=e.expenses.findIndex((function(e){return e.expenseID=t.expenseID}));e.expenses[s].typeExpenseID=t.typeExpenseID,e.expenses[s].typeName=t.typeName,e.expenses[s].shelfID=t.shelfID,e.expenses[s].shelfName=t.shelfName,e.expenses[s].priceExpenseIQD=t.priceExpenseIQD,e.expenses[s].priceExpense$=t.priceExpense$,e.expenses[s].username=t.username}))},methods:{getExpenses:function(){var e=this;this.expenses=[],this.loadings.table=!0,this.$http.get("/expense/todayExpense").then((function(t){var s=t.data;e.expenses=s})).finally((function(){return e.loadings.table=!1}))},getExpense:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.expense=!0,s.next=7;break;case 6:t.dialogs.expense=!0;case 7:t.emitter.$emit("openExpense",e);case 8:case"end":return s.stop()}}),s)})))()},deleteExpense:function(e){var t=this,s=this.expenses.findIndex((function(t){return t.expenseID==e}));this.$confirm("دڵنیای لە سڕینەوەی ئەم خەرجیە ؟","","question").then((function(){t.$http.delete("/expense/deleteExpense/"+e).then((function(){t.expenses.splice(s,1)}))}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"جۆری خەرجی",value:"typeName",align:"center",sortable:!1},{text:"حساب سنوق",value:"shelfName",align:"center",sortable:!1},{text:"بڕی خەرجی (دینار)",value:"priceExpenseIQD",align:"center",sortable:!0},{text:"بڕی خەرجی (دۆلار)",value:"priceExpense$",align:"center",sortable:!0},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("expenseAdded"),this.emitter.$off("expenseUpdated")}},Bt=Ot,At=Object(l["a"])(Bt,Dt,It,!1,null,null,null),Ut=At.exports;u()(At,{VBottomSheet:Be["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VRow:T["a"],VSheet:Ue["a"],VSpacer:Le["a"],VTextField:F["a"]}),qe()(At,{ClickOutside:je["a"]});var Lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-expansion-panels",{staticClass:"my-4"},[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v(" فلتەرەکان: ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"2",lg:"2",xl:"3"}},[s("v-select",{attrs:{label:"خاوەندارێتی",outlined:"",dense:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.searches.shelfID=null}},model:{value:e.searches.shelfID,callback:function(t){e.$set(e.searches,"shelfID",t)},expression:"searches.shelfID"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"2",lg:"2",xl:"3"}},[s("v-select",{attrs:{label:"جۆر",outlined:"",dense:"",items:[{text:"زیادکراو بۆ قاسە",value:"plus"},{text:"دەرکراو لە قاسە",value:"minus"}],"item-text":"text","item-value":"value",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.searches.transactionType=null}},model:{value:e.searches.transactionType,callback:function(t){e.$set(e.searches,"transactionType",t)},expression:"searches.transactionType"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"2",lg:"2",xl:"3"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.searches.fromDate,callback:function(t){e.$set(e.searches,"fromDate",t)},expression:"searches.fromDate"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.searches.fromDate,callback:function(t){e.$set(e.searches,"fromDate",t)},expression:"searches.fromDate"}})],1)],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"2",lg:"2",xl:"3"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.searches.toDate,callback:function(t){e.$set(e.searches,"toDate",t)},expression:"searches.toDate"}},n))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.searches.toDate,callback:function(t){e.$set(e.searches,"toDate",t)},expression:"searches.toDate"}})],1)],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"2",lg:"2",xl:"3"}},[s("v-btn",{attrs:{color:"error",block:""},on:{click:function(t){return e.clearSearch()}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"3",xl:"2"}},[s("card",{attrs:{color:"primary",text:"کۆی پارەی قاسە",icon:"mdi-currency-usd",data:(e.totalAdded- -1*e.totalDecreased).toLocaleString()+" $"}})],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{cols:"12",md:"4",lg:"4",xl:"4"}},[s("card",{attrs:{color:"success",text:"کۆی پارەی زیادکراو بۆ قاسە",icon:"mdi-currency-usd",data:e.totalAdded.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"4",lg:"4",xl:"4"}},[s("card",{attrs:{color:"error",text:"کۆی پارەی دەرکراو لـە قاسە",icon:"mdi-currency-usd",data:e.totalDecreased.toLocaleString()+" $"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"3",xl:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeBox"),expression:"emitter.$emit('closeBox')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),n),[e._v(" دەرهێنان و زیادکردنی پارە بۆ قاسە ")])]}}]),model:{value:e.sheets.transaction,callback:function(t){e.$set(e.sheets,"transaction",t)},expression:"sheets.transaction"}},[s("v-sheet",[s("formBox")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"75%",eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),n),[e._v(" دەرهێنان و زیادکردنی پارە بۆ قاسە ")])]}}],null,!1,2771071105),model:{value:e.dialogs.transaction,callback:function(t){e.$set(e.dialogs,"transaction",t)},expression:"dialogs.transaction"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" دەرهێنانی و زیادکردنی پارە بۆ قاسە ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeBox"),e.dialogs.transaction=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formBox")],1)],1)],1)],1)],1),s("v-divider",{staticClass:"mt-3"}),s("v-data-table",{attrs:{headers:e.boxTransactionsHeader,items:e.filteredBoxTransactions,loading:e.loadings.table,"footer-props":{"items-per-page-options":[10,20,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.shelfName)+" ")]),s("td",{staticClass:"text-center",class:{"success--text":n.amount>0,"error--text":n.amount<0}},[e._v(" "+e._s(n.amount.toFixed(2).toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("boxType")(n.type))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.note)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.user)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(n.createAt).toISOString().split("T")[0])+" ")]),s("td",{staticClass:"text-center"},[["in","out"].includes(n.type)?s("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(t){return e.getTransaction(n)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):e._e(),["in","out"].includes(n.type)?s("v-btn",{attrs:{color:"error",icon:""},on:{click:function(t){return e.deleteTransaction(n.btID)}}},[s("v-icon",[e._v(" mdi-delete ")])],1):e._e()],1)])]}}])}),s("notification")],1)},Ft=[],qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-form",{ref:"formBox",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{staticClass:"py-0 pt-4",attrs:{cols:"12"}},[s("v-select",{attrs:{label:"حسابی",outlined:"",dense:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID",rules:e.rules.shelf,"validate-on-blur":""},model:{value:e.singleBoxTransaction.shelfID,callback:function(t){e.$set(e.singleBoxTransaction,"shelfID",t)},expression:"singleBoxTransaction.shelfID"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"بڕی پارە",outlined:"",dense:"",type:"number",prefix:"$",rules:e.rules.amount,"validate-on-blur":""},model:{value:e.singleBoxTransaction.amount,callback:function(t){e.$set(e.singleBoxTransaction,"amount",e._n(t))},expression:"singleBoxTransaction.amount"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[s("v-radio-group",{attrs:{rules:e.rules.type,"validate-on-blur":""},model:{value:e.singleBoxTransaction.type,callback:function(t){e.$set(e.singleBoxTransaction,"type",t)},expression:"singleBoxTransaction.type"}},[s("v-radio",{staticClass:"my-3",attrs:{value:"in"},scopedSlots:e._u([{key:"label",fn:function(){return[s("span",{staticClass:"success--text"},[e._v(" زیادکردن بۆ قاسە ")]),e._v(" "),s("v-icon",{attrs:{color:"success",left:""}},[e._v(" mdi-archive-plus-outline ")])]},proxy:!0}])}),s("v-radio",{staticClass:"my-3",attrs:{value:"out"},scopedSlots:e._u([{key:"label",fn:function(){return[s("span",{staticClass:"error--text"},[e._v(" دەرکردن لە قاسە ")]),e._v(" "),s("v-icon",{attrs:{color:"error",left:""}},[e._v(" mdi-archive-minus-outline ")])]},proxy:!0}])})],1)],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[s("v-textarea",{attrs:{outlined:"",dense:"",label:"تێبینی",rows:"3"},model:{value:e.singleBoxTransaction.note,callback:function(t){e.$set(e.singleBoxTransaction,"note","string"===typeof t?t.trim():t)},expression:"singleBoxTransaction.note"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[e.singleBoxTransaction.btID?s("v-btn",{attrs:{color:"warning",block:"",loading:e.loadings.update},on:{click:function(t){return e.updateTransaction()}}},[e._v(" گۆڕانکاری ")]):s("v-btn",{attrs:{color:"primary",block:"",loading:e.loadings.add},on:{click:function(t){return e.addTransaction()}}},[e._v(" تۆمارکردن ")])],1)],1)],1)},jt=[],Wt={data:function(){return{loadings:{add:!1,update:!1},shelfs:[],singleBoxTransaction:{btID:null,shelfID:null,sourceID:null,amount:0,type:null,note:null},rules:{shelf:[function(e){return null!=e||"تکایە حسابەکە هەڵبژێرە"}],amount:[function(e){return Number(e)>0||"تکایە بڕی گونجاو داخڵ بکە"}],type:[function(e){return null!=e||"تکایە جۆر هەڵبژێرە"}]},user:""}},created:function(){var e=this;this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s})),this.$http.post("/verifyToken").then((function(t){var s=t.data;e.user=s.userName}))},mounted:function(){var e=this;this.emitter.$on("openBox",(function(t){e.singleBoxTransaction.btID=t.btID,e.singleBoxTransaction.shelfID=t.shelfID,e.singleBoxTransaction.sourceID=null,e.singleBoxTransaction.amount=t.amount,e.singleBoxTransaction.type=t.type,e.singleBoxTransaction.note=t.note})),this.emitter.$on("closeBox",(function(){e.clearFields()}))},methods:{clearFields:function(){this.singleBoxTransaction.btID=null,this.singleBoxTransaction.shelfID=null,this.singleBoxTransaction.sourceID=null,this.singleBoxTransaction.amount=0,this.singleBoxTransaction.type=null,this.singleBoxTransaction.note=null},addTransaction:function(){var e=this;this.$refs.formBox.validate()&&(this.loadings.add=!0,this.$http.post("/box/addTransaction",{shelfID:this.singleBoxTransaction.shelfID,sourceID:this.singleBoxTransaction.sourceID,amount:this.singleBoxTransaction.amount,type:this.singleBoxTransaction.type,note:this.singleBoxTransaction.note}).then((function(t){var s=t.data;e.emitter.$emit("transactionAdded",{btID:s.btID,shelfID:e.singleBoxTransaction.shelfID,shelfName:e.shelfs.find((function(t){return t.shelfID==e.singleBoxTransaction.shelfID})).shelfName,sourceID:e.singleBoxTransaction.sourceID,amount:"in"==e.singleBoxTransaction.type?e.singleBoxTransaction.amount:-1*e.singleBoxTransaction.amount,type:e.singleBoxTransaction.type,note:e.singleBoxTransaction.note,createAt:(new Date).toISOString().split("T")[0],user:e.user}),e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی تۆمارکرا"}),e.clearFields()})).finally((function(){return e.loadings.add=!1})))},updateTransaction:function(){var e=this;this.$refs.formBox.validate()&&(this.loadings.update=!0,this.$http.patch("/box/updateTransaction/"+this.singleBoxTransaction.btID,{shelfID:this.singleBoxTransaction.shelfID,sourceID:this.singleBoxTransaction.sourceID,amount:this.singleBoxTransaction.amount,type:this.singleBoxTransaction.type,note:this.singleBoxTransaction.note}).then((function(){e.emitter.$emit("transactionUpdated",{btID:e.singleBoxTransaction.btID,shelfID:e.singleBoxTransaction.shelfID,shelfName:e.shelfs.find((function(t){return t.shelfID==e.singleBoxTransaction.shelfID})).shelfName,sourceID:e.singleBoxTransaction.sourceID,amount:"in"==e.singleBoxTransaction.type?e.singleBoxTransaction.amount:-1*e.singleBoxTransaction.amount,type:e.singleBoxTransaction.type,note:e.singleBoxTransaction.note})})))}},beforeDestroy:function(){this.emitter.$off("openBox"),this.emitter.$off("closeBox")}},Mt=Wt,Qt=s("67b6"),Ht=s("43a6"),Gt=Object(l["a"])(Mt,qt,jt,!1,null,null,null),zt=Gt.exports;u()(Gt,{VBtn:$["a"],VCol:w["a"],VForm:A["a"],VIcon:N["a"],VRadio:Qt["a"],VRadioGroup:Ht["a"],VRow:T["a"],VSelect:_e["a"],VTextField:F["a"],VTextarea:et["a"]});var Kt={components:{formBox:zt,card:V},data:function(){return{loadings:{table:!1},dialogs:{transaction:!1},sheets:{transaction:!1},boxTransactions:[],shelfs:[],searches:{shelfID:null,transactionType:null,fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0]},menu2:!1,menu3:!1}},created:function(){var e=this;this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s})),this.getAllTransactions()},mounted:function(){var e=this;this.emitter.$on("transactionAdded",(function(t){var s=(new Date).toISOString().split("T")[0];s>=e.searches.fromDate&&s<=e.searches.toDate&&e.boxTransactions.unshift(t)})),this.emitter.$on("transactionUpdated",(function(t){var s=e.boxTransactions.findIndex((function(e){return e.btID==t.btID}));e.boxTransactions[s].shelfID=t.shelfID,e.boxTransactions[s].shelfName=t.shelfName,e.boxTransactions[s].sourceID=t.sourceID,e.boxTransactions[s].amount=t.amount,e.boxTransactions[s].type=t.type,e.boxTransactions[s].note=t.note}))},methods:{clearSearch:function(){this.searches.shelfID=null,this.searches.transactionType=null,this.searches.fromDate=(new Date).toISOString().split("T")[0],this.searches.toDate=(new Date).toISOString().split("T")[0]},getTransaction:function(e){this.$isMobile()?this.sheets.transaction=!0:this.dialogs.transaction=!0,this.emitter.$emit("openBox",{btID:e.btID,shelfID:e.shelfID,amount:"in"==e.type?e.amount:-1*e.amount,type:e.type,note:e.note})},getAllTransactions:function(){var e=this;this.boxTransactions=[],this.searches.fromDate&&this.searches.toDate&&this.searches.fromDate<=this.searches.toDate&&(this.loadings.table=!0,this.$http.get("/box/getAll/"+this.searches.fromDate+"/"+this.searches.toDate).then((function(t){var s=t.data;e.boxTransactions=s})).finally((function(){return e.loadings.table=!1})))},deleteTransaction:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم داتایە ؟","","question").then((function(){t.$http.delete("/box/deleteTransaction/"+e).then((function(){var s=t.boxTransactions.findIndex((function(t){return t.btID==e}));t.boxTransactions.splice(s,1)}))}))}},computed:{boxTransactionsHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"حسابی",value:"shelfName",align:"center",sortable:!1},{text:"بڕی پارە",value:"amount",align:"center",sortable:!0},{text:"جۆر",value:"type",align:"center",sortable:!1},{text:"تێبینی",value:"note",align:"center",sortable:!1},{text:"بەکارهێنەر",value:"user",align:"center",sortable:!1},{text:"بەروار",value:"createAt",align:"center",sortable:!0},{text:"کردارەکان",align:"center",sortable:!1}]},filteredBoxTransactions:function(){var e=this;return this.boxTransactions.filter((function(t){return(!e.searches.shelfID||t.shelfID==e.searches.shelfID)&&(!e.searches.transactionType||("plus"==e.searches.transactionType?t.amount>0:t.amount<0))}))},totalAdded:function(){return this.filteredBoxTransactions.filter((function(e){return e.amount>0})).reduce((function(e,t){return e+t.amount}),0)},totalDecreased:function(){return this.filteredBoxTransactions.filter((function(e){return e.amount<0})).reduce((function(e,t){return e+t.amount}),0)}},filters:{boxType:Ne},watch:{"searches.fromDate":function(){this.getAllTransactions()},"searches.toDate":function(){this.getAllTransactions()}},beforeDestroy:function(){this.emitter.$off("transactionAdded"),this.emitter.$off("transactionUpdated")}},Jt=Kt,Xt=Object(l["a"])(Jt,Lt,Ft,!1,null,null,null),Yt=Xt.exports;u()(Xt,{VBottomSheet:Be["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDatePicker:he["a"],VDialog:fe["a"],VDivider:ge["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:De["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VSelect:_e["a"],VSheet:Ue["a"],VSpacer:Le["a"],VTextField:F["a"]}),qe()(Xt,{ClickOutside:je["a"]});var Zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeSupplier"),expression:"emitter.$emit('closeSupplier')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کۆمپانیا ")],1)]}}]),model:{value:e.sheets.supplier,callback:function(t){e.$set(e.sheets,"supplier",t)},expression:"sheets.supplier"}},[s("v-sheet",{staticClass:"pa-3"},[s("formSupplier")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کۆمپانیا ")],1)]}}],null,!1,822998163),model:{value:e.dialogs.supplier,callback:function(t){e.$set(e.dialogs,"supplier",t)},expression:"dialogs.supplier"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری کۆمپانیا ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeSupplier"),e.dialogs.supplier=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formSupplier")],1)],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.suppliers,loading:e.loadings.table,search:e.search,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[s("a",{attrs:{href:"/supplierDebts/"+n.supplierID}},[e._v(" "+e._s(n.supplierName)+" ")])]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.phone)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.address)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.previousBalance)+" $ ")]),s("td",{staticClass:"text-center subtitle-1 red--text"},[e._v(" "+e._s(n.totalRemain)+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(n.createAt).toISOString().split("T")[0])+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getSupplier(n)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deactiveSupplier(n.supplierID)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])]}}])}),s("notification")],1)},es=[],ts=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formSupplier",on:{submit:function(e){e.preventDefault()}}},[s("v-text-field",{attrs:{label:"ناوی کۆمپانیا",outlined:"",dense:"",rules:e.rules.supplierName,"validate-on-blur":"",id:"company-name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("phone")}},model:{value:e.singleSupplier.supplierName,callback:function(t){e.$set(e.singleSupplier,"supplierName","string"===typeof t?t.trim():t)},expression:"singleSupplier.supplierName"}}),s("v-text-field",{attrs:{label:"ژ.مۆبایل",outlined:"",dense:"",rules:e.rules.phone,"validate-on-blur":"",id:"phone"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("address")}},model:{value:e.singleSupplier.phone,callback:function(t){e.$set(e.singleSupplier,"phone","string"===typeof t?t.trim():t)},expression:"singleSupplier.phone"}}),s("v-text-field",{attrs:{label:"ناونیشان",outlined:"",dense:"",id:"address"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("previous-balance")}},model:{value:e.singleSupplier.address,callback:function(t){e.$set(e.singleSupplier,"address","string"===typeof t?t.trim():t)},expression:"singleSupplier.address"}}),s("v-text-field",{attrs:{label:"قەرزی کۆن",outlined:"",dense:"",type:"number",rules:e.rules.previousBalance,"validate-on-blur":"",id:"previous-balance"},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.singleSupplier.supplierID?e.updateSupplier():e.addSupplier()}},model:{value:e.singleSupplier.previousBalance,callback:function(t){e.$set(e.singleSupplier,"previousBalance",e._n(t))},expression:"singleSupplier.previousBalance"}})],1),e.singleSupplier.supplierID?s("v-btn",{attrs:{color:"warning",block:"",disabled:!e.singleSupplier.supplierName},on:{click:function(t){return e.updateSupplier()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{color:"success",block:"",disabled:!e.singleSupplier.supplierName},on:{click:function(t){return e.addSupplier()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)},ss=[],ns={data:function(){return{loadings:{addSupplier:!1,updateSupplier:!1,deleteSupplier:!1},singleSupplier:{supplierID:null,supplierName:null,phone:null,address:null,previousBalance:0},userID:null,rules:{supplierName:[function(e){return null!=e&&e.length>0||"تکایە ناوی کۆمپانیا بنووسە"}],phone:[function(e){return null!=e&&Number(e)>0||"تکایە ژمارەی مۆبایل بنووسە"}],previousBalance:[function(e){return null!=e&&Number(e)>=0||"تکایە قەرزی کۆن  با لەسەروو سفر بێت"}]}}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID}))},mounted:function(){var e=this;this.emitter.$on("openSupplier",(function(t){e.singleSupplier.supplierID=t.supplierID,e.singleSupplier.supplierName=t.supplierName,e.singleSupplier.phone=t.phone,e.singleSupplier.address=t.address,e.singleSupplier.previousBalance=t.previousBalance})),this.emitter.$on("closeSupplier",(function(){e.clearSupplier()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},addSupplier:function(){var e=this;this.$refs.formSupplier.validate()&&(this.loadings.addSupplier=!0,this.$http.post("/supplier/addSupplier",{supplierName:this.singleSupplier.supplierName,phone:this.singleSupplier.phone,address:this.singleSupplier.address,previousBalance:this.singleSupplier.previousBalance}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("supplierAdded",{supplierID:s.supplierID,supplierName:e.singleSupplier.supplierName,phone:e.singleSupplier.phone,address:e.singleSupplier.address,previousBalance:e.singleSupplier.previousBalance}),e.clearSupplier()})).finally((function(){e.loadings.addSupplier=!1})))},updateSupplier:function(){var e=this;this.$refs.formSupplier.validate()&&(this.loadings.updateSupplier=!0,this.$http.patch("/supplier/updateSupplier/"+this.singleSupplier.supplierID,{supplierName:this.singleSupplier.supplierName,phone:this.singleSupplier.phone,address:this.singleSupplier.address,previousBalance:this.singleSupplier.previousBalance}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("supplierUpdated",{supplierID:e.singleSupplier.supplierID,supplierName:e.singleSupplier.supplierName,phone:e.singleSupplier.phone,address:e.singleSupplier.address,previousBalance:e.singleSupplier.previousBalance})})).finally((function(){e.loadings.updateSupplier=!1})))},clearSupplier:function(){this.singleSupplier.supplierID=null,this.singleSupplier.supplierName=null,this.singleSupplier.phone=null,this.singleSupplier.address=null,this.singleSupplier.previousBalance=0,this.$refs.formSupplier.resetValidation()}},beforeDestroy:function(){this.emitter.$off("openSupplier"),this.emitter.$off("closeSupplier")}},as=ns,is=Object(l["a"])(as,ts,ss,!1,null,null,null),rs=is.exports;u()(is,{VBtn:$["a"],VForm:A["a"],VIcon:N["a"],VTextField:F["a"]});var os={name:"Suppliers",components:{formSupplier:rs},data:function(){return{dialogs:{supplier:!1},sheets:{supplier:!1},loadings:{table:!1},suppliers:[],search:""}},created:function(){this.getSuppliers()},mounted:function(){var e=this;this.emitter.$on("supplierAdded",(function(t){e.suppliers.unshift({supplierID:t.supplierID,supplierName:t.supplierName,phone:t.phone,address:t.address,previousBalance:t.previousBalance,createAt:(new Date).toISOString().split("T")[0]})})),this.emitter.$on("supplierUpdated",(function(t){var s=e.suppliers.findIndex((function(e){return e.supplierID=t.supplierID}));e.suppliers[s].supplierName=t.supplierName,e.suppliers[s].phone=t.phone,e.suppliers[s].address=t.address,e.suppliers[s].previousBalance=t.previousBalance}))},methods:{getSuppliers:function(){var e=this;this.suppliers=[],this.loadings.table=!0,this.$http.get("/supplier/allSuppliers").then((function(t){var s=t.data;e.suppliers=s})).finally((function(){e.loadings.table=!1}))},getSupplier:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.supplier=!0,s.next=7;break;case 6:t.dialogs.supplier=!0;case 7:t.emitter.$emit("openSupplier",{supplierID:e.supplierID,supplierName:e.supplierName,phone:e.phone,address:e.address,previousBalance:e.previousBalance});case 8:case"end":return s.stop()}}),s)})))()},deactiveSupplier:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم کۆمپانیایە ؟","","question").then((function(){var s=t.suppliers.findIndex((function(t){return t.supplierID==e}));t.$http.patch("/supplier/deactive/"+e).then((function(){t.suppliers.splice(s,1)}))}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"ناوی کۆمپانیا",value:"supplierName",align:"center",sortable:!0},{text:"ژ.مۆبایل",value:"phone",align:"center",sortable:!1},{text:"ناونیشان",value:"address",align:"center",sortable:!1},{text:"قەرزی کۆن",vallue:"previousBalance",align:"center",sortable:!1},{text:"کۆی قەرز",vallue:"totalRemain",align:"center",sortable:!1},{text:"بەرواری تۆماربوون",vallue:"createAt",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("supplierAdded"),this.emitter.$off("supplierUpdated")}},ls=os,cs=Object(l["a"])(ls,Zt,es,!1,null,null,null),us=cs.exports;u()(cs,{VBottomSheet:Be["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VRow:T["a"],VSheet:Ue["a"],VSpacer:Le["a"],VTextField:F["a"]}),qe()(cs,{ClickOutside:je["a"]});var ds=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeCustomer"),expression:"emitter.$emit('closeCustomer')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کڕیار ")],1)]}}]),model:{value:e.sheets.customer,callback:function(t){e.$set(e.sheets,"customer",t)},expression:"sheets.customer"}},[s("v-sheet",{staticClass:"pa-3"},[s("formCustomer")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کڕیار ")],1)]}}],null,!1,2208179531),model:{value:e.dialogs.customer,callback:function(t){e.$set(e.dialogs,"customer",t)},expression:"dialogs.customer"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری کڕیار ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeCustomer"),e.dialogs.customer=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formCustomer")],1)],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.customers,search:e.search,"footer-props":{"items-per-page-options":[10,15,20,25,30]},loading:e.loadings.table,"loading-text":"تکایە چاوەڕوانبە ..."},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[s("a",{staticClass:"text-decoration-none",attrs:{href:"/customerDebts/"+n.customerID}},[e._v(" "+e._s(n.customerName)+" ")])]),s("td",{staticClass:"text-center",attrs:{dir:"ltr"}},[e._v(" "+e._s(n.phoneNumber)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.address)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.previousDebt)+" $ ")]),s("td",{staticClass:"text-center red--text subtitle-1"},[e._v(" "+e._s(n.totalRemain)+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.userName)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"6%"}},[1==n.activeStatus?s("v-chip",{attrs:{outlined:"",color:"success",ripple:""},on:{click:function(t){return e.deactiveCustomer(n.customerID,a)}}},[s("v-icon",{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" چالاک ")],1):s("v-chip",{attrs:{outlined:"",color:"error"},on:{click:function(t){return e.activeCustomer(n.customerID,a)}}},[s("v-icon",{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" ناچالاک ")],1)],1),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getCustomer(n)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1)],1)])]}}])}),s("notification")],1)},ms=[],ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formCustomer",on:{submit:function(e){e.preventDefault()}}},[s("v-text-field",{attrs:{label:"ناوی کڕیار",outlined:"",dense:"",id:"customer-name",rules:e.rules.customerName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("phone-number")}},model:{value:e.singleCustomer.customerName,callback:function(t){e.$set(e.singleCustomer,"customerName","string"===typeof t?t.trim():t)},expression:"singleCustomer.customerName"}}),s("v-text-field",{attrs:{label:"ژمارە تەلەفۆن",dir:"ltr",outlined:"",dense:"",id:"phone-number",rules:e.rules.phoneNumber,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("address")}},model:{value:e.singleCustomer.phoneNumber,callback:function(t){e.$set(e.singleCustomer,"phoneNumber","string"===typeof t?t.trim():t)},expression:"singleCustomer.phoneNumber"}}),s("v-text-field",{attrs:{label:"ناونیشان",outlined:"",dense:"",id:"address"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("previous-debt")}},model:{value:e.singleCustomer.address,callback:function(t){e.$set(e.singleCustomer,"address","string"===typeof t?t.trim():t)},expression:"singleCustomer.address"}}),s("v-text-field",{attrs:{label:"قەرزی پێشوو",outlined:"",dense:"",type:"number",id:"previous-debt"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("limit-debt")}},model:{value:e.singleCustomer.previousDebt,callback:function(t){e.$set(e.singleCustomer,"previousDebt",e._n(t))},expression:"singleCustomer.previousDebt"}}),e.singleCustomer.customerID?s("v-btn",{attrs:{block:"",color:"warning",loading:e.loadings.updateCustomer},on:{click:function(t){return e.updateCustomer()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addCustomers},on:{click:function(t){return e.addCustomer()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)],1)},vs=[],hs={data:function(){return{loadings:{addCustomer:!1,updateCustomer:!1},singleCustomer:{customerID:null,customerName:null,phoneNumber:null,address:null,previousDebt:0,limitDebt:0},rules:{customerName:[function(e){return null!=e&&e.length>0||"تکایە ناوی کڕیار داخڵ بکە"}],phoneNumber:[function(e){return null!=e&&e.length>10||"تکایە ژمارە تەلەفۆن بە دروستی داخڵ بکە"}]},userID:null,userName:""}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName}))},mounted:function(){var e=this;this.emitter.$on("openCustomer",(function(t){e.singleCustomer.customerID=t.customerID,e.singleCustomer.customerName=t.customerName,e.singleCustomer.phoneNumber=t.phoneNumber,e.singleCustomer.address=t.address,e.singleCustomer.previousDebt=t.previousDebt,e.singleCustomer.limitDebt=t.limitDebt})),this.emitter.$on("closeCustomer",(function(){e.clearCustomer()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},clearCustomer:function(){this.singleCustomer.customerID=null,this.singleCustomer.customerName=null,this.singleCustomer.phoneNumber=null,this.singleCustomer.address=null,this.singleCustomer.previousDebt=0,this.singleCustomer.limitDebt=0,this.$refs.formCustomer.resetValidation()},addCustomer:function(){var e=this;this.$refs.formCustomer.validate()&&(this.loadings.addCustomer=!0,this.$http.post("/customer/addCustomer",{customerName:this.singleCustomer.customerName,phoneNumber:this.singleCustomer.phoneNumber,address:this.singleCustomer.address,previousDebt:this.singleCustomer.previousDebt,limitDebt:this.singleCustomer.limitDebt}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),e.emitter.$emit("customerAdded",{customerID:s.customerID,customerName:e.singleCustomer.customerName,phoneNumber:e.singleCustomer.phoneNumber,address:e.singleCustomer.address,previousDebt:e.singleCustomer.previousDebt,limitDebt:e.singleCustomer.limitDebt,userName:e.userName}),e.clearCustomer(),document.getElementById("customer-name").focus()})).catch((function(t){e.emitter.$emit("notify",{type:"error",text:t.response.data.message})})).finally((function(){return e.loadings.addCustomer=!1})))},updateCustomer:function(){var e=this;this.$refs.formCustomer.validate()&&this.$http.patch("/customer/updateCustomer/"+this.singleCustomer.customerID,{customerName:this.singleCustomer.customerName,phoneNumber:this.singleCustomer.phoneNumber,address:this.singleCustomer.address,previousDebt:this.singleCustomer.previousDebt,limitDebt:this.singleCustomer.limitDebt}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆرانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("customerUpdated",{customerID:e.singleCustomer.customerID,customerName:e.singleCustomer.customerName,phoneNumber:e.singleCustomer.phoneNumber,address:e.singleCustomer.address,previousDebt:e.singleCustomer.previousDebt,limitDebt:e.singleCustomer.limitDebt})}))}},beforeDestroy:function(){this.emitter.$off("openCustomer"),this.emitter.$off("closeCustomer")}},fs=hs,gs=Object(l["a"])(fs,ps,vs,!1,null,null,null),bs=gs.exports;u()(gs,{VBtn:$["a"],VForm:A["a"],VIcon:N["a"],VTextField:F["a"]});var xs={name:"Customers",components:{formCustomer:bs},data:function(){return{dialogs:{customer:!1},sheets:{customer:!1},loadings:{table:!1},customers:[],search:""}},created:function(){this.getCustomers()},mounted:function(){var e=this;this.emitter.$on("customerAdded",(function(t){e.customers.unshift(t)})),this.emitter.$on("customerUpdated",(function(t){var s=e.customers.findIndex((function(e){return e.customerID==t.customerID}));e.customers[s].customerName=t.customerName,e.customers[s].phoneNumber=t.phoneNumber,e.customers[s].address=t.address,e.customers[s].previousDebt=t.previousDebt,e.customers[s].limitDebt=t.limitDebt}))},methods:{getCustomer:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.customer=!0,s.next=7;break;case 6:t.dialogs.customer=!0;case 7:t.emitter.$emit("openCustomer",e);case 8:case"end":return s.stop()}}),s)})))()},getCustomers:function(){var e=this;this.customers=[],this.loadings.table=!0,this.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s})).finally((function(){return e.loadings.table=!1}))},deactiveCustomer:function(e,t){var s=this;1!=e?this.$http.patch("/customer/deactive/"+e).then((function(){s.customers[t].activeStatus=0})):this.emitter.$emit("notify",{type:"error",text:"ناتوانیت ئەم کڕیارە ناچالاک بکەیت"})},activeCustomer:function(e,t){var s=this;this.$http.patch("/customer/active/"+e).then((function(){s.customers[t].activeStatus=1}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"ناوی کڕیار",align:"center",value:"customerName",sortable:!1},{text:"تەلەفۆن",align:"center",value:"phoneNumber",sortable:!1},{text:"ناونیشان",align:"center",value:"address",sortable:!1},{text:"قەرزی پێشوو",align:"center",value:"previousDebt",sortable:!0},{text:"کۆی قەرز",align:"center",value:"totalRemain",sortable:!0},{text:"بەکارهێنەر",align:"center",value:"userName",sortable:!1},{text:"هەژمار",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("customerAdded"),this.emitter.$off("customerUpdated")}},ys=xs,Ds=Object(l["a"])(ys,ds,ms,!1,null,null,null),Is=Ds.exports;u()(Ds,{VBottomSheet:Be["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VChip:Ae["a"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VRow:T["a"],VSheet:Ue["a"],VSpacer:Le["a"],VTextField:F["a"]}),qe()(Ds,{ClickOutside:je["a"]});var _s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeUser"),expression:"emitter.$emit('closeUser')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیاکردنی بەکارهێنەر ")],1)]}}]),model:{value:e.sheets.user,callback:function(t){e.$set(e.sheets,"user",t)},expression:"sheets.user"}},[s("v-sheet",[s("formUser")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیاکردنی بەکارهێنەر ")],1)]}}],null,!1,7878603),model:{value:e.dialogs.user,callback:function(t){e.$set(e.dialogs,"user",t)},expression:"dialogs.user"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری بەکارهێنەر ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeUser"),e.dialogs.user=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formUser")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[s("v-btn",{attrs:{block:"",color:"primary",to:"/roles"}},[e._v(" ڕۆڵەکان ")])],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{"fixed-header":"",headers:e.headers,items:e.users,search:e.search,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.fullName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.userName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.email)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.roleName)+" ")]),s("td",{staticClass:"text-center"},[1==n.activeStatus?s("v-chip",{attrs:{outlined:"",color:"success",ripple:""},on:{click:function(t){return e.deactiveUser(n.userID)}}},[s("v-icon",{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" چالاک ")],1):s("v-chip",{attrs:{outlined:"",color:"error",ripple:""},on:{click:function(t){return e.activeUser(n.userID)}}},[s("v-icon",{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" ناچالاک ")],1)],1),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getUser(n)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1)],1)])]}}])}),s("notification")],1)},ks=[],Ss=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formUser",on:{submit:function(e){e.preventDefault()}}},[s("v-text-field",{attrs:{label:"ناوی تەواو",outlined:"",dense:"",rules:e.rules.fullName,"validate-on-blur":"",id:"full-name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("user-name")}},model:{value:e.singleUser.fullName,callback:function(t){e.$set(e.singleUser,"fullName",t)},expression:"singleUser.fullName"}}),s("v-text-field",{attrs:{label:"ناوی بەکارهێنەر",outlined:"",dense:"",rules:e.rules.userName,"validate-on-blur":"",id:"user-name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("password")}},model:{value:e.singleUser.userName,callback:function(t){e.$set(e.singleUser,"userName",t)},expression:"singleUser.userName"}}),s("v-text-field",{attrs:{label:"وشەی نهێنی",outlined:"",dense:"",type:"password",rules:e.rules.userPassword,"validate-on-blur":"",id:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("email")}},model:{value:e.singleUser.userPassword,callback:function(t){e.$set(e.singleUser,"userPassword",t)},expression:"singleUser.userPassword"}}),s("v-text-field",{attrs:{label:"ئیمەیڵ",outlined:"",dense:"",type:"email",id:"email"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("role")}},model:{value:e.singleUser.email,callback:function(t){e.$set(e.singleUser,"email",t)},expression:"singleUser.email"}}),s("v-select",{attrs:{label:"ڕۆڵ",outlined:"",dense:"",items:e.roles,"item-text":"roleName","item-value":"roleID",rules:e.rules.roleID,"validate-on-blur":"",id:"role"},model:{value:e.singleUser.roleID,callback:function(t){e.$set(e.singleUser,"roleID",t)},expression:"singleUser.roleID"}}),s("input",{attrs:{type:"file",name:"",id:""},on:{change:e.processFile}}),e.singleUser.userID?s("div",[s("v-btn",{attrs:{block:"",color:"warning",loading:e.loadings.updateUser},on:{click:function(t){return e.updateUser()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1),s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"primary",loading:e.loadings.updatePassword},on:{click:function(t){return e.updatePassword()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-autorenew ")]),e._v(" نوێکردنەوەی وشەی نهێنی ")],1),s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"primary",disabled:!e.singleUser.imageFile,loading:e.loadings.updateImage},on:{click:function(t){return e.updateImage()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-image ")]),e._v(" نوێکردنەوەی وێنە ")],1),e.singleUser.imagePath?s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"error",loading:e.loadings.deleteImage},on:{click:function(t){return e.deleteImage()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v(" سڕینەوەی وێنە ")],1):e._e()],1):s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addUser},on:{click:function(t){return e.addUser()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1),s("v-divider",{staticClass:"mt-2"}),e.singleUser.imagePath?s("v-img",{attrs:{src:"/user/image/"+e.singleUser.imagePath}}):e._e()],1)],1)},Cs=[],$s={data:function(){return{loadings:{addUser:!1,updateUser:!1,updatePassword:!1,updateImage:!1,deleteImage:!1},roles:[],singleUser:{userID:null,fullName:null,userName:null,userPassword:null,email:null,imageFile:null,imagePath:null,roleID:null},rules:{fullName:[function(e){return null!=e&&e.length>0||"تکایە ناوی تەواو داخڵ بکە"}],userName:[function(e){return null!=e&&e.length>0||"تکایە ناوی بەکارهێنەر داخڵ بکە"}],userPassword:[function(e){return null!=e&&e.length>0||"تکایە وشەی نهێنی داخڵ بکە"}],roleID:[function(e){return null!=e||"تکایە ڕۆڵێک هەڵبژێرە"}]}}},created:function(){var e=this;this.$http.get("/user/allRole").then((function(t){var s=t.data;e.roles=s}))},mounted:function(){var e=this;this.emitter.$on("openUser",(function(t){e.singleUser.userID=t.userID,e.singleUser.fullName=t.fullName,e.singleUser.userName=t.userName,e.singleUser.email=t.email,e.singleUser.imagePath=t.image,e.singleUser.roleID=t.roleID})),this.emitter.$on("closeUser",(function(){e.clearUser()}))},methods:{processFile:function(e){this.singleUser.imageFile=e.target.files[0]},setFocus:function(e){document.getElementById(e).focus()},clearUser:function(){this.singleUser.userID=null,this.singleUser.fullName=null,this.singleUser.userName=null,this.singleUser.userPassword=null,this.singleUser.email=null,this.singleUser.imageFile=null,this.singleUser.imagePath=null,this.singleUser.roleID=null,this.$refs.formUser.resetValidation()},addUser:function(){var e=this;if(this.$refs.formUser.validate()){this.loadings.addUser=!0;var t=new FormData;t.append("fullName",this.singleUser.fullName),t.append("userName",this.singleUser.userName),t.append("userPassword",this.singleUser.userPassword),t.append("email",this.singleUser.email),t.append("userImage",this.singleUser.imageFile),t.append("roleID",this.singleUser.roleID),this.$http.post("/user/addUser",t).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("userAdded",{userID:s.userID,fullName:e.singleUser.fullName,userName:e.singleUser.userName,email:e.singleUser.email,roleName:e.roles.find((function(t){return t.roleID==e.singleUser.roleID})).roleName,roleID:e.singleUser.roleID,image:s.image,activeStatus:"1"}),e.clearUser()})).catch((function(t){e.emitter.$emit("notify",{type:"success",text:t.response.data.message})})).finally((function(){return e.loadings.addUser=!1}))}},updateUser:function(){var e=this;this.singleUser.fullName&&this.singleUser.userName&&this.singleUser.roleID?(this.loadings.updateUser=!0,this.$http.patch("/user/updateUser/"+this.singleUser.userID,{fullName:this.singleUser.fullName,userName:this.singleUser.userName,email:this.singleUser.email,roleID:this.singleUser.roleID}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("userUpdated",{userID:e.singleUser.userID,fullName:e.singleUser.fullName,userName:e.singleUser.userName,email:e.singleUser.email,roleID:e.singleUser.roleID,roleName:e.roles.find((function(t){return t.roleID==e.singleUser.roleID})).roleName})})).catch((function(t){e.emitter.$emit("notify",{type:"error",text:t.response.data.message})})).finally((function(){return e.loadings.updateUser=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە زانیارییە پێویستەکان داخڵ بکە"})},updatePassword:function(){var e=this;this.singleUser.userPassword?this.$confirm("دڵنیای لە نوێکردنەوەی وشەی نهێنی ؟","","question").then((function(){e.loadings.updatePassword=!0,e.$http.patch("/user/updatePassword/"+e.singleUser.userID,{userPassword:e.singleUser.userPassword}).then((function(){e.emitter.$emit("notify",{type:"success",text:"نوێکردنەوەی وشەی نهێنی سەرکەوتوو بوو"})})).finally((function(){return e.loadings.updatePassword=!1}))})):this.emitter.$emit("notify",{type:"warning",text:"تکایە وشەی نهێنی داخڵ بکە"})},updateImage:function(){var e=this;this.$confirm("دڵنیای لە نوێکردنەوەی وێنە ؟","","question").then((function(){e.loadings.updateImage=!0;var t=new FormData;t.append("userImage",e.singleUser.imageFile),e.$http.patch("/user/updateImage/"+e.singleUser.userID,t).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"نوێکردنەوەی وێنە سەرکەوتوو بوو"}),e.singleUser.imagePath=+s.image})).finally((function(){return e.loadings.updateImage=!1}))}))},deleteImage:function(){var e=this;this.$confirm("دڵنیای لە سڕینەوەی وێنە ؟","","question").then((function(){e.loadings.deleteImage=!0,e.$http.delete("/user/deleteImage/"+e.singleUser.userID).then((function(){e.singleUser.imagePath=null})).finally((function(){return e.loadings.deleteImage=!1}))}))}},beforeDestroy:function(){this.emitter.$off("openUser"),this.emitter.$off("closeUser")}},ws=$s,Ns=Object(l["a"])(ws,Ss,Cs,!1,null,null,null),Ts=Ns.exports;u()(Ns,{VBtn:$["a"],VDivider:ge["a"],VForm:A["a"],VIcon:N["a"],VImg:Ze["a"],VSelect:_e["a"],VTextField:F["a"]});var Ps={name:"Users",components:{formUser:Ts},data:function(){return{dialogs:{user:!1},sheets:{user:!1},users:[],currentUsers:[],search:""}},created:function(){var e=this;this.$http.get("/user/allUser").then((function(t){var s=t.data;e.users=s}))},mounted:function(){var e=this;this.emitter.$on("userAdded",(function(t){e.users.unshift(t)})),this.emitter.$on("userUpdated",(function(t){var s=e.users.findIndex((function(e){return e.userID==t.userID}));e.users[s].fullName=t.fullName,e.users[s].userName=t.userName,e.users[s].email=t.email,e.users[s].roleID=t.roleID,e.users[s].roleName=t.roleName}))},methods:{getUser:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.user=!0,s.next=7;break;case 6:t.dialogs.user=!0;case 7:t.emitter.$emit("openUser",e);case 8:case"end":return s.stop()}}),s)})))()},deactiveUser:function(e){var t=this,s=this.users.findIndex((function(t){return t.userID==e}));this.$http.patch("/user/deactiveUser/"+e).then((function(){t.users[s].activeStatus=0})).catch((function(){t.emitter.$emit("notify",{type:"error",text:"ناتوانیت ئەم بەکارهێنەرە ناچالاک بکەیت"})}))},activeUser:function(e){var t=this,s=this.users.findIndex((function(t){return t.userID==e}));this.$http.patch("/user/activeUser/"+e).then((function(){t.users[s].activeStatus=1}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"ناوی تەواو",align:"center",value:"fullName",sortable:!1},{text:"ناوی بەکارهێنەر",align:"center",value:"userName",sortable:!1},{text:"ئیمەیڵ",align:"center",value:"email",sortable:!1},{text:"ڕۆڵ",align:"center",value:"roleName",sortable:!1},{text:"هەژمار",align:"center",sortable:!1,width:"8%"},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("userAdded"),this.emitter.$off("userUpdated")}},Vs=Ps,Rs=Object(l["a"])(Vs,_s,ks,!1,null,null,null),Es=Rs.exports;u()(Rs,{VBottomSheet:Be["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VChip:Ae["a"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VRow:T["a"],VSheet:Ue["a"],VSpacer:Le["a"],VTextField:F["a"]}),qe()(Rs,{ClickOutside:je["a"]});var Os=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[s("v-dialog",{attrs:{persistent:"",eager:"",width:"1400px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-alert",e._g(e._b({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"px-3 py-1 text-center",attrs:{color:"success",outlined:"",text:""}},"v-alert",a,!1),n),[s("v-icon",{attrs:{left:"",color:"success"}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کڕین ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری کڕین ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closePurchase"),e.dialog=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formPurchase")],1)],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان بەپێی ژمارەی وەصڵ",outlined:"",dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()}},model:{value:e.searchInvoice,callback:function(t){e.searchInvoice=t},expression:"searchInvoice"}})],1),s("v-col",{attrs:{cols:"12",md:"1",xl:"1",lg:"1"}},[s("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(t){e.searchInvoice=null,e.getPurchases()}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1),s("hr"),s("v-data-table",{attrs:{headers:e.headers,items:e.purchases,"hide-default-footer":"","items-per-page":26},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(e._s(a+1))]),s("td",{staticClass:"text-center"},[e._v(e._s(n.supplierName))]),s("td",{staticClass:"text-center"},[e._v(e._s(n.referenceNo))]),s("td",{staticClass:"text-center"},[e._v(e._s(n.totalPrice))]),s("td",{staticClass:"text-center"},[e._v(e._s(e._f("invoiceType")(n.paymentType)))]),s("td",{staticClass:"text-center"},[e._v(e._s(e._f("purchaseStatus")(n.purchaseStatus)))]),s("td",{staticClass:"text-center"},[e._v(e._s(n.userName))]),s("td",{staticClass:"text-center"},[s("v-hover",{attrs:{"open-delay":"75","close-delay":"100",id:"icon"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.hover;return[a?s("v-icon",{staticClass:"ml-2",attrs:{"x-large":"",color:"indigo"},on:{click:function(t){return e.getPurchase(n.purchaseID)}}},[e._v("mdi-eye")]):s("v-icon",e._b({staticClass:"ml-2",attrs:{large:""}},"v-icon",n,!1),[e._v("mdi-eye-off")])]}}],null,!0)})],1)])]}}])}),s("v-pagination",{attrs:{length:Math.ceil(e.table.numberOfPurchase/20),"total-visible":"6"},model:{value:e.table.page,callback:function(t){e.$set(e.table,"page",t)},expression:"table.page"}}),s("notification")],1)},Bs=[],As=(s("159b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-container",{attrs:{fluid:""}},[s("v-form",{ref:"formPurchase",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-autocomplete",{attrs:{label:"ناوی کۆمپانیا",items:e.suppliers,"item-text":"supplierName","item-value":"supplierID","search-input":e.searches.sSearch,rules:e.rules.supplier_rule,outlined:"",dense:""},on:{"update:searchInput":function(t){return e.$set(e.searches,"sSearch",t)},"update:search-input":function(t){return e.$set(e.searches,"sSearch",t)}},model:{value:e.purchase.supplierID,callback:function(t){e.$set(e.purchase,"supplierID",t)},expression:"purchase.supplierID"}})],1),s("v-col",{attrs:{cols:"12",md:"2",xl:"2",lg:"2"}},[s("v-text-field",{attrs:{label:"ژمارەی وەصل",type:"number",outlined:"",dense:"",rules:e.rules.referenceNo},model:{value:e.purchase.referenceNo,callback:function(t){e.$set(e.purchase,"referenceNo",t)},expression:"purchase.referenceNo"}})],1),s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-text-field",{attrs:{label:"پێشەکی پارە",prefix:"$",type:"number",outlined:"",dense:"",value:"0"},model:{value:e.purchase.amountPay,callback:function(t){e.$set(e.purchase,"amountPay",t)},expression:"purchase.amountPay"}})],1),s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-select",{attrs:{label:"دۆخی کڕین",items:e.PurchaseStatus,"item-text":"name","item-value":"value",outlined:"",dense:""},model:{value:e.purchase.PurchaseStatus,callback:function(t){e.$set(e.purchase,"PurchaseStatus",t)},expression:"purchase.PurchaseStatus"}})],1),s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-select",{attrs:{label:"جۆری پارەدان",items:e.paymentTypes,"item-text":"name","item-value":"value",outlined:"",dense:""},model:{value:e.purchase.paymentType,callback:function(t){e.$set(e.purchase,"paymentType",t)},expression:"purchase.paymentType"}})],1),s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-select",{attrs:{label:"جۆری وەسڵ",items:e.stockTypes,"item-text":"name","item-value":"value",outlined:"",dense:""},model:{value:e.purchase.stockType,callback:function(t){e.$set(e.purchase,"stockType",t)},expression:"purchase.stockType"}})],1),s("v-col",{attrs:{cols:"12",md:"6",xl:"6",lg:"6"}},[s("v-textarea",{attrs:{dense:"",counter:"100",maxlength:"100","auto-grow":"","row-height":"1",outlined:"",name:"input-5-3",label:"تێبینی"},model:{value:e.purchase.note,callback:function(t){e.$set(e.purchase,"note",t)},expression:"purchase.note"}})],1)],1)],1),s("hr"),s("br"),s("v-row",[s("v-col",[s("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center"},[e._v("باڕکۆد")]),s("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[e._v("ناوی کاڵا")]),s("th",{staticClass:"text-center"},[e._v("نرخی کڕین")]),s("th",{staticClass:"text-center"},[e._v("نرخی فرۆشتن")]),s("th",{staticClass:"text-center"},[e._v("ژمارەی دانە")]),s("th",{staticClass:"text-center"},[e._v("داشکاندن")]),s("th",{staticClass:"text-center"},[e._v("نرخ دوای داشکاندن")]),s("th",{staticClass:"text-center"},[e._v("کۆی گشتی")]),s("th",{staticClass:"text-center",staticStyle:{width:"9%"}},[e._v("کردارەکان")])])]),s("tbody",[e._l(e.purchase.purchase_items,(function(t,n){return s("tr",{key:n},[s("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(t.item.itemCode))]),s("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(t.item.itemName))]),s("td",{staticClass:"text-center"},[s("v-text-field",{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",prefix:"$",rules:e.rules.costPrice},on:{change:function(s){return e.changeAfterDis(t)}},model:{value:e.purchase.purchase_items[n].costPrice,callback:function(t){e.$set(e.purchase.purchase_items[n],"costPrice",t)},expression:"purchase.purchase_items[index].costPrice"}})],1),s("td",{staticClass:"text-center"},[s("v-text-field",{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",prefix:"$",rules:e.rules.costPrice},model:{value:e.purchase.purchase_items[n].itemPriceRetail,callback:function(t){e.$set(e.purchase.purchase_items[n],"itemPriceRetail",t)},expression:"purchase.purchase_items[index].itemPriceRetail"}})],1),s("td",{staticClass:"text-center"},[s("v-text-field",{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",rules:e.rules.qty},on:{change:function(s){return e.changeAfterDis(t)}},model:{value:e.purchase.purchase_items[n].qty,callback:function(t){e.$set(e.purchase.purchase_items[n],"qty",t)},expression:"purchase.purchase_items[index].qty"}})],1),s("td",{staticClass:"text-center"},[s("v-text-field",{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",prefix:"$",rules:e.rules.discount},on:{change:function(s){return e.changeAfterDis(t)}},model:{value:e.purchase.purchase_items[n].discount,callback:function(t){e.$set(e.purchase.purchase_items[n],"discount",t)},expression:"purchase.purchase_items[index].discount"}})],1),s("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(t.costAfterDisc.toLocaleString())+" $")]),s("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(t.total.toLocaleString())+" $")]),s("td",{staticStyle:{width:"9%"}},[s("v-hover",{attrs:{id:"icon"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.hover;return[a?s("v-icon",{staticClass:"mb-5",attrs:{color:"red",large:""},on:{click:function(s){return e.deleteItem(t)}}},[e._v("mdi-delete-empty")]):s("v-icon",{staticClass:"mb-5",attrs:{color:"red"}},[e._v("mdi-delete")])]}}],null,!0)}),e.purchase.purchaseID>0?s("v-hover",{attrs:{id:"icon"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.hover;return[s("v-icon",a?{staticClass:"mb-5 font-weight-bold mr-4",attrs:{color:"success",large:""},on:{click:function(s){t.purchaseID?e.updateItem(t):e.insertItem(t)}}}:{staticClass:"mb-5 font-weight-bold mr-4",attrs:{color:"success"}},[e._v("mdi-check")])]}}],null,!0)}):e._e()],1)])})),s("tr",[s("td"),s("td"),s("td"),s("td"),s("td"),s("td"),s("td",{staticClass:"text-center green white--text font-weight-bold"},[s("h3",[e._v("سەرجەم :")])]),s("td",{staticClass:"text-center green white--text font-weight-bold"},[s("h3",[e._v(e._s(e.total.toLocaleString())+" $ ")])]),s("td"),s("td")])],2)]},proxy:!0}])}),s("br"),s("v-form",{ref:"listForm",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-autocomplete",{attrs:{filter:e.filterObject,label:"باڕکۆد",items:e.items,"item-text":"itemName","item-value":"itemID","search-input":e.searches.iSearch,"return-object":"",outlined:"",dense:"",rules:e.rules.item},on:{"update:searchInput":function(t){return e.$set(e.searches,"iSearch",t)},"update:search-input":function(t){return e.$set(e.searches,"iSearch",t)},change:function(t){return e.selectItem()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addItemBarcode())}},model:{value:e.purchase_item.item,callback:function(t){e.$set(e.purchase_item,"item",t)},expression:"purchase_item.item"}})],1)],1),s("v-btn",{attrs:{color:e.purchase.purchaseID?"warning":"success"},on:{click:function(t){e.purchase.purchaseID?e.update():e.submit()}}},[s("v-icon",[e._v(e._s(e.purchase.purchaseID?"mdi-content-save-outline":"mdi-plus"))]),e._v(" "+e._s(e.purchase.purchaseID?"نوێکردنەوە":"زیادکردنی کڕین "))],1)],1)],1)],1)],1)],1)}),Us=[],Ls=s("5530"),Fs=(s("8ba4"),s("2ca0"),{data:function(){return{loading:!1,suppliers:[],menues:{menue1:!1},searches:{sSearch:"",iSearch:""},PurchaseStatus:[{name:"وەرگیراو",value:"recived"},{name:"لە چاوەڕوانیدایە",value:"pending"},{name:"کڕدراوە",value:"ordered"}],paymentTypes:[{name:"کاش",value:"c"},{name:"قەرز",value:"d"}],debtStatus:[{name:"دراوە",value:1},{name:"نەدراوە",value:0}],stockTypes:[{name:"کڕین",value:"p"},{name:"گەڕاندنەوە",value:"rp"}],items:[],purchase:{supplierID:0,supplierName:"",referenceNo:0,shipingCost:0,amountPay:0,discount:0,PurchaseStatus:"recived",paymentType:"d",debtStatus:0,stockType:"p",purchase_items:[]},purchase_item:{itemID:0,costPrice:0,qty:0,discount:0,costAfterDisc:0,expiryDate:(new Date).toISOString().split("T")[0],item:{itemID:0}},rules:{supplier_rule:[function(e){return null!=e&&""!=e||"تکایە  کۆمپانیا هەڵبژێرە"}],shelfID:[function(e){return null!=e&&""!=e||"تکایە  سندوق دیاری بکە"}],referenceNo:[function(e){return null!=e&&Number(e)>0||"تکایە ژمارەی وەسڵ داخڵ بکە"}],costPrice:[function(e){return null!=e&&Number(e)>0||"تکایە نرخ بە دروستی داخڵ بکە"}],qty:[function(e){return null!=e&&Number(e)>0||"تکایە دانە بە دروستی داخڵ بکە"}],discount:[function(e){return null!=e&&Number(e)>=0||"تکایە داشکاندن بە دروستی داخڵ بکە"}],item:[function(e){return null!=e&&e!={}||"تکایە مەواد بە دروستی داخڵ بکە"}],expiryDate:[function(e){return null!=e&&""!=e||"تکایە بەروار بە دروستی داخڵ بکە"}]},userID:null,userName:"",owners:[]}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.owners=s}))},computed:{total:function(){var e=0;return this.purchase.purchase_items.forEach((function(t){return e+=t.qty*t.costAfterDisc})),e}},mounted:function(){var e=this;this.emitter.$on("openPurchase",(function(t){e.suppliers.push(Object(Ls["a"])({},t.suppliers)),e.purchase=Object(Ls["a"])({},t),e.purchase.purchase_items.forEach((function(e){e.itemPriceRetail=e.item.itemPriceRetail,e.costPrice=e.item.costPrice,e.itemID=e.item.itemID,e.total=e.qty*e.costAfterDisc,e.expiryDate=new Date(e.expiryDate).toISOString().split("T")[0],e.menu=!1}))})),this.emitter.$on("closePurchase",(function(){return e.clearFields(!0)}))},methods:{getSuplliers:function(){var e=this;this.$http.get("/purchase/getSupplier",{params:{name:this.searches.sSearch}}).then((function(t){var s=t.data;e.suppliers=s}))},getItems:function(){var e=this;this.$http.get("/purchase/getItems",{params:{name:this.searches.iSearch}}).then((function(t){var s=t.data;e.items=s}))},selectItem:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.purchase_item.itemPriceRetail=e.purchase_item.item.itemPriceRetail,e.purchase_item.costPrice=e.purchase_item.item.costPrice,e.purchase_item.itemID=e.purchase_item.item.itemID,e.purchase_item.total=e.purchase_item.qty*e.purchase_item.costAfterDisc,e.purchase_item.menu=!1,t.next=7,e.purchase.purchase_items.filter((function(t){return t.itemID===e.purchase_item.itemID}));case 7:s=t.sent,0===s.length?(e.purchase.purchase_items.push(Object(Ls["a"])({},e.purchase_item)),e.clearFields()):(e.emitter.$emit("notify",{type:"error",text:"ئەم مەوادە زیادکراوە"}),e.clearFields());case 9:case"end":return t.stop()}}),t)})))()},addItemBarcode:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var s,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Number.isInteger(Number(e.searches.iSearch))){t.next=7;break}return t.next=3,e.$http.get("/item/getItemForPurchase/"+e.searches.iSearch);case 3:s=t.sent,n=s.data,a=n.getItemForPurchase,a?(e.purchase_item.item=a,e.selectItem()):e.clearFields();case 7:case"end":return t.stop()}}),t)})))()},deleteItem:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then(Object(f["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.purchaseID){s.next=7;break}return n=Object(Ls["a"])({},e),n.stockType=t.purchase.stockType,s.next=5,t.$http.delete("/purchase/deleteItem",{data:n}).then((function(s){var n=s.data;n.force?(t.emitter.$emit("deletePurchase",t.purchase.purchaseID),t.emitter.$emit("notify",{type:"success",text:"زانیاری ئەم وەسڵە سڕایەوە"}),t.clearFields(!0)):(t.emitter.$emit("notify",{type:"success",text:"کاڵاکە سڕایەوە"}),t.purchase.purchase_items=t.purchase.purchase_items.filter((function(t){return t.itemID!=e.itemID})))})).catch((function(){return t.emitter.$emit("notify",{type:"error",text:" هەڵەیەک ڕوویدا!"})}));case 5:s.next=8;break;case 7:t.purchase.purchase_items=t.purchase.purchase_items.filter((function(t){return t.itemID!=e.itemID}));case 8:case"end":return s.stop()}}),s)}))));case 1:case"end":return s.stop()}}),s)})))()},submit:function(){var e=this;if(this.$refs.formPurchase.validate()){var t=Object(Ls["a"])({},this.purchase);t.supplierName=this.suppliers.find((function(e){return e.supplierID==t.supplierID})).supplierName,t.totalPrice=0,t.purchase_items.forEach((function(e){delete e.item,delete e.menu,delete e.total,t.totalPrice+=e.costAfterDisc*e.qty})),t.note1=" پێدانی پێشەکی کڕین بە ",t.notePurchase=" لە پسووڵەی ",t.note2=" پێدانی پارەی کاش بە ",t.note3=" وەرگرتنەوەی پارەی گەڕاوەی کڕین لە ",this.$http.post("/purchase",{data:t}).then((function(){e.emitter.$emit("notify",{type:"success",text:"کڕینەکە زیادکرا"}),e.clearFields(!0),e.emitter.$emit("addPurchase")})).catch((function(){return e.emitter.$emit("notify",{type:"error",text:"هەڵەیەک ڕویدا!"})}))}},filterObject:function(e,t){return e.itemCode.toLowerCase().startsWith(t.toLowerCase())||e.itemName.toLowerCase().startsWith(t.toLowerCase())},updateItem:function(e){var t=this,s=e;s.stockType=this.purchase.stockType,s.total=this.total,delete s.item,delete s.total,delete s.menu,this.$http.patch("/purchase/updateItem",{data:s}).then((function(){return t.emitter.$emit("notify",{type:"success",text:"زانیارییەکان نوێکرانەوە"})})).catch((function(){return t.emitter.$emit("notify",{type:"error",text:" هەڵەیەک ڕوویدا!"})}))},insertItem:function(e){var t=this;if(e.qty<0)this.emitter.$emit("notify",{type:"error",text:"تکایە ژمارەی دانەکان دیاریبکە"});else{var s=Object(Ls["a"])({},e);delete s.item,delete s.menu,delete s.total,s.purchaseID=this.purchase.purchaseID,s.stockType=this.purchase.stockType,this.$http.post("purchase/addItem",{itemm:s}).then((function(){e.purchaseID=t.purchase.purchaseID,t.emitter.$emit("notify",{type:"success",text:"کاڵاکە زیادکرا"})})).catch((function(){return t.emitter.$emit("notify",{type:"error",text:"هەڵەیەک ڕویدا"})}))}},update:function(){var e=this;if(this.$refs.formPurchase.validate()){var t=Object(Ls["a"])({},this.purchase);t.totalPrice=this.total,delete t.purchase_items,delete t.suppliers,this.$http.patch("purchase/updatePurchase",{data:t}).then((function(){e.clearFields(!0),e.emitter.$emit("notify",{type:"success",text:"وەسڵەکە نوێکرایەوە "}),e.emitter.$emit("updatePurchase")})).catch((function(){return e.emitter.$emit("notify",{type:"error",text:"هەڵەیەک ڕویدا"})}))}},changeAfterDis:function(e){e.costAfterDisc=e.costPrice-e.discount,e.total=e.costAfterDisc*e.qty},clearFields:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.purchase_item.costPrice=0,this.purchase_item.item={itemID:0},this.purchase_item.discount=0,this.purchase_item.expiryDate=(new Date).toISOString().split("T")[0],this.purchase_item.qty=0,this.purchase_item.discount=0,this.purchase_item.costAfterDisc=0,this.purchase_item.itemID=0,this.$refs.listForm.resetValidation(),e&&(this.purchase.purchaseID=null,this.purchase.purchase_items=[],this.purchase.discount=0,this.purchase.amountPay=0,this.purchase.note="",this.purchase.supplierID=0,this.purchase.shelfID=null,this.purchase.referenceNo=0,this.$refs.formPurchase.resetValidation())},setFocus:function(e){document.getElementById(e).focus()},clearExpense:function(){this.singleExpense.expenseID=null,this.singleExpense.typeExpenseID=null,this.singleExpense.priceExpenseIQD=0,this.singleExpense.priceExpense$=0,this.$refs.formExpense.resetValidation()}},watch:{"searches.sSearch":function(){this.getSuplliers()},"searches.iSearch":function(){this.getItems()}},beforeDestroy:function(){this.emitter.$off("closePurchase")}}),qs=Fs,js=s("c6a6"),Ws=s("ce87"),Ms=Object(l["a"])(qs,As,Us,!1,null,null,null),Qs=Ms.exports;u()(Ms,{VAutocomplete:js["a"],VBtn:$["a"],VCol:w["a"],VContainer:pe["a"],VForm:A["a"],VHover:Ws["a"],VIcon:N["a"],VRow:T["a"],VSelect:_e["a"],VSimpleTable:L["a"],VTextField:F["a"],VTextarea:et["a"]});var Hs={name:"Purchases",components:{formPurchase:Qs},data:function(){return{dialog:!1,table:{page:1,numberOfPurchase:0},purchases:[],searchInvoice:""}},methods:{getPurchases:function(){var e=this;this.$http.get("/purchase",{params:{page:this.table.page}}).then(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(s){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s.data,t.next=3,n.purchases.forEach((function(t,s){t.index=20*(e.table.page-1)+s+1}));case 3:e.purchases=n.purchases,e.table.numberOfPurchase=n.nop;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getPurchase:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.$http.get("/purchase/"+e).then((function(e){var s=e.data;t.dialog=!0,t.emitter.$emit("openPurchase",s)}));case 1:case"end":return s.stop()}}),s)})))()},search:function(){var e=this;this.searchInvoice&&this.$http.get("/purchase/search/"+this.searchInvoice).then(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(s){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s.data,t.next=3,n.purchases.forEach((function(e,t){e.index=t+1}));case 3:e.purchases=n.purchases,e.table.numberOfPurchase=n.nop;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},created:function(){this.getPurchases()},mounted:function(){var e=this;this.emitter.$on("deletePurchase",(function(t){e.purchases=e.purchases.filter((function(e){return e.purchaseID!=t})),e.dialog=!1})),this.emitter.$on("updatePurchase",(function(){e.dialog=!1,e.getPurchases()})),this.emitter.$on("addPurchase",(function(){return e.getPurchases()}))},computed:{headers:function(){return[{text:"#",value:"index",align:"center",sortable:!1},{text:"کۆمپانیا",value:"supplierName",align:"center",sortable:!1},{text:"ژمارەی وەصل",value:"referenceNo",align:"center",sortable:!0},{text:"کۆی گشتی",value:"totalPrice",align:"center",sortable:!0},{text:"جۆری کڕین",value:"paymentType",align:"center",sortable:!1},{text:"جۆری وەصل",value:"purchaseStatus",align:"center",sortable:!1},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردار",value:"actions",align:"center",sortable:!1}]}},watch:{"table.page":function(){this.getPurchases()}},beforeDestroy:function(){this.emitter.$off("openPurchase"),this.emitter.$off("deletePurchase"),this.emitter.$off("updatePurchase"),this.emitter.$off("addPurchase")},filters:{invoiceType:$e,purchaseStatus:we}},Gs=Hs,zs=Object(l["a"])(Gs,Os,Bs,!1,null,null,null),Ks=zs.exports;u()(zs,{VAlert:C["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VHover:Ws["a"],VIcon:N["a"],VPagination:U["a"],VRow:T["a"],VSpacer:Le["a"],VTextField:F["a"]}),qe()(zs,{Ripple:rt["a"]});var Js=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeDisposal"),expression:"emitter.$emit('closeDisposal')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کۆمپانیا ")],1)]}}]),model:{value:e.sheets.disposal,callback:function(t){e.$set(e.sheets,"disposal",t)},expression:"sheets.disposal"}},[s("v-sheet",{staticClass:"pa-3"},[s("formDisposal")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی تەلەف ")],1)]}}],null,!1,1542061410),model:{value:e.dialogs.disposal,callback:function(t){e.$set(e.dialogs,"disposal",t)},expression:"dialogs.disposal"}},[s("v-card",[s("v-card-title",[s("span",[e._v("تۆمارکردنی (تەلەف - ونبوو - شکاو)")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeDisposal"),e.dialogs.disposal=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formDisposal")],1)],1)],1)],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.disposals,loading:e.loadings.table,"loading-text":"تکایە چاوەڕوانبە....","footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemCode)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.costPrice)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.qty)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(n.createAt).toISOString().split("T")[0])+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.userName)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getDisposal(n)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteDisposal(n.disposalID,n.itemID)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])]}}])}),s("notification")],1)},Xs=[],Ys=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formDisposal",on:{submit:function(e){e.preventDefault()}}},[e.singleDisposal.disposalID?s("v-text-field",{attrs:{outlined:"",dense:"",label:"ناوی کاڵا",readonly:""},model:{value:e.singleDisposal.itemName,callback:function(t){e.$set(e.singleDisposal,"itemName",t)},expression:"singleDisposal.itemName"}}):s("v-autocomplete",{attrs:{outlined:"",dense:"","search-input":e.search,items:e.items,"item-text":"itemName","item-value":"itemID",filter:e.filterObject},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getItemID()}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("span",{staticStyle:{"font-size":"14px"},on:{click:function(t){e.search=n.itemName,e.getItemID()}}},[e._v(" "+e._s(n.itemName)+" ")])]}}],null,!1,1751291520)}),s("v-text-field",{attrs:{label:"نرخی کڕین",readonly:"",dense:"",outlined:"",type:"number"},model:{value:e.singleDisposal.costPrice,callback:function(t){e.$set(e.singleDisposal,"costPrice",e._n(t))},expression:"singleDisposal.costPrice"}}),s("v-text-field",{attrs:{label:"دانە",dense:"",outlined:"",type:"number",id:"qty",rules:e.rules.qty},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("expiryDate")}},model:{value:e.singleDisposal.qty,callback:function(t){e.$set(e.singleDisposal,"qty",e._n(t))},expression:"singleDisposal.qty"}})],1),e.singleDisposal.disposalID?s("v-btn",{attrs:{color:"warning",block:""},on:{click:function(t){return e.updateDisposal()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{color:"success",block:""},on:{click:function(t){return e.addDisposal()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)},Zs=[],en={data:function(){return{lodings:{addDisposal:!1,updateDisposal:!1,deleteDisposal:!1},singleDisposal:{disposalID:null,itemID:null,itemName:null,costPrice:0,qty:0},menu2:!1,barcode:null,userID:null,rules:{itemCode:[function(e){return null!=e&&e.length>0||"تکایە بارکۆد دیاری بکە"}],qty:[function(e){return null!=e&&e>0||"تکایە دانە دیاری بکە"}]},search:null,items:[]}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID}))},mounted:function(){var e=this;this.emitter.$on("openDisposal",(function(t){e.singleDisposal.disposalID=t.disposalID,e.singleDisposal.itemID=t.itemID,e.singleDisposal.itemName=t.itemName,e.singleDisposal.costPrice=t.costPrice,e.singleDisposal.qty=t.qty})),this.emitter.$on("closeDisposal",(function(){e.clearDisposal()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},addDisposal:function(){var e=this;this.$refs.formDisposal.validate()&&(this.lodings.addDisposal=!0,this.$http.post("/item/addDisposal",{itemID:this.singleDisposal.itemID,costPrice:this.singleDisposal.costPrice,qty:this.singleDisposal.qty}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("disposalAdded",{disposalID:s.disposalID,itemID:e.singleDisposal.itemID,itemCode:e.items.find((function(t){return t.itemID==e.singleDisposal.itemID})).itemCode,itemName:e.items.find((function(t){return t.itemID==e.singleDisposal.itemID})).itemName,costPrice:e.singleDisposal.costPrice,qty:e.singleDisposal.qty,expiryDate:e.singleDisposal.expiryDate}),e.clearDisposal()})).finally((function(){e.lodings.addDisposal=!1})))},updateDisposal:function(){var e=this;this.$refs.formDisposal.validate()&&(this.lodings.updateDisposal=!0,this.$http.patch("/item/updateDisposal/"+this.singleDisposal.disposalID,{itemID:this.singleDisposal.itemID,costPrice:this.singleDisposal.costPrice,qty:this.singleDisposal.qty}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("disposalUpdated",{disposalID:e.singleDisposal.disposalID,costPrice:e.singleDisposal.costPrice,qty:e.singleDisposal.qty})})).finally((function(){e.lodings.updateDisposal=!1})))},clearDisposal:function(){this.singleDisposal.disposalID=null,this.search=null,this.singleDisposal.itemID=null,this.singleDisposal.costPrice=0,this.singleDisposal.qty=0,this.singleDisposal.expiryDate=null,this.items=[],this.$refs.formDisposal.resetValidation()},filterObject:function(e,t){return e.itemCode.toLowerCase().startsWith(t.toLowerCase())||e.itemName.toLowerCase().startsWith(t.toLowerCase())},getItemID:function(){var e=this,t=this.items.find((function(t){return t.itemCode==e.search||t.itemName==e.search}));t?(this.singleDisposal.itemID=t.itemID,this.search=t.itemName,this.singleDisposal.costPrice=t.costPrice):(this.singleDisposal.itemID=null,this.singleDisposal.costPrice=0)}},watch:{search:function(){var e=this;this.search?this.$http.get("/item/getItem/"+this.search).then((function(t){var s=t.data;e.items=s})):this.items=[]}},beforeDestroy:function(){this.emitter.$off("openDisposal"),this.emitter.$off("closeDisposal")}},tn=en,sn=Object(l["a"])(tn,Ys,Zs,!1,null,null,null),nn=sn.exports;u()(sn,{VAutocomplete:js["a"],VBtn:$["a"],VForm:A["a"],VIcon:N["a"],VTextField:F["a"]});var an={name:"Disposals",components:{formDisposal:nn},data:function(){return{dialogs:{disposal:!1},sheets:{disposal:!1},loadings:{table:!1},disposals:[],userName:""}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userName=s.userName})),this.getDisposals()},mounted:function(){var e=this;this.emitter.$on("disposalAdded",(function(t){e.disposals.unshift({disposalID:t.disposalID,itemID:t.itemID,itemCode:t.itemCode,itemName:t.itemName,costPrice:t.costPrice,userName:e.userName,qty:t.qty,createAt:(new Date).toISOString().split("T")[0]})})),this.emitter.$on("disposalUpdated",(function(t){var s=e.disposals.findIndex((function(e){return e.disposalID=t.disposalID}));e.disposals[s].costPrice=t.costPrice,e.disposals[s].qty=t.qty}))},methods:{getDisposals:function(){var e=this;this.loadings.table=!0,this.$http.get("/item/disposalToday").then((function(t){var s=t.data;e.disposals=s})).finally((function(){e.loadings.table=!1}))},getDisposal:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.disposal=!0,s.next=7;break;case 6:t.dialogs.disposal=!0;case 7:t.emitter.$emit("openDisposal",{disposalID:e.disposalID,itemID:e.itemID,itemName:e.itemName,costPrice:e.costPrice,qty:e.qty});case 8:case"end":return s.stop()}}),s)})))()},deleteDisposal:function(e,t){var s=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم خەرجیە ؟","","question").then((function(){var n=s.disposals.findIndex((function(t){return t.disposalID==e}));s.$http.delete("/item//deleteDisposal/"+e+"/"+t).then((function(){s.disposals.splice(n,1)}))}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"بارکۆد",value:"itemCode",align:"center",sortable:!1},{text:"ناوی کاڵا",value:"itemName",align:"center",sortable:!1},{text:"نرخی کڕین",value:"costPrice",align:"center",sortable:!1},{text:"دانە",value:"qty",align:"center",sortable:!1},{text:"بەروار",value:"createAt",align:"center",sortable:!1},{text:"بەکار‌هێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("disposalAdded"),this.emitter.$off("disposalUpdated")}},rn=an,on=Object(l["a"])(rn,Js,Xs,!1,null,null,null),ln=on.exports;u()(on,{VBottomSheet:Be["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VRow:T["a"],VSheet:Ue["a"],VSpacer:Le["a"]}),qe()(on,{ClickOutside:je["a"]});var cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[n("v-container",{staticClass:"pt-1",style:"max-height: "+e.dynamicHeight+"px; max-height: "+e.dynamicHeight+"px; overflow-y: auto;"},[n("v-row",[n("v-col",{staticClass:"mb-0 pb-0",attrs:{cols:"12"}},[n("v-row",[n("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"2",lg:"2"}},[n("v-switch",{attrs:{label:"جوملە",inset:"",disabled:1==e.singleInvoice.sellStatus},model:{value:e.wholeSell,callback:function(t){e.wholeSell=t},expression:"wholeSell"}})],1),n("v-col",{attrs:{cols:"12",md:"3",lg:"3"}},[n("v-text-field",{attrs:{label:"ژ.وەصڵ",outlined:"",dense:"",success:"",loading:e.loadings.searchInvoice,clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getInvoice()},"click:clear":function(t){!e.singleInvoice.invoiceID||0!=e.singleInvoice.sellStatus||e.unsoldedInvoices.push(e.singleInvoice.invoiceID),e.clearInvoice()}},model:{value:e.searchInvoice,callback:function(t){e.searchInvoice=e._n(t)},expression:"searchInvoice"}})],1),n("v-col",{attrs:{cols:"12",md:"7",lg:"7"}},[n("v-autocomplete",{attrs:{label:"گەڕان",outlined:"",dense:"",items:e.items,loading:e.loadings.searchItem,filter:e.filterObject,id:"search-item","item-text":"itemName","item-value":"itemID","search-input":e.search},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setItem()}},scopedSlots:e._u([{key:"item",fn:function(t){var s=t.item;return[n("span",{staticStyle:{"font-size":"14px",width:"100%"},on:{click:function(t){e.search=s.itemCode,e.setItem()}}},[e._v(" "+e._s(s.itemName)+" ")])]}}])})],1)],1),n("v-select",{attrs:{label:"جۆرەکان",outlined:"",dense:"",clearable:"",items:e.categories,"item-text":"categoryName","item-value":"categoryID"},model:{value:e.categoryID,callback:function(t){e.categoryID=t},expression:"categoryID"}})],1),e._l(e.buttonItems,(function(t){return n("v-col",{key:t.itemID,attrs:{cols:"12",md:"2",xl:"2"}},[n("v-card",{staticClass:"pa-1",attrs:{elevation:"2",disabled:1==e.singleInvoice.sellStatus},on:{click:function(s){e.search=t.itemCode,e.setItem()}}},[n("v-img",{attrs:{src:"/item/image/"+(t.image||"default.jpg"),contain:"",height:"95px"}}),n("v-divider",{staticClass:"my-1"}),n("div",{staticStyle:{height:"75px"}},[n("small",{staticClass:"font-weight-bold"},[e._v(" "+e._s(t.itemName.length>36?t.itemName.substring(0,36)+"...":t.itemName)+" ")])]),n("v-chip",{attrs:{color:"primary",label:"",outlined:"",small:"",dir:"ltr"}},[e._v(" "+e._s((e.wholeSell?t.itemPriceWhole:t.itemPriceRetail).toLocaleString())+" $ ")])],1)],1)}))],2)],1)],1),n("v-divider",{attrs:{vertical:""}}),n("v-col",{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[n("v-container",{staticClass:"pt-0",attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"5",xl:"5"}},[n("v-badge",{attrs:{color:"primary",content:e.customerDebt.toLocaleString()+" $",value:e.customerDebt,"offset-x":9*e.customerDebt.toString().length,"offset-y":"12"}},[n("v-select",{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,disabled:1==e.singleInvoice.sellStatus,"item-text":"customerName","item-value":"customerID"},model:{value:e.singleInvoice.customerID,callback:function(t){e.$set(e.singleInvoice,"customerID",t)},expression:"singleInvoice.customerID"}})],1)],1),n("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"3",xl:"3"}},[n("v-select",{attrs:{label:"جۆر",outlined:"",dense:"",items:[{text:"فرۆشتن",value:"s"},{text:"گەڕاندنەوە",value:"rs"}],disabled:1==e.singleInvoice.sellStatus,"item-text":"text","item-value":"value"},model:{value:e.singleInvoice.stockType,callback:function(t){e.$set(e.singleInvoice,"stockType",t)},expression:"singleInvoice.stockType"}})],1),n("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"3",xl:"3"}},[n("v-select",{attrs:{label:"فرۆشتن بە",outlined:"",dense:"",items:[{text:"کاش",value:"c"},{text:"قەرز",value:"d"}],disabled:1==e.singleInvoice.sellStatus||1==e.singleInvoice.customerID,"item-text":"text","item-value":"value"},model:{value:e.singleInvoice.invoiceType,callback:function(t){e.$set(e.singleInvoice,"invoiceType",t)},expression:"singleInvoice.invoiceType"}})],1),e.unsoldedInvoices.length>0&&!e.singleInvoice.invoiceID?n("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"1",xl:"1"}},[n("v-btn",{attrs:{color:"warning",block:"",fab:"",small:""},on:{click:function(t){e.searchInvoice=e.unsoldedInvoices.pop(),e.getInvoice()}}},[n("v-icon",[e._v(" mdi-alert-circle-outline ")])],1)],1):e._e(),n("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12"}},[n("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:e.dynamicHeight-255+"px"},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-center"},[e._v(" کاڵا ")]),n("th",{staticClass:"text-center"},[e._v(" خاوەندارێتی ")]),n("th",{staticClass:"text-center"},[e._v(" مەخزەن ")]),n("th",{staticClass:"text-center",staticStyle:{width:"18%"}},[e._v(" نرخ ")]),n("th",{staticClass:"text-center",staticStyle:{width:"18%"}},[e._v(" دانە ")]),n("th",{staticClass:"text-center"},[e._v(" کۆی نرخ ")]),n("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" کردارەکان ")])])]),n("tbody",e._l(e.invoiceItems,(function(t,s){return n("tr",{key:t.invdID},[n("td",[e._v(" "+e._s(t.itemName)+" ")]),n("td",[e._v(" "+e._s(t.shelfName)+" ")]),n("td",[e._v(" "+e._s(t.unitName)+" ")]),n("td",[n("v-text-field",{attrs:{dense:"",type:"number"},on:{change:function(s){return e.changeProductPrice(t.invdID,t.productPrice,t.itemID)}},model:{value:e.invoiceItems[s].productPrice,callback:function(t){e.$set(e.invoiceItems[s],"productPrice",t)},expression:"invoiceItems[index].productPrice"}})],1),n("td",[n("v-text-field",{attrs:{dense:"",type:"number"},on:{change:function(s){return e.changeQty(t.invdID,t.qty,t.itemID)}},scopedSlots:e._u([t.qty>1?{key:"prepend-inner",fn:function(){return[n("v-btn",{attrs:{icon:"","x-small":"",color:"error"},on:{click:function(n){return e.decreaseItem(t.invdID,s,t.itemID)}}},[n("v-icon",[e._v(" mdi-minus ")])],1)]},proxy:!0}:null,{key:"append",fn:function(){return[n("v-btn",{attrs:{icon:"","x-small":"",color:"success"},on:{click:function(n){return e.increaseItem(t.invdID,s,t.itemID)}}},[n("v-icon",[e._v(" mdi-plus ")])],1)]},proxy:!0}],null,!0),model:{value:e.invoiceItems[s].qty,callback:function(t){e.$set(e.invoiceItems[s],"qty",t)},expression:"invoiceItems[index].qty"}})],1),n("td",[e._v(" "+e._s((t.productPrice*t.qty).toLocaleString())+" ")]),n("td",[e.wholeSell?n("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(n){return e.openWholeSell(t.itemID,t.qty,t.invdID,s)}}},[n("v-icon",[e._v(" mdi-pencil ")])],1):e._e(),n("v-btn",{attrs:{color:"error",icon:""},on:{click:function(n){return e.deleteItem(t.invdID,t.itemID,s)}}},[n("v-icon",[e._v(" mdi-delete ")])],1)],1)])})),0)]},proxy:!0}])})],1),n("v-col",{attrs:{cols:"12"}},[n("v-chip",{staticClass:"text-center pt-0",staticStyle:{width:"100%","font-size":"24px"},attrs:{color:"success",large:"",label:""}},[e._v(" کۆی گشتی : "+e._s(e.getTotal.toLocaleString())+" $ ")])],1),n("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"12",xl:"12"}},[n("v-text-field",{attrs:{label:"پارەی دراو",outlined:"",dense:"",prefix:"$",type:"number"},model:{value:e.singleInvoice.totalPay,callback:function(t){e.$set(e.singleInvoice,"totalPay",e._n(t))},expression:"singleInvoice.totalPay"}})],1),0==e.singleInvoice.sellStatus?n("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6",xl:"6"}},[n("v-btn",{attrs:{color:"primary",block:"",disabled:!e.singleInvoice.invoiceID,loading:e.loadings.sellInvoice},on:{click:function(t){return e.sellInvoice("A4")}}},[n("v-icon",{attrs:{left:""}},[e._v(" mdi-printer ")]),e._v(" فرۆشتن ")],1)],1):e._e(),0==e.singleInvoice.sellStatus?n("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6",xl:"6"}},[n("v-btn",{attrs:{color:"primary",block:"",disabled:!e.singleInvoice.invoiceID,loading:e.loadings.sellInvoice},on:{click:function(t){return e.sellInvoice("cashier")}}},[n("v-icon",{attrs:{left:""}},[e._v(" mdi-printer-pos ")]),e._v(" فرۆشتن کاشێر ")],1)],1):n("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6",lg:"6"}},[n("v-btn",{attrs:{color:"warning",block:""},on:{click:function(t){return e.updateInvoice()}}},[n("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1)],1),n("v-col",{attrs:{cols:"12",md:"6",lg:"6"}},[n("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.printInvoice()}}},[n("v-icon",{attrs:{left:""}},[e._v(" mdi-printer ")]),e._v(" چاپکردن ")],1)],1)],1)],1)],1)],1)],1)],1),n("v-dialog",{attrs:{persistent:"",width:"35%"},model:{value:e.dialogs.itemDetail,callback:function(t){e.$set(e.dialogs,"itemDetail",t)},expression:"dialogs.itemDetail"}},[n("v-card",[n("v-card-title",[n("span",[e._v(" زانیاری کاڵا ")]),n("v-spacer"),n("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.closeWholeSell()}}},[n("v-icon",[e._v(" mdi-close ")])],1)],1),n("v-divider"),n("v-card-text",{staticClass:"mt-2"},[n("v-chip",{staticClass:"black--text text-center mt-2",staticStyle:{width:"100%"},attrs:{label:"",large:""}},[e._v(" نرخی فرۆشتنی جوملە = "+e._s(e.wholeSellObj.itemPriceWhole.toLocaleString())+" $ ")]),n("v-chip",{staticClass:"black--text text-center mt-2",staticStyle:{width:"100%"},attrs:{label:"",large:""}},[e._v(" نرخی فرۆشتنی مفرد = "+e._s(e.wholeSellObj.itemPriceRetail.toLocaleString())+" $ ")]),n("v-divider",{staticClass:"my-2"}),n("v-btn",{attrs:{color:"primary",block:"",loading:e.loadings.saveWholeSell},on:{click:function(t){return e.saveWholeSell()}}},[e._v(" گۆڕین بە فرۆشتنی جوملە ")])],1)],1)],1),n("v-dialog",{attrs:{width:"70%"},model:{value:e.dialogs.cashDiscount,callback:function(t){e.$set(e.dialogs,"cashDiscount",t)},expression:"dialogs.cashDiscount"}},[n("v-card",[n("v-card-title",[n("span",[e._v(" دراوەکان ")]),n("v-spacer"),n("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.cashDiscount=!1}}},[n("v-icon",[e._v(" mdi-close ")])],1)],1),n("v-divider"),n("v-card-text",{staticClass:"mt-2"},[n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"my-0 py-0",attrs:{cols:"10"}},[n("v-text-field",{attrs:{label:"داشکاندن",outlined:"",dense:"",prefix:"IQD",type:"number"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.shiftKey?void(e.singleInvoice.discount=0):null}},model:{value:e.singleInvoice.discount,callback:function(t){e.$set(e.singleInvoice,"discount",e._n(t))},expression:"singleInvoice.discount"}})],1),n("v-col",{staticClass:"my-0 py-0",attrs:{cols:"2"}},[n("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){e.singleInvoice.discount=0}}},[e._v(" سفرکردنەوە ")])],1),n("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("d9b1")},on:{click:function(t){e.singleInvoice.discount+=100*e.$store.state.dollarPrice}}})],1),n("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("6027")},on:{click:function(t){e.singleInvoice.discount+=25e3}}})],1),n("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("9145")},on:{click:function(t){e.singleInvoice.discount+=1e4}}})],1),n("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("0f81")},on:{click:function(t){e.singleInvoice.discount+=5e3}}})],1),n("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("328f")},on:{click:function(t){e.singleInvoice.discount+=1e3}}})],1),n("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("59f6")},on:{click:function(t){e.singleInvoice.discount+=250}}})],1)],1)],1)],1)],1)],1),n("v-dialog",{attrs:{width:"70%"},model:{value:e.dialogs.cashPayment,callback:function(t){e.$set(e.dialogs,"cashPayment",t)},expression:"dialogs.cashPayment"}},[n("v-card",[n("v-card-title",[n("span",[e._v(" دراوەکان ")]),n("v-spacer"),n("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.cashPayment=!1}}},[n("v-icon",[e._v(" mdi-close ")])],1)],1),n("v-divider"),n("v-card-text",{staticClass:"mt-2"},[n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"my-0 py-0",attrs:{cols:"7"}},[n("v-text-field",{attrs:{label:"پارەی دراو",outlined:"",dense:"",prefix:"IQD",type:"number"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.shiftKey?void(e.singleInvoice.totalPay=0):null}},model:{value:e.singleInvoice.totalPay,callback:function(t){e.$set(e.singleInvoice,"totalPay",e._n(t))},expression:"singleInvoice.totalPay"}})],1),n("v-col",{staticClass:"my-0 py-0",attrs:{cols:"3"}},[n("v-alert",{attrs:{color:"success",outlined:"",dense:""}},[e._v(" باقی: "+e._s((e.singleInvoice.totalPay-e.getTotal).toLocaleString())+" ")])],1),n("v-col",{staticClass:"my-0 py-0",attrs:{cols:"2"}},[n("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){e.singleInvoice.totalPay=0}}},[e._v(" سفرکردنەوە ")])],1),n("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("d9b1")},on:{click:function(t){e.singleInvoice.totalPay+=100*e.$store.state.dollarPrice}}})],1),n("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("6027")},on:{click:function(t){e.singleInvoice.totalPay+=25e3}}})],1),n("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("9145")},on:{click:function(t){e.singleInvoice.totalPay+=1e4}}})],1),n("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("0f81")},on:{click:function(t){e.singleInvoice.totalPay+=5e3}}})],1),n("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("328f")},on:{click:function(t){e.singleInvoice.totalPay+=1e3}}})],1),n("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("59f6")},on:{click:function(t){e.singleInvoice.totalPay+=250}}})],1)],1)],1)],1)],1)],1),n("notification")],1)},un=[],dn=(s("99af"),{name:"Invoice",data:function(){return{dialogs:{cashPayment:!1,cashDiscount:!1,itemDetail:!1},loadings:{searchInvoice:!1,saveWholeSell:!1,sellInvoice:!1,searchItem:!1},wholeSell:!1,customers:[],categories:[],items:[],buttonItems:[],categoryID:null,searchInvoice:null,singleInvoice:{invoiceID:null,customerID:1,totalPay:0,discount:0,dollarPrice:0,stockType:"s",sellStatus:"0",invoiceType:"c"},invoiceItems:[],wholeSellObj:{qtyWhole:0,perUnit:0,unit:null,invdID:null,index:null,itemPriceWhole:0,itemPriceRetail:0},customerDebt:0,unsoldedInvoices:[],userID:null,search:""}},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID}));case 2:e.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s})),e.$http.get("/essential/getCategories").then((function(t){var s=t.data;e.categories=s})),e.$http.get("/invoice/getUnsoldedInvoices/"+e.userID).then((function(t){var s=t.data;e.unsoldedInvoices=s}));case 5:case"end":return t.stop()}}),t)})))()},mounted:function(){document.getElementById("search-item").focus(),this.emitter.$emit("changeDrawer",!1)},methods:{closeWholeSell:function(){this.dialogs.itemDetail=!1,this.wholeSellObj.qtyWhole=0,this.wholeSellObj.perUnit=0,this.wholeSellObj.unit=null,this.wholeSellObj.invdID=null,this.wholeSellObj.itemPriceWhole=0,this.wholeSellObj.itemPriceRetail=0,this.wholeSellObj.index=null},filterObject:function(e,t){return e.itemCode.toLowerCase().startsWith(t.toLowerCase())||e.itemName.toLowerCase().startsWith(t.toLowerCase())},clearInvoice:function(){this.singleInvoice.invoiceID=null,this.singleInvoice.customerID=1,this.singleInvoice.totalPay=0,this.singleInvoice.discount=0,this.singleInvoice.dollarPrice=0,this.singleInvoice.stockType="s",this.singleInvoice.sellStatus="0",this.singleInvoice.invoiceType="c",this.invoiceItems=[],this.searchInvoice=null},setItem:function(){var e=this;this.search&&(this.loadings.searchItem=!0,this.$http.post("/invoice/addInvoice",{search:this.search,invoiceID:this.singleInvoice.invoiceID,customerID:this.singleInvoice.customerID,dollarPrice:this.$store.state.dollarPrice,stockType:this.singleInvoice.stockType,invoiceType:this.singleInvoice.invoiceType,sellStatus:this.singleInvoice.sellStatus,wholeSell:this.wholeSell}).then((function(t){var s=t.data;if("Invoice Created"==s.message)e.singleInvoice.invoiceID=s.invoiceID,e.searchInvoice=s.invoiceID,e.invoiceItems.unshift({invdID:s.invdID,itemID:s.itemID,itemName:s.itemName,qty:s.qty,productPrice:s.productPrice,shelfName:s.shelfName,unitName:s.unitName});else if("Item Added"==s.message)e.invoiceItems.unshift({invdID:s.invdID,itemID:s.itemID,itemName:s.itemName,qty:s.qty,productPrice:s.productPrice,shelfName:s.shelfName,unitName:s.unitName});else if("Item Updated"==s.message){var n=e.invoiceItems.findIndex((function(e){return e.itemID==s.itemID}));e.invoiceItems[n].qty+=s.qty}1==e.singleInvoice.sellStatus&&e.$http.patch("/invoice/updateTotal/"+e.singleInvoice.invoiceID+"/"+e.singleInvoice.stockType,{totalPrice:e.getTotal,totalPay:e.singleInvoice.totalPay}).then((function(){}))})).catch((function(t){e.emitter.$emit("notify",{type:"warning",text:t.response.data.message})})).finally((function(){e.loadings.searchItem=!1,e.search=null})))},getInvoice:function(){var e=this;this.searchInvoice?(this.loadings.searchInvoice=!0,this.$http.get("/invoice/searchInvoice/"+this.searchInvoice).then((function(t){var s=t.data;e.singleInvoice.invoiceID=e.searchInvoice,e.singleInvoice.customerID=s.invoice.customerID,e.singleInvoice.totalPay=s.invoice.totalPay,e.singleInvoice.discount=s.invoice.discount,e.singleInvoice.stockType=s.invoice.stockType,e.singleInvoice.sellStatus=s.invoice.sellStatus,e.singleInvoice.invoiceType=s.invoice.invoiceType,e.invoiceItems=s.invoiceItems})).catch((function(t){e.emitter.$emit("notify",{type:"error",text:t.response.data.message})})).finally((function(){return e.loadings.searchInvoice=!1}))):this.emitter.$emit("notify",{type:"warning",text:"ژمارەی وەصڵ داخڵ بکە"})},increaseItem:function(e,t,s){var n=this;this.$http.patch("/invoice/increaseItem/"+e+"/"+this.singleInvoice.invoiceID,{itemID:s,sellStatus:this.singleInvoice.sellStatus,stockType:this.singleInvoice.stockType,totalPrice:this.getTotal}).then((function(){var e=Number(n.invoiceItems[t].qty);n.invoiceItems[t].qty=e+1}))},decreaseItem:function(e,t,s){var n=this;this.$http.patch("/invoice/decreaseItem/"+this.singleInvoice.invoiceID+"/"+e,{itemID:s,sellStatus:this.singleInvoice.sellStatus,stockType:this.singleInvoice.stockType,totalPrice:this.getTotal}).then((function(){n.invoiceItems[t].qty-=Number(1)}))},changeQty:function(e,t,s){var n=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$http.patch("/invoice/changeQty/"+e+"/"+n.singleInvoice.invoiceID,{qty:t,itemID:s,sellStatus:n.singleInvoice.sellStatus,stockType:n.singleInvoice.stockType,totalPrice:n.getTotal});case 2:case"end":return a.stop()}}),a)})))()},changeProductPrice:function(e,t,s){var n=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.$http.patch("/invoice/changeProductPrice/"+e+"/"+n.singleInvoice.invoiceID,{productPrice:t,itemID:s,sellStatus:n.singleInvoice.sellStatus,stockType:n.singleInvoice.stockType,totalPrice:n.getTotal});case 2:case"end":return a.stop()}}),a)})))()},deleteItem:function(e,t,s){var n=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then((function(){n.$http.delete("/invoice/deleteItem/".concat(n.singleInvoice.invoiceID,"/").concat(e,"/").concat(n.singleInvoice.stockType,"/").concat(t)).then((function(e){var t=e.data,a=n.singleInvoice,i=a.invoiceID,r=a.stockType;"Item Deleted"==t.message?n.invoiceItems.splice(s,1):"Invoice Deleted"==t.message&&n.clearInvoice(),n.$http.patch("/invoice/updateTotal/"+i+"/"+r,{totalPrice:n.getTotal,totalPay:n.singleInvoice.totalPay}).then((function(){}))}))}))},openWholeSell:function(e,t,s,n){var a=this;this.$http.get("/item/getUnitInfo/"+e).then((function(e){var i=e.data;a.wholeSellObj.unit=i.unit,a.wholeSellObj.perUnit=i.perUnit,a.wholeSellObj.qtyWhole=t/i.perUnit,a.wholeSellObj.invdID=s,a.wholeSellObj.index=n,a.wholeSellObj.itemPriceWhole=i.itemPriceWhole,a.wholeSellObj.itemPriceRetail=i.itemPriceRetail,a.dialogs.itemDetail=!0}))},saveWholeSell:function(){var e=this;this.loadings.saveWholeSell=!0,this.$http.patch("/invoice/changePricetoWhole/"+this.wholeSellObj.invdID,{itemPriceWhole:this.wholeSellObj.itemPriceWhole}).then((function(){e.invoiceItems[e.wholeSellObj.index].productPrice=e.wholeSellObj.itemPriceWhole})).finally((function(){return e.loadings.saveWholeSell=!1}))},sellInvoice:function(e){var t=this;this.loadings.sellInvoice=!0,this.$http.patch("/invoice/sellInvoice/"+this.singleInvoice.invoiceID,{customerID:this.singleInvoice.customerID,customerName:this.customers.find((function(e){return e.customerID==t.singleInvoice.customerID})).customerName,totalPrice:this.getTotal,totalPay:this.singleInvoice.totalPay,discount:this.singleInvoice.discount,stockType:this.singleInvoice.stockType,invoiceType:this.singleInvoice.invoiceType,note:" وەرگرتنی پێشەکی فرۆشتن لە ",noteInvoice:" لە پسووڵە ",note2:" وەرگرتنی پارەی کاشی فرۆشتن لە ",note3:" گەڕاندنەوەی پارەی فرۆشراو بۆ  "}).then((function(){t.singleInvoice.sellStatus=1,t.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی فرۆشرا"}),"A4"==e?window.open("/printA4/"+t.singleInvoice.invoiceID):window.open("/printInvoice/"+t.singleInvoice.invoiceID),t.clearInvoice(),document.getElementById("search-item").focus()})).finally((function(){return t.loadings.sellInvoice=!1}))},printInvoice:function(){window.open("/printA4/"+this.singleInvoice.invoiceID)},updateInvoice:function(){var e=this;this.$confirm("دڵنیای لە گۆڕانکاری ئەم وەصڵە ؟","","question").then((function(){e.$http.patch("/invoice/updateInvoice/"+e.singleInvoice.invoiceID,{totalPrice:e.getTotal,totalPay:e.singleInvoice.totalPay,discount:e.singleInvoice.discount,stockType:e.singleInvoice.stockType,invoiceType:e.singleInvoice.invoiceType,customerID:e.singleInvoice.customerID}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})}))}))}},computed:{dynamicHeight:function(){return window.innerHeight-80},getTotal:function(){var e=this.invoiceItems.reduce((function(e,t){return e+t.qty*t.productPrice}),0);return e-this.singleInvoice.discount}},watch:{categoryID:function(){var e=this;this.categoryID?(this.buttonItems=[],this.$http.get("/item/getButtonItems/"+this.categoryID).then((function(t){var s=t.data;e.buttonItems=s}))):this.buttonItems=[]},search:function(){var e=this;this.search?this.$http.get("/item/getItem/"+this.search).then((function(t){var s=t.data;e.items=s})):this.items=[]},getTotal:function(){"c"==this.singleInvoice.invoiceType&&(this.singleInvoice.totalPay=this.getTotal)},"singleInvoice.customerID":function(e){var t=this;1==e?(this.singleInvoice.invoiceType="c",this.customerDebt=0):(this.customerDebt=0,this.$http.get("/customer/getCustomerDebtForInvoice/"+e).then((function(e){var s=e.data;t.customerDebt=s.totalRemain})))},"singleInvoice.invoiceType":function(e){this.singleInvoice.totalPay="d"==e?0:this.getTotal}}}),mn=dn,pn=s("4ca6"),vn=Object(l["a"])(mn,cn,un,!1,null,null,null),hn=vn.exports;u()(vn,{VAlert:C["a"],VAutocomplete:js["a"],VBadge:pn["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VChip:Ae["a"],VCol:w["a"],VContainer:pe["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VImg:Ze["a"],VRow:T["a"],VSelect:_e["a"],VSimpleTable:L["a"],VSpacer:Le["a"],VSwitch:it["a"],VTextField:F["a"]}),qe()(vn,{Ripple:rt["a"]});var fn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[s("v-container",{staticClass:"pt-1",style:"max-height: "+e.dynamicHeight+"px; max-height: "+e.dynamicHeight+"px; overflow-y: auto;"},[s("v-row",[s("v-col",{staticClass:"pt-0",attrs:{cols:"2"}},[s("v-switch",{attrs:{label:"جوملە",inset:""},model:{value:e.wholeSell,callback:function(t){e.wholeSell=t},expression:"wholeSell"}})],1),s("v-col",{staticClass:"my-0 py-0 pt-2",attrs:{cols:"10"}},[s("v-autocomplete",{attrs:{label:"گەڕان",outlined:"",dense:"","search-input":e.search,loading:e.loadings.searchItem,items:e.items,"item-text":"itemName","item-value":"itemID",filter:e.filterObject},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setItem()}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("span",{staticStyle:{"font-size":"14px"},on:{click:function(t){e.search=n.itemCode,e.setItem()}}},[e._v(" "+e._s(n.itemName)+" ")])]}}])})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[s("v-select",{attrs:{label:"جۆرەکان",outlined:"",dense:"",clearable:"",items:e.categories,"item-text":"categoryName","item-value":"categoryID"},model:{value:e.categoryID,callback:function(t){e.categoryID=t},expression:"categoryID"}})],1),e._l(e.buttonItems,(function(t){return s("v-col",{key:t.itemID,attrs:{cols:"12",md:"3",xl:"2"}},[s("v-card",{staticClass:"pa-1",attrs:{elevation:"2"},on:{click:function(s){e.search=t.itemCode,e.setItem()}}},[s("v-img",{attrs:{src:"/item/image/"+(t.image||"default.jpg"),contain:"",height:"95px"}}),s("v-divider",{staticClass:"my-1"}),s("div",{staticStyle:{height:"75px"}},[s("small",{staticClass:"font-weight-bold"},[e._v(" "+e._s(t.itemName.length>36?t.itemName.substring(0,36)+"...":t.itemName)+" ")])]),s("v-chip",{attrs:{color:"primary",label:"",outlined:"",small:"",dir:"ltr"}},[e._v(" "+e._s((e.wholeSell?t.itemPriceWhole:t.itemPriceRetail).toLocaleString())+" $ ")])],1)],1)}))],2)],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"10",lg:"10",xl:"10"}},[s("v-select",{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,"item-text":"customerName","item-value":"customerName"},model:{value:e.invoice.customer,callback:function(t){e.$set(e.invoice,"customer",t)},expression:"invoice.customer"}})],1),s("v-col",{attrs:{cols:"12",md:"2",lg:"2",xl:"2"}},[s("v-btn",{attrs:{block:"",color:"info"},on:{click:function(t){return e.clearInvoice()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:e.dynamicHeight-180+"px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center"},[e._v(" کاڵا ")]),s("th",{staticClass:"text-center"},[e._v(" خاوەندارێتی ")]),s("th",{staticClass:"text-center"},[e._v(" مەخزەن ")]),s("th",{staticClass:"text-center",staticStyle:{width:"18%"}},[e._v(" نرخ ")]),s("th",{staticClass:"text-center",staticStyle:{width:"18%"}},[e._v(" دانە ")]),s("th",{staticClass:"text-center"},[e._v(" کۆی نرخ ")]),s("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.invoice.sales,(function(t,n){return s("tr",{key:n},[s("td",[e._v(" "+e._s(t.itemName)+" ")]),s("td",[e._v(" "+e._s(t.shelfName)+" ")]),s("td",[e._v(" "+e._s(t.unitName)+" ")]),s("td",[s("v-text-field",{attrs:{dense:"",type:"number"},model:{value:e.invoice.sales[n].productPrice,callback:function(t){e.$set(e.invoice.sales[n],"productPrice",t)},expression:"invoice.sales[index].productPrice"}})],1),s("td",[s("v-text-field",{attrs:{dense:"",type:"number"},scopedSlots:e._u([t.qty>1?{key:"prepend-inner",fn:function(){return[s("v-btn",{attrs:{icon:"","x-small":"",color:"error"},on:{click:function(t){e.invoice.sales[n].qty-=1}}},[s("v-icon",[e._v(" mdi-minus ")])],1)]},proxy:!0}:null,{key:"append",fn:function(){return[s("v-btn",{attrs:{icon:"","x-small":"",color:"success"},on:{click:function(t){var s=Number(e.invoice.sales[n].qty);++s,e.invoice.sales[n].qty=s}}},[s("v-icon",[e._v(" mdi-plus ")])],1)]},proxy:!0}],null,!0),model:{value:e.invoice.sales[n].qty,callback:function(t){e.$set(e.invoice.sales[n],"qty",t)},expression:"invoice.sales[index].qty"}})],1),s("td",[e._v(" "+e._s((t.productPrice*t.qty).toLocaleString())+" $ ")]),s("td",[s("v-btn",{attrs:{color:"error",icon:""},on:{click:function(t){return e.deleteItem(n)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])})),0)]},proxy:!0}])})],1),s("v-col",{attrs:{cols:"12",md:"9",lg:"10",xl:"10"}},[s("v-chip",{staticClass:"text-center pt-0",staticStyle:{width:"100%","font-size":"24px"},attrs:{color:"success",large:"",label:""}},[e._v(" کۆی گشتی : "+e._s(e.getTotal.toLocaleString())+" $ ")])],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-btn",{staticStyle:{height:"55px"},attrs:{block:"",color:"primary","x-large":"",disabled:0==e.invoice.sales.length},on:{click:function(t){return e.printInvoice()}}},[s("v-icon",{attrs:{"x-large":""}},[e._v(" mdi-printer ")])],1)],1)],1)],1)],1)],1)},gn=[],bn={data:function(){return{loadings:{searchItem:null},search:"",items:[],categories:[],categoryID:null,customers:[],buttonItems:[],wholeSell:!1,invoice:{customer:"Walk-in Customer",sales:[],user:""}}},created:function(){var e=this;this.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s})),this.$http.get("/essential/getCategories").then((function(t){var s=t.data;e.categories=s})),this.$http.get("/verifyToken").then((function(t){var s=t.data;e.invoice.user=s.fullName}))},mounted:function(){this.emitter.$emit("changeDrawer",!1)},methods:{clearInvoice:function(){this.invoice.customer="Walk-in Customer",this.invoice.sales=[]},filterObject:function(e,t){return e.itemCode.toLowerCase().startsWith(t.toLowerCase())||e.itemName.toLowerCase().startsWith(t.toLowerCase())},setItem:function(){var e=this;this.search&&(this.loadings.searchItem=!0,this.$http.get("/item/getItemForShowInvoice/"+this.search+"/"+this.wholeSell).then((function(t){var s=t.data,n=e.invoice.sales.findIndex((function(e){return e.itemCode==s.itemCode}));n>=0?e.invoice.sales[n].qty+=s.qty:e.invoice.sales.unshift({itemCode:s.itemCode,itemName:s.itemName,qty:s.qty,productPrice:s.productPrice,shelfName:s.shelfName,unitName:s.unitName})})).catch((function(t){e.emitter.$emit("notify",{type:"warning",text:t.response.data.message})})).finally((function(){e.loadings.searchItem=!1,e.search=null})))},deleteItem:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then((function(){t.invoice.sales.splice(e,1)}))},printInvoice:function(){this.$store.commit("updateShowInvoice",this.invoice),window.open("/printShowInvoice")}},computed:{dynamicHeight:function(){return window.innerHeight-80},getTotal:function(){return this.invoice.sales.reduce((function(e,t){return e+t.productPrice*t.qty}),0)}},watch:{search:function(){var e=this;this.search?this.$http.get("/item/getItem/"+this.search).then((function(t){var s=t.data;e.items=s})):this.items=[]},categoryID:function(){var e=this;this.categoryID?(this.buttonItems=[],this.$http.get("/item/getButtonItems/"+this.categoryID).then((function(t){var s=t.data;e.buttonItems=s}))):this.buttonItems=[]}}},xn=bn,yn=Object(l["a"])(xn,fn,gn,!1,null,null,null),Dn=yn.exports;u()(yn,{VAutocomplete:js["a"],VBtn:$["a"],VCard:de["a"],VChip:Ae["a"],VCol:w["a"],VContainer:pe["a"],VDivider:ge["a"],VIcon:N["a"],VImg:Ze["a"],VRow:T["a"],VSelect:_e["a"],VSimpleTable:L["a"],VSwitch:it["a"],VTextField:F["a"]});var In=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"cyan darken-4",icon:"mdi-archive",text:"کۆی کاڵاکان",data:e.countItemByStock}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"blue-grey",icon:"mdi-chart-scatter-plot-hexbin",text:"کۆی دانەی ناو مەخزەن",data:e.totalQtyItemByStock}})],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"green darken-1",icon:"mdi-cart-arrow-down",text:"کۆی هاتووی ئەمڕۆ",data:e.inToStock}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"red darken-2",icon:"mdi-cart-arrow-up",text:"کۆی ڕۆیشتووی ئەمڕۆ",data:e.outFromStock}})],1),s("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[s("v-card",[s("v-card-title",[s("v-col",{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-text-field",{attrs:{dense:"",outlined:"",label:"گەڕان بە پێی بارکۆد و ناو .....","append-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-select",{attrs:{label:"مەخزەن",dense:"",outlined:"",items:e.stocks,"item-text":"unitName","item-value":"unitID",clearable:""},model:{value:e.searchGroup.unitID,callback:function(t){e.$set(e.searchGroup,"unitID",t)},expression:"searchGroup.unitID"}})],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-select",{attrs:{label:"جۆر",dense:"",outlined:"",items:e.categories,"item-text":"categoryName","item-value":"categoryID",clearable:""},model:{value:e.searchGroup.categoryID,callback:function(t){e.$set(e.searchGroup,"categoryID",t)},expression:"searchGroup.categoryID"}})],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-select",{attrs:{label:"خاوەندارێتی",dense:"",outlined:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID",clearable:""},model:{value:e.searchGroup.shelfID,callback:function(t){e.$set(e.searchGroup,"shelfID",t)},expression:"searchGroup.shelfID"}})],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-select",{attrs:{label:"براند",dense:"",outlined:"",items:e.brands,"item-text":"brandName","item-value":"brandID",clearable:""},model:{value:e.searchGroup.brandID,callback:function(t){e.$set(e.searchGroup,"brandID",t)},expression:"searchGroup.brandID"}})],1),s("v-spacer"),s("v-btn",{attrs:{fab:"","x-small":""},on:{click:e.generatePDFStock}},[s("v-icon",[e._v("mdi-file-pdf-outline")])],1)],1),s("v-card-text",[s("v-data-table",{attrs:{dense:"",headers:e.headers,items:e.filterStock,"footer-props":{"items-per-page-options":[15,25,35,45,55]},search:e.search,loading:e.loadings.item,"loading-text":"تکایە چاوەروانبە....","item-key":"itemID"},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemCode)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.purchased)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.returnPurchase)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.sold)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.returnSold)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.disposal)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.unitName)+" ")]),s("td",{staticClass:"text-center"},[s("v-chip",{attrs:{small:"",color:n.totalInStock>=1?"success":"error",label:""}},[e._v(" "+e._s(n.totalInStock)+" ")])],1),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){e.getItemDetail(n.itemID),e.dialogs.itemDetail=!0}}},[s("v-icon",[e._v(" mdi-eye ")])],1)],1)])]}}])})],1)],1)],1)],1),s("v-row",[s("v-dialog",{attrs:{width:"1525px"},model:{value:e.dialogs.itemDetail,callback:function(t){e.$set(e.dialogs,"itemDetail",t)},expression:"dialogs.itemDetail"}},[s("v-card",[s("v-card-title",[s("span",[e._v("وردەکاری کاڵا : ")])]),s("v-card-text",[s("v-data-table",{attrs:{dense:"",headers:e.itemDetailHeaders,items:e.itemDetail,loading:e.loadings.itemDetail,"loading-text":"تکایە چاوەروانبە ....","hide-default-footer":""},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.purchased)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.returnPurchase)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.sold)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.returnSold)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.disposal)+" ")]),s("td",{staticClass:"text-center"},[s("v-chip",{attrs:{small:"",color:n.totalInStock>=1?"success":"error",label:""}},[e._v(" "+e._s(n.totalInStock)+" ")])],1)])]}}])})],1)],1)],1)],1)],1)},_n=[],kn=s("8baf"),Sn=(s("0da4"),{components:{card:V},data:function(){return{search:"",items:[],itemDetail:[],stocks:[],brands:[],shelfs:[],categories:[],searchGroup:{unitID:null,shelfID:null,brandID:null,categoryID:null},loadings:{item:!1,itemDetail:!1},dialogs:{itemDetail:!1},numberOfItems:0,numberOfAllQtyItems:0,inToStock:0,outFromStock:0}},created:function(){var e=this;this.getStockItem(),this.$http.get("/essential/getUnits").then((function(t){var s=t.data;e.stocks=s})),this.$http.get("/essential/getBrands").then((function(t){var s=t.data;e.brands=s})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s})),this.$http.get("/essential/getCategories").then((function(t){var s=t.data;e.categories=s})),this.$http.get("/item/countAllItems").then((function(t){var s=t.data;e.numberOfItems=s.numberOfItems,e.numberOfAllQtyItems=s.numberOfAllQtyItems,e.inToStock=s.inToStock,e.outFromStock=s.outFromStock}))},methods:{getItemDetail:function(e){var t=this;this.$http.get("/item/inStockDeatil/"+e).then((function(e){var s=e.data;t.itemDetail=s}))},generatePDFStock:function(){var e=[{title:"Barcode",dataKey:"itemCode"},{title:"Item Name",dataKey:"itemName"},{title:"Total Purchased",dataKey:"purchased"},{title:"Total Sold",dataKey:"sold"},{title:"Total Disposal",dataKey:"disposal"},{title:"In Stock",dataKey:"totalInStock"}],t=new kn["default"]({orientation:"landscape"});t.autoTable({columns:e,body:this.items}),t.save("stock-"+(new Date).toISOString().split("T")[0]+".pdf")},getStockItem:function(){var e=this;this.$http.get("/item/inStock").then((function(t){var s=t.data;e.items=s}))}},computed:{headers:function(){return[{text:"بارکۆد",align:"center",sortable:!0,value:"itemCode"},{text:"ناوی کاڵا",align:"center",sortable:!0,value:"itemName"},{text:"دانەی كڕدراو",align:"center",sortable:!1},{text:"گەڕاوە بۆ کۆمپانیا",align:"center",sortable:!1},{text:"دانەی فرۆشراو",align:"center",sortable:!1},{text:"گەڕاوەی فرۆشراو",align:"center",sortable:!1},{text:"دانەی تەلەفکراو",align:"center",sortable:!1},{text:"مەخزەن",align:"center",sortable:!1},{text:"دانەی ماوە",align:"center",sortable:!1},{text:"وردەکاری",align:"center",sortable:!1}]},itemDetailHeaders:function(){return[{text:"ناوی كاڵا",align:"center",sortable:!1},{text:"دانەی كڕدراو",align:"center",sortable:!1},{text:"گەڕاوە بۆ کۆمپانیا",align:"center",sortable:!1},{text:"دانەی فرۆشراو",align:"center",sortable:!1},{text:"گەڕاوەی فرۆشراو",align:"center",sortable:!1},{text:"دانەی تەلەفکراو",align:"center",sortable:!1},{text:"دانەی ماوە",align:"center",sortable:!1}]},filterStock:function(){var e=this;return this.items.filter((function(t){return(!e.searchGroup.unitID||t.unitID==e.searchGroup.unitID)&&(!e.searchGroup.categoryID||t.categoryID==e.searchGroup.categoryID)&&(!e.searchGroup.shelfID||t.shelfID==e.searchGroup.shelfID)&&(!e.searchGroup.brandID||t.brandID==e.searchGroup.brandID)}))},totalQtyItemByStock:function(){return this.filterStock.reduce((function(e,t){return e+t.totalInStock}),0)},countItemByStock:function(){return this.filterStock.length}}}),Cn=Sn,$n=Object(l["a"])(Cn,In,_n,!1,null,null,null),wn=$n.exports;u()($n,{VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VChip:Ae["a"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VRow:T["a"],VSelect:_e["a"],VSpacer:Le["a"],VTextField:F["a"]});var Nn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6",xl:"3",sm:"6",xs:"12"}},[s("div",[s("v-card",{attrs:{height:"350"}},[s("v-card-title",[s("span",[e._v("جوڵەی کاڵاکان : ")])]),s("apexchart",{attrs:{width:"340",type:"donut",options:e.options,series:e.series}})],1)],1)]),s("v-col",{attrs:{cols:"12",md:"6",xl:"4",sm:"6",xs:"12"}},[s("div",[s("v-card",{attrs:{height:"350"}},[s("v-card-title",[e._v(" "+e._s("پڕفرۆشترینی مانگی - "+(new Date).toLocaleString("default",{month:"short"}))+" ")]),s("v-card-text",[s("v-data-table",{attrs:{id:"topSale",headers:e.topItemHeaders,items:e.topSale,"hide-default-footer":"",dense:""}}),s("v-btn",{attrs:{fab:"","x-small":""},on:{click:function(t){return e.generatePDFTopSale()}}},[s("v-icon",[e._v("mdi-file-pdf-outline")])],1)],1)],1)],1)]),s("v-col",{attrs:{cols:"12",md:"6",xl:"5",sm:"6",xs:"12"}},[s("v-card",{attrs:{height:"350"}},[s("v-card-title",[s("span",[e._v("کاڵا کەم فرۆشەکان")])]),s("v-card-text",[s("v-data-table",{attrs:{headers:e.notSaleHeaders,items:e.notSale,dense:"","footer-props":{"items-per-page-options":[5]}}}),s("v-btn",{attrs:{fab:"","x-small":""},on:{click:function(t){return e.generatePDFNotSale()}}},[s("v-icon",[e._v("mdi-file-pdf-outline")])],1)],1)],1)],1)],1)],1)},Tn=[],Pn={data:function(){return{options:{series:[44,55,13,33],labels:["  -هاتوو","  -ڕۆیشتوو","  -تەلەفکراو"],plotOptions:{pie:{customScale:1,donut:{size:"70%"}}}},series:[],topSale:[],notSale:[]}},created:function(){var e=this;this.$http.get("/item/moveFromToInStock").then((function(t){var s=t.data;e.series[0]=s.inToStock||1,e.series[1]=s.outFromStock||1,e.series[2]=s.disposal||1,e.topSale=s.topSale,e.notSale=s.notSale}))},methods:{generatePDFTopSale:function(){var e=[{title:"Item name",dataKey:"itemName"},{title:"topSale",dataKey:"topSale"}],t=new kn["default"]({orientation:"landscape",filters:["ASCIIHexEncode"]});t.autoTable({columnStyles:{margin:0},columns:e,body:this.topSale,margin:0}),t.save("topSale"+(new Date).toISOString().split("T")[0]+".pdf")},generatePDFNotSale:function(){var e=[{title:"Item Name",dataKey:"itemName"},{title:"Not Sale",dataKey:"notSale"}],t=new kn["default"]({orientation:"landscape"});t.autoTable({columns:e,body:this.notSale}),t.save("notSale"+(new Date).toISOString().split("T")[0]+".pdf")}},computed:{topItemHeaders:function(){return[{text:"ناوی كاڵا",align:"center",sortable:!1,value:"itemName"},{text:"کۆی فرۆشراو",align:"center",sortable:!1,value:"topSale"}]},notSaleHeaders:function(){return[{text:"ناوی كاڵا",align:"center",sortable:!1,value:"itemName"},{text:"بڕی فرۆشراو",align:"center",sortable:!0,value:"notSale"}]}}},Vn=Pn,Rn=Object(l["a"])(Vn,Nn,Tn,!1,null,null,null),En=Rn.exports;u()(Rn,{VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VIcon:N["a"],VRow:T["a"]});var On=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeCustomerDebt"),expression:"emitter.$emit('closeCustomerDebt')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" وەرگرتنەوەی قەرز ")],1)]}}]),model:{value:e.sheets.debt,callback:function(t){e.$set(e.sheets,"debt",t)},expression:"sheets.debt"}},[s("v-sheet",{staticClass:"pa-3"},[s("formCustomerDebt")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"45%",eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" وەرگرتنەوەی قەرز ")],1)]}}],null,!1,2947865656),model:{value:e.dialogs.debt,callback:function(t){e.$set(e.dialogs,"debt",t)},expression:"dialogs.debt"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" وەرگرتنەوەی قەرز ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeCustomerDebt"),e.dialogs.debt=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formCustomerDebt")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[s("v-bottom-sheet",{attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-format-list-bulleted ")]),e._v(" لیستی قەرزەکان ")],1)]}}]),model:{value:e.sheets.debtsList,callback:function(t){e.$set(e.sheets,"debtsList",t)},expression:"sheets.debtsList"}},[s("v-sheet",{staticClass:"pa-3"},[s("span",[e._v(" لیستی قەرزەکان ")]),s("v-btn",{staticClass:"float-left",attrs:{color:"primary",icon:"",loading:e.loadings.debtsList},on:{click:function(t){return e.getDebtsList()}}},[s("v-icon",[e._v(" mdi-refresh ")])],1),s("v-divider",{staticClass:"my-3"}),s("v-text-field",{staticClass:"mb-0",attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchDebtList,callback:function(t){e.searchDebtList=t},expression:"searchDebtList"}}),s("v-data-table",{attrs:{headers:e.headersDebtsList,items:e.debtsList,search:e.searchDebtList,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.customerName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalRemainCustomer.toLocaleString())+" $ ")])])]}}])})],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchReturnDebt,callback:function(t){e.searchReturnDebt=t},expression:"searchReturnDebt"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headersReturnDebt,search:e.searchReturnDebt,items:e.debts,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.customerName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.shelfName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.amountReturn.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.userName)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getDebt(n)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1)],1)])]}}])}),s("notification")],1)},Bn=[],An=(s("a15b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formDebt"},[s("v-select",{attrs:{label:"کڕیار",outlined:"",dense:"",disabled:e.singleDebt.rdcID,items:e.customers,"item-text":"customerName","item-value":"customerID",rules:e.rules.customer,"validate-on-blur":"",clearable:""},on:{"click:clear":function(t){e.singleDebt.customerID=null}},model:{value:e.singleDebt.customerID,callback:function(t){e.$set(e.singleDebt,"customerID",t)},expression:"singleDebt.customerID"}}),s("v-select",{attrs:{label:"لە حسابی",outlined:"",dense:"",disabled:e.singleDebt.rdcID,items:e.owners,"item-text":"shelfName","item-value":"shelfID",rules:e.rules.shelfID,"validate-on-blur":"",clearable:""},model:{value:e.singleDebt.shelfID,callback:function(t){e.$set(e.singleDebt,"shelfID",t)},expression:"singleDebt.shelfID"}}),s("v-text-field",{attrs:{label:"بڕی وەرگیراو",outlined:"",dense:"",type:"number",rules:e.rules.amountReturn,"validate-on-blur":""},model:{value:e.singleDebt.amountReturn,callback:function(t){e.$set(e.singleDebt,"amountReturn",e._n(t))},expression:"singleDebt.amountReturn"}}),s("v-text-field",{attrs:{label:"داشکاندن",outlined:"",dense:"",type:"number",rules:e.rules.discount,"validate-on-blur":""},model:{value:e.singleDebt.discount,callback:function(t){e.$set(e.singleDebt,"discount",e._n(t))},expression:"singleDebt.discount"}}),e.singleDebt.returnedInvoices.length>0?s("v-row",e._l(e.singleDebt.returnedInvoices,(function(t){return s("v-col",{key:t,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-chip",{attrs:{label:"",color:"success"}},[e._v(" "+e._s(t)+" ")]),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(s){return e.deleteInvoice(t)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)})),1):e._e(),e.loadings.getInvoices?s("v-progress-circular",{staticStyle:{"margin-right":"46%"},attrs:{indeterminate:"",color:"primary"}}):s("v-row",e._l(e.invoiceNumbers,(function(t){return s("v-col",{key:t,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-checkbox",{attrs:{label:t.toString(),value:t},model:{value:e.singleDebt.invoiceNumbers,callback:function(t){e.$set(e.singleDebt,"invoiceNumbers",t)},expression:"singleDebt.invoiceNumbers"}})],1)})),1),e.singleDebt.rdcID?s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"warning",loading:e.loadings.updateDebt},on:{click:function(t){return e.updateDebt()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"success",loading:e.loadings.addDebt},on:{click:function(t){return e.addDebt()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" وەرگرتنەوەی قەرز ")],1)],1)],1)}),Un=[],Ln=s("2909"),Fn={data:function(){return{loadings:{addDebt:!1,updateDebt:!1,getInvoices:!1},customers:[],invoiceNumbers:[],singleDebt:{rdcID:null,customerID:null,shelfID:null,amountReturn:0,discount:0,invoiceNumbers:[],returnedInvoices:[]},rules:{customer:[function(e){return null!=e||"تکایە کڕیارێک هەڵبژێرە"}],shelfID:[function(e){return null!=e||"تکایە سندوق هەڵبژێرە"}],amountReturn:[function(e){return e>0||"تکایە بڕی وەرگیراو بە دروستی داخڵ بکە"}],discount:[function(e){return e>=0||"تکایە بڕی داشکاندن بە دروستی داخڵ بکە"}]},userID:null,userName:"",owners:[]}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.owners=s}))},mounted:function(){var e=this;this.emitter.$on("openCustomerDebt",(function(t){e.singleDebt.rdcID=t.rdcID,e.singleDebt.customerID=t.customerID,e.singleDebt.shelfID=t.shelfID,e.singleDebt.amountReturn=t.amountReturn,e.singleDebt.discount=t.discount,e.singleDebt.returnedInvoices=(t.invoiceNumbers||[]).split(",")})),this.emitter.$on("closeCustomerDebt",(function(){e.clearDebt()})),this.emitter.$on("setDebtCustomerID",(function(t){e.singleDebt.customerID=Number(t)})),this.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s}))},methods:{setFocus:function(e){document.getElementById(e).focus()},clearDebt:function(){this.singleDebt.rdcID=null,this.singleDebt.customerID=null,this.singleDebt.amountReturn=0,this.singleDebt.discount=0,this.invoiceNumbers=[],this.singleDebt.invoiceNumbers=[],this.singleDebt.returnedInvoices=[],this.$refs.formDebt.resetValidation()},addDebt:function(){var e=this;this.$refs.formDebt.validate()&&(this.loadings.addDebt=!0,this.$http.post("/customer/addReturnDebt",{customerID:this.singleDebt.customerID,customerName:this.customers.find((function(t){return t.customerID==e.singleDebt.customerID})).customerName,shelfID:this.singleDebt.shelfID,amountReturn:this.singleDebt.amountReturn,discount:this.singleDebt.discount,dollarPrice:this.$store.state.dollarPrice,invoiceNumbers:this.singleDebt.invoiceNumbers,note:"وەرگرتنەوەی قەرز لە"}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),e.emitter.$emit("customerDebtAdded",{rdcID:s.rdcID,customerID:e.singleDebt.customerID,customerName:e.customers.find((function(t){return t.customerID==e.singleDebt.customerID})).customerName,shelfID:e.singleDebt.shelfID,shelfName:e.owners.find((function(t){return t.shelfID==e.singleDebt.shelfID})).shelfName,amountReturn:e.singleDebt.amountReturn,discount:e.singleDebt.discount,dollarPrice:e.$store.state.dollarPrice,invoiceNumbers:e.singleDebt.invoiceNumbers.join(","),userName:e.userName}),e.clearDebt()})).finally((function(){return e.loadings.addDebt=!1})))},updateDebt:function(){var e=this;this.$refs.formDebt.validate()&&(this.loadings.updateDebt=!0,this.$http.patch("/customer/updateReturnDebt/"+this.singleDebt.rdcID,{amountReturn:this.singleDebt.amountReturn,discount:this.singleDebt.discount,invoiceNumbers:this.singleDebt.invoiceNumbers,customerID:this.singleDebt.customerID}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("customerDebtUpdated",{rdcID:e.singleDebt.rdcID,amountReturn:e.singleDebt.amountReturn,discount:e.singleDebt.discount,invoiceNumbers:s.newInvoices||e.singleDebt.returnedInvoices.join(",")}),e.singleDebt.returnedInvoices=[].concat(Object(Ln["a"])(e.singleDebt.returnedInvoices),Object(Ln["a"])(e.singleDebt.invoiceNumbers)),e.invoiceNumbers=e.invoiceNumbers.filter((function(t){return!e.singleDebt.invoiceNumbers.includes(t)})),e.singleDebt.invoiceNumbers=[]})).finally((function(){return e.loadings.updateDebt=!1})))},deleteInvoice:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم داتایە ؟","","question").then((function(){t.$http.delete("/customer/deleteInvoice/"+t.singleDebt.rdcID+"/"+e+"/"+t.userID).then((function(){t.singleDebt.returnedInvoices=t.singleDebt.returnedInvoices.filter((function(t){return t!=e})),t.invoiceNumbers.push(e),t.emitter.$emit("debtInvoiceDeleted",{rdcID:t.singleDebt.rdcID,invoiceNumbers:t.singleDebt.returnedInvoices})}))}))}},watch:{"singleDebt.customerID":function(){var e=this;this.singleDebt.customerID?(this.loadings.getInvoices=!0,this.$http.get("/customer/getDebtInvoices/"+this.singleDebt.customerID).then((function(t){var s=t.data;e.invoiceNumbers=s,0==s.length&&e.emitter.$emit("notify",{text:"ئەم کڕیارە هیچ وەصڵێکی قەرزی نییە"})})).finally((function(){return e.loadings.getInvoices=!1}))):(this.invoiceNumbers=[],this.singleDebt.invoiceNumbers=[],this.singleDebt.returnedInvoices=[])}},beforeDestroy:function(){this.emitter.$off("closeCustomerDebt"),this.emitter.$off("openCustomerDebt"),this.emitter.$off("setDebtCustomerID")}},qn=Fn,jn=s("490a"),Wn=Object(l["a"])(qn,An,Un,!1,null,null,null),Mn=Wn.exports;u()(Wn,{VBtn:$["a"],VCheckbox:Ye["a"],VChip:Ae["a"],VCol:w["a"],VForm:A["a"],VIcon:N["a"],VProgressCircular:jn["a"],VRow:T["a"],VSelect:_e["a"],VTextField:F["a"]});var Qn={name:"customerDebts",components:{formCustomerDebt:Mn},data:function(){return{dialogs:{debt:!1},sheets:{debt:!1,debtsList:!1},loadings:{table:!1,debtsList:!1},debts:[],debtsList:[],searchReturnDebt:"",searchDebtList:""}},created:function(){var e=this;this.$http.get("/customer/todayReturnDebt").then((function(t){var s=t.data;e.debts=s})),this.getDebtsList()},mounted:function(){var e=this;this.emitter.$on("customerDebtAdded",(function(t){e.debts.unshift(t)})),this.emitter.$on("customerDebtUpdated",(function(t){var s=e.debts.findIndex((function(e){return e.rdcID==t.rdcID}));e.debts[s].amountReturn=t.amountReturn,e.debts[s].discount=t.discount,e.debts[s].invoiceNumbers=t.invoiceNumbers})),this.emitter.$on("debtInvoiceDeleted",(function(t){var s=e.debts.findIndex((function(e){return e.rdcID==t.rdcID}));e.debts[s].invoiceNumbers=t.invoiceNumbers.join(",")})),this.$route.params.customerID&&(this.$isMobile()?this.sheets.debt=!0:this.dialogs.debt=!0,this.emitter.$emit("setDebtCustomerID",this.$route.params.customerID))},methods:{getDebt:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.debt=!0,s.next=7;break;case 6:t.dialogs.debt=!0;case 7:t.emitter.$emit("openCustomerDebt",e);case 8:case"end":return s.stop()}}),s)})))()},getDebtsList:function(){var e=this;this.loadings.debtsList=!0,this.$http.get("/customer/getDebtsList").then((function(t){var s=t.data;e.debtsList=s})).finally((function(){return e.loadings.debtsList=!1}))}},computed:{headersReturnDebt:function(){return[{text:"#",align:"center",sortable:!1},{text:"کڕیار",value:"customerName",align:"center",sortable:!1},{text:"حساب سندوق",value:"shelfName",align:"center",sortable:!1},{text:"بڕی وەرگیراو",value:"amountReturn",align:"center",sortable:!0},{text:"داشکاندن",value:"discount",align:"center",sortable:!0},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]},headersDebtsList:function(){return[{text:"#",align:"center",sortable:!1},{text:"کڕیار",value:"customerName",align:"center",sortable:!1},{text:"بڕی قەرز",value:"totalRemainCustomer",align:"center",sortable:!0}]}},beforeDestroy:function(){this.emitter.$off("customerDebtAdded"),this.emitter.$off("customerDebtUpdated"),this.emitter.$off("debtInvoiceDeleted")}},Hn=Qn,Gn=Object(l["a"])(Hn,On,Bn,!1,null,null,null),zn=Gn.exports;u()(Gn,{VBottomSheet:Be["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VRow:T["a"],VSheet:Ue["a"],VSpacer:Le["a"],VTextField:F["a"]}),qe()(Gn,{ClickOutside:je["a"]});var Kn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeSupplierDebt"),expression:"emitter.$emit('closeSupplierDebt')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" دانەوەی قەرز ")],1)]}}]),model:{value:e.sheets.debt,callback:function(t){e.$set(e.sheets,"debt",t)},expression:"sheets.debt"}},[s("v-sheet",{staticClass:"pa-3"},[s("formSupplierDebt")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"45%",eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" دانەوەی قەرز ")],1)]}}],null,!1,1693487112),model:{value:e.dialogs.debt,callback:function(t){e.$set(e.dialogs,"debt",t)},expression:"dialogs.debt"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" دانەوەی قەرز ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeSupplierDebt"),e.dialogs.debt=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formSupplierDebt")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[s("v-bottom-sheet",{attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),n),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-format-list-bulleted ")]),e._v(" لیستی قەرزەکان ")],1)]}}]),model:{value:e.sheets.debtsList,callback:function(t){e.$set(e.sheets,"debtsList",t)},expression:"sheets.debtsList"}},[s("v-sheet",{staticClass:"pa-3"},[s("span",[e._v(" لیستی قەرزەکان ")]),s("v-btn",{staticClass:"float-left",attrs:{color:"primary",icon:"",loading:e.loadings.debtsList},on:{click:function(t){return e.getDebtsList()}}},[s("v-icon",[e._v(" mdi-refresh ")])],1),s("v-divider",{staticClass:"my-3"}),s("v-text-field",{staticClass:"mb-0",attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchDebtList,callback:function(t){e.searchDebtList=t},expression:"searchDebtList"}}),s("v-data-table",{attrs:{headers:e.headersDebtsList,items:e.debtsList,search:e.searchDebtList,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.supplierName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalRemainSupplier.toLocaleString())+" $ ")])])]}}])})],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchReturnDebt,callback:function(t){e.searchReturnDebt=t},expression:"searchReturnDebt"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headersReturnDebt,search:e.searchReturnDebt,items:e.debts,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.supplierName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.amountReturn.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.userName)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getDebt(n)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1)],1)])]}}])}),s("notification")],1)},Jn=[],Xn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formDebt"},[s("v-select",{attrs:{label:"کۆمپانیا",outlined:"",dense:"",disabled:null!=e.singleDebt.rdID,items:e.suppliers,"item-text":"supplierName","item-value":"supplierID",rules:e.rules.supplier,"validate-on-blur":"",clearable:""},on:{"click:clear":function(t){e.singleDebt.customerID=null}},model:{value:e.singleDebt.supplierID,callback:function(t){e.$set(e.singleDebt,"supplierID",t)},expression:"singleDebt.supplierID"}}),s("v-text-field",{attrs:{label:"بڕی گەڕاوە بۆ کۆمپانیا",outlined:"",dense:"",type:"number",rules:e.rules.amountReturn,"validate-on-blur":""},model:{value:e.singleDebt.amountReturn,callback:function(t){e.$set(e.singleDebt,"amountReturn",e._n(t))},expression:"singleDebt.amountReturn"}}),s("v-text-field",{attrs:{label:"وەصڵی گەڕانەوە",outlined:"",dense:""},model:{value:e.singleDebt.referenceNO,callback:function(t){e.$set(e.singleDebt,"referenceNO","string"===typeof t?t.trim():t)},expression:"singleDebt.referenceNO"}}),s("v-text-field",{attrs:{label:"داشکاندن",outlined:"",dense:"",type:"number",rules:e.rules.discount,"validate-on-blur":""},model:{value:e.singleDebt.discount,callback:function(t){e.$set(e.singleDebt,"discount",e._n(t))},expression:"singleDebt.discount"}}),e.singleDebt.returnedPurchases.length>0?s("v-row",e._l(e.singleDebt.returnedPurchases,(function(t){return s("v-col",{key:t,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-chip",{attrs:{label:"",color:"success"}},[e._v(" "+e._s(t)+" ")]),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(s){return e.deletePurchase(t)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)})),1):e._e(),e.loadings.getPurchases?s("v-progress-circular",{staticStyle:{"margin-right":"46%"},attrs:{indeterminate:"",color:"primary"}}):s("v-row",e._l(e.purchaseNumbers,(function(t){return s("v-col",{key:t,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-checkbox",{attrs:{label:t.toString(),value:t},model:{value:e.singleDebt.purchaseNumbers,callback:function(t){e.$set(e.singleDebt,"purchaseNumbers",t)},expression:"singleDebt.purchaseNumbers"}})],1)})),1),e.singleDebt.rdID?s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"warning",loading:e.loadings.updateDebt},on:{click:function(t){return e.updateDebt()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"success",loading:e.loadings.addDebt},on:{click:function(t){return e.addDebt()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" دانەوەی قەرز ")],1)],1)],1)},Yn=[],Zn={data:function(){return{loadings:{addDebt:!1,updateDebt:!1,getPurchases:!1},suppliers:[],purchaseNumbers:[],singleDebt:{rdID:null,supplierID:null,shelfID:null,amountReturn:0,referenceNO:null,discount:0,purchaseNumbers:[],returnedPurchases:[]},rules:{supplier:[function(e){return null!=e||"تکایە کۆمپانیایەک هەڵبژێرە"}],amountReturn:[function(e){return e>0||"تکایە بڕی گەڕاوە بە دروستی داخڵ بکە"}],discount:[function(e){return e>=0||"تکایە بڕی داشکاندن بە دروستی داخڵ بکە"}]},userID:null,userName:"",owners:[]}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.owners=s}))},mounted:function(){var e=this;this.emitter.$on("openSupplierDebt",(function(t){e.singleDebt.rdID=t.rdID,e.singleDebt.supplierID=t.supplierID,e.singleDebt.shelfID=t.shelfID,e.singleDebt.amountReturn=t.amountReturn,e.singleDebt.referenceNO=t.referenceNO,e.singleDebt.discount=t.discount,e.singleDebt.returnedPurchases=(t.purchaseNumbers||[]).split(",")})),this.emitter.$on("closeSupplierDebt",(function(){e.clearDebt()})),this.emitter.$on("setDebtSupplierID",(function(t){e.singleDebt.supplierID=Number(t)})),this.$http.get("/supplier/allSuppliers").then((function(t){var s=t.data;e.suppliers=s}))},methods:{setFocus:function(e){document.getElementById(e).focus()},clearDebt:function(){this.singleDebt.rdID=null,this.singleDebt.supplierID=null,this.singleDebt.shelfID=null,this.singleDebt.amountReturn=0,this.singleDebt.referenceNO=null,this.singleDebt.discount=0,this.purchaseNumbers=[],this.singleDebt.purchaseNumbers=[],this.singleDebt.returnedPurchases=[],this.$refs.formDebt.resetValidation()},addDebt:function(){var e=this;this.$refs.formDebt.validate()&&(this.loadings.addDebt=!0,this.$http.post("/supplier/addReturnDebt",{supplierID:this.singleDebt.supplierID,supplierName:this.suppliers.find((function(t){return t.supplierID==e.singleDebt.supplierID})).supplierName,amountReturn:this.singleDebt.amountReturn,referenceNO:this.singleDebt.referenceNO,discount:this.singleDebt.discount,dollarPrice:this.$store.state.dollarPrice,purchaseNumbers:this.singleDebt.purchaseNumbers,note:"گەڕاندنەوەی قەرز بۆ "}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),e.emitter.$emit("supplierDebtAdded",{rdID:s.rdID,supplierID:e.singleDebt.supplierID,supplierName:e.suppliers.find((function(t){return t.supplierID==e.singleDebt.supplierID})).supplierName,amountReturn:e.singleDebt.amountReturn,referenceNo:e.singleDebt.referenceNo,discount:e.singleDebt.discount,dollarPrice:e.$store.state.dollarPrice,purchaseNumbers:e.singleDebt.purchaseNumbers.join(","),userName:e.userName}),e.clearDebt()})).finally((function(){return e.loadings.addDebt=!1})))},updateDebt:function(){var e=this;this.$refs.formDebt.validate()&&(this.loadings.updateDebt=!0,this.$http.patch("/supplier/updateReturnDebt/"+this.singleDebt.rdID,{amountReturn:this.singleDebt.amountReturn,referenceNO:this.singleDebt.referenceNO,discount:this.singleDebt.discount,purchaseNumbers:this.singleDebt.purchaseNumbers}).then((function(t){var s=t.data;console.log(s.newPurchases),e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("supplierDebtUpdated",{rdID:e.singleDebt.rdID,amountReturn:e.singleDebt.amountReturn,referenceNO:e.singleDebt.referenceNO,discount:e.singleDebt.discount,purchaseNumbers:s.newPurchases||e.singleDebt.returnedPurchases.join(",")}),e.singleDebt.returnedPurchases=[].concat(Object(Ln["a"])(e.singleDebt.returnedPurchases),Object(Ln["a"])(e.singleDebt.purchaseNumbers)),e.purchaseNumbers=e.purchaseNumbers.filter((function(t){return!e.singleDebt.purchaseNumbers.includes(t)})),e.singleDebt.purchaseNumbers=[]})).finally((function(){return e.loadings.updateDebt=!1})))},deletePurchase:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم داتایە ؟","","question").then((function(){t.$http.delete("/supplier/deletePurchase/"+t.singleDebt.rdID+"/"+e+"/"+t.userID).then((function(){t.singleDebt.returnedPurchases=t.singleDebt.returnedPurchases.filter((function(t){return t!=e})),t.purchaseNumbers.push(e),t.emitter.$emit("debtPurchaseDeleted",{rdID:t.singleDebt.rdID,purchaseNumbers:t.singleDebt.returnedPurchases})}))}))}},watch:{"singleDebt.supplierID":function(){var e=this;this.singleDebt.supplierID?(this.loadings.getPurchases=!0,this.$http.get("/supplier/getDebtPurchases/"+this.singleDebt.supplierID).then((function(t){var s=t.data;e.purchaseNumbers=s,0==s.length&&e.emitter.$emit("notify",{text:"ئەم کۆمپانیایە هیچ وەصڵێکی قەرزی نییە"})})).finally((function(){return e.loadings.getPurchases=!1}))):(this.purchaseNumbers=[],this.singleDebt.purchaseNumbers=[],this.singleDebt.returnedPurchases=[])}},beforeDestroy:function(){this.emitter.$off("closeSupplierDebt"),this.emitter.$off("openSupplierDebt"),this.emitter.$off("setDebtSupplierID")}},ea=Zn,ta=Object(l["a"])(ea,Xn,Yn,!1,null,null,null),sa=ta.exports;u()(ta,{VBtn:$["a"],VCheckbox:Ye["a"],VChip:Ae["a"],VCol:w["a"],VForm:A["a"],VIcon:N["a"],VProgressCircular:jn["a"],VRow:T["a"],VSelect:_e["a"],VTextField:F["a"]});var na={name:"customerDebts",components:{formSupplierDebt:sa},data:function(){return{dialogs:{debt:!1},sheets:{debt:!1,debtsList:!1},loadings:{table:!1,debtsList:!1},debts:[],debtsList:[],searchReturnDebt:"",searchDebtList:""}},created:function(){var e=this;this.$http.get("/supplier/todayReturnDebt").then((function(t){var s=t.data;e.debts=s})),this.getDebtsList()},mounted:function(){var e=this;this.emitter.$on("supplierDebtAdded",(function(t){e.debts.unshift(t)})),this.emitter.$on("supplierDebtUpdated",(function(t){var s=e.debts.findIndex((function(e){return e.rdID==t.rdID}));e.debts[s].amountReturn=t.amountReturn,e.debts[s].referenceNO=t.referenceNO,e.debts[s].discount=t.discount,e.debts[s].purchaseNumbers=t.purchaseNumbers})),this.emitter.$on("debtPurchaseDeleted",(function(t){var s=e.debts.findIndex((function(e){return e.rdID==t.rdID}));e.debts[s].purchaseNumbers=t.purchaseNumbers.join(",")})),this.$route.params.supplierID&&(this.$isMobile()?this.sheets.debt=!0:this.dialogs.debt=!0,this.emitter.$emit("setDebtSupplierID",this.$route.params.supplierID))},methods:{getDebt:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.debt=!0,s.next=7;break;case 6:t.dialogs.debt=!0;case 7:t.emitter.$emit("openSupplierDebt",e);case 8:case"end":return s.stop()}}),s)})))()},getDebtsList:function(){var e=this;this.loadings.debtsList=!0,this.$http.get("/supplier/getDebtsList").then((function(t){var s=t.data;e.debtsList=s})).finally((function(){return e.loadings.debtsList=!1}))}},computed:{headersReturnDebt:function(){return[{text:"#",align:"center",sortable:!1},{text:"کۆمپانیا",value:"supplierNane",align:"center",sortable:!1},{text:"بڕی گەڕاوە",value:"amountReturn",align:"center",sortable:!0},{text:"داشکاندن",value:"discount",align:"center",sortable:!0},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]},headersDebtsList:function(){return[{text:"#",align:"center",sortable:!1},{text:"کۆمپانیا",value:"supplierName",align:"center",sortable:!1},{text:"بڕی قەرز",value:"totalRemainSupplier",align:"center",sortable:!0}]}},beforeDestroy:function(){this.emitter.$off("customerDebtAdded"),this.emitter.$off("customerDebtUpdated"),this.emitter.$off("debtInvoiceDeleted")}},aa=na,ia=Object(l["a"])(aa,Kn,Jn,!1,null,null,null),ra=ia.exports;u()(ia,{VBottomSheet:Be["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VRow:T["a"],VSheet:Ue["a"],VSpacer:Le["a"],VTextField:F["a"]}),qe()(ia,{ClickOutside:je["a"]});var oa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"black--text"},[e._m(0),e._m(1),s("hr"),s("p",{staticClass:"text-left px-5 pt-2"},[e._v(" بەرواری چاپکردن/ "+e._s((new Date).toISOString().split("T")[0])+" "),s("span",{staticClass:"float-right"},[e._v(" بەکارهێنەر: "+e._s(e.invoice.user)+" ")])]),s("p",{staticClass:"mx-1",staticStyle:{border:"0.2px solid"}},[s("span",{staticClass:"px-6",staticStyle:{"background-color":"lightgrey"}},[e._v(" بــەڕێــــز: ")]),s("span",{staticClass:"px-2"},[e._v(" "+e._s("Walk-in Customer"==e.invoice.customer?"":e.invoice.customer)+" ")]),s("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"150px"}},[e._v(" وەصــڵی عــرض ")]),s("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" جۆری وەصڵ: ")])]),s("div",{staticClass:"pa-1"},[s("table",{staticClass:"mb-3",staticStyle:{width:"100%",border:"0.5px solid","border-collapse":"collapse"}},[e._m(2),s("tbody",e._l(e.invoice.sales,(function(t,n){return s("tr",{key:n},[s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.itemName)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.productPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.qty)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s((t.productPrice*t.qty).toLocaleString())+" $ ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}})])})),0)]),e._m(3),s("span",{staticClass:"mt-3",staticStyle:{width:"300px",float:"left"}},[s("table",{staticStyle:{width:"300px",border:"1px solid","border-collapse":"collapse"}},[s("thead",[s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دۆلار): ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPrice.toLocaleString())+" $ ")])]),s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دینار): ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.collimation(e.totalPrice*this.$store.state.dollarPrice).toLocaleString())+" د.ع ")])])])])])])])},la=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[n("img",{attrs:{src:s("4ab6"),height:"13%",width:"20%;"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",[s("p",{staticClass:"text-center mt-2"},[e._v(" ناونیشان: شەقامی سالم- سەهۆڵەکە - تەلاری سالم ")]),s("p",{staticClass:"text-center",staticStyle:{"margin-top":"-15px"},attrs:{dir:"ltr"}},[e._v(" 0770 164 8642 - 0750 307 9718 ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"7%"}},[e._v(" ژ. ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"25%"}},[e._v(" کاڵا ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"11%"}},[e._v(" نرخ (دۆلار) ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"9%"}},[e._v(" دانە ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"13%"}},[e._v(" کۆ ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid"}},[e._v(" تێبینی ")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"mt-3",staticStyle:{width:"350px",float:"right"}},[s("span",{staticClass:"px-10",staticStyle:{"background-color":"lightgrey"}},[e._v(" تێبینی: ")]),s("p",{staticClass:"px-2 mt-1",staticStyle:{border:"0.5px solid",width:"340px",height:"50px"}}),s("p",{staticClass:"text-right mt-1"},[e._v(" * فرۆشراو وەرناگیرێتەوە و ناگۆڕدرێت ")])])}],ca=function(e){e=e.toString(),e.includes(".")&&(e=Math.round(Number(e)).toString());var t=Number(e.substring(e.length-3));e-=t,e=Number(e);var s=[0,250,500,750,1e3];if(!s.includes(t)){var n=t%250>250-t%250?"high":"low";if("high"==n)for(var a=1;a<s.length;a++){var i=s[a]-t;if(i>0)return t=Number(t)+Number(i),Number(Number(e)+Number(t))}else for(var r=0;r<s.length;r++){var o=s[r]-t;if(o>0){var l=-1*(t-(250-(o-t)));return t-=l,Number(Number(e)+Number(t))}}}return Number(Number(e)+Number(t))},ua={data:function(){return{invoice:{customer:"",sales:[],user:""}}},created:function(){this.invoice=this.$store.state.showInvoice},methods:{collimation:ca},computed:{totalPrice:function(){return this.invoice.sales.reduce((function(e,t){return e+t.productPrice*t.qty}),0)}}},da=ua,ma=Object(l["a"])(da,oa,la,!1,null,null,null),pa=ma.exports,va=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"black--text",attrs:{dir:"ltr"}},[s("v-btn",{staticClass:"ma-2",attrs:{color:"primary",id:"print_btn"},on:{click:function(t){return e.window.print()}}},[e._v(" Print ")]),e._m(0),s("v-row",{staticClass:"mt-3",staticStyle:{"font-size":"14px","font-weight":"bolder"}},[s("v-col",{staticClass:"text-left py-1",attrs:{cols:"8"}},[e._v(" "+e._s(e.$route.params.invoiceID)+" ")]),s("v-col",{staticClass:"text-right py-1",attrs:{cols:"4"}},[e._v(" ژ.پــسووڵە ")])],1),s("v-row",{staticStyle:{"font-size":"14px","font-weight":"bolder"}},[s("v-col",{staticClass:"text-left py-1",attrs:{cols:"8"}},[e._v(" "+e._s(e.user)+" ")]),s("v-col",{staticClass:"text-right py-1",attrs:{cols:"4"}},[e._v(" فرۆشیار ")])],1),s("v-row",{staticStyle:{"font-size":"14px","font-weight":"bolder"}},[s("v-col",{staticClass:"text-left py-1",attrs:{cols:"8"}},[e._v(" "+e._s((new Date).toISOString().split("T")[0])+" "+e._s(e.getCurrentTime)+" ")]),s("v-col",{staticClass:"text-right py-1",attrs:{cols:"4"}},[e._v(" کات و بەرواری چاپکردن ")])],1),s("v-divider",{staticClass:"my-2"}),s("table",{staticClass:"mt-2 black--text text-center",staticStyle:{width:"100%"}},[e._m(1),s("tbody",e._l(e.invoiceItems,(function(t){return s("tr",{key:t.invdID},[s("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s((t.productPrice*t.qty).toLocaleString())+" $ ")]),s("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(t.productPrice.toLocaleString())+" $ ")]),s("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(t.qty)+" ")]),s("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(t.itemName)+" ")])])})),0)]),s("table",{staticClass:"mt-2 black--text text-center",staticStyle:{width:"100%"}},[s("tbody",[s("tr",{staticStyle:{border:"1px solid"}},[s("td",{staticStyle:{border:"1px solid",width:"50%"}},[e._v(" "+e._s(e.getTotal.toLocaleString())+" $ ")]),s("td",{staticStyle:{border:"1px solid"}},[e._v(" کۆی نرخ بە دۆلار ")])]),s("tr",{staticStyle:{border:"1px solid"}},[s("td",{staticStyle:{border:"1px solid",width:"50%"},attrs:{dir:"rtl"}},[e._v(" "+e._s((e.getTotal*e.$store.state.dollarPrice).toLocaleString())+" د.ع ")]),s("td",{staticStyle:{border:"1px solid"}},[e._v(" کۆی نرخ بە دینار ")])])])]),s("hr",{staticClass:"mt-1"}),e._m(2),s("hr",{staticClass:"mt-1"}),e._m(3)],1)},ha=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center mt-1",staticStyle:{width:"100%","font-weight":"bolder","font-size":"22px"}},[n("img",{attrs:{src:s("4ab6"),width:"35%"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"17.5%","font-size":"13px"}},[e._v(" کــۆ ")]),s("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"17.5%","font-size":"13px"}},[e._v(" نرخ ")]),s("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"10%","font-size":"13px"}},[e._v(" عدد ")]),s("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"55%","font-size":"13px"}},[e._v(" نـاوی کـاڵا ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",[s("p",{staticClass:"text-center mt-2"},[e._v(" تێبینی: فرۆشراو وەرناگیرێتەوە و ناگۆڕدرێت ")]),s("p",{staticClass:"text-center",staticStyle:{"margin-top":"-10px"}},[e._v(" تکایە دڵنیابەرەوە لەو پارچەیەی کە هەڵیدەبژێریت، لەبەرئەوەی ئێمە بەرپرسیارنین لە هەڵە هەڵبژاردنی کاڵاکەت ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",[s("p",{staticClass:"text-center mt-2"},[e._v(" Darin Game ")]),s("p",{staticClass:"text-center",staticStyle:{"margin-top":"-15px"}},[e._v(" ناونیشان: شەقامی سالم- سەهۆڵەکە - تەلاری سالم ")]),s("p",{staticClass:"text-center",staticStyle:{"margin-top":"-15px"}},[e._v(" 0770 164 8642 - 0750 307 9718 ")])])}],fa=new Date,ga={data:function(){return{user:"",invoiceItems:[],discount:0,totalPrice:0}},mounted:function(){var e=this;this.$http.get("/invoice/searchInvoice/"+this.$route.params.invoiceID).then((function(t){var s=t.data;e.invoiceItems=s.invoiceItems,e.user=s.invoice.fullName,e.totalPrice=s.invoice.totalPrice,e.discount=s.invoice.discount})).finally((function(){window.print(),setTimeout((function(){window.close()}),200)}))},computed:{getCurrentTime:function(){var e=fa.getHours();return e>=12?e-12+":"+fa.getMinutes()+":"+fa.getSeconds()+" PM":e+":"+fa.getMinutes()+":"+fa.getSeconds()+" AM"},getTotal:function(){return this.invoiceItems.reduce((function(e,t){return e+t.productPrice*t.qty}),0)}}},ba=ga,xa=(s("c854"),Object(l["a"])(ba,va,ha,!1,null,"29d4a6d2",null)),ya=xa.exports;u()(xa,{VBtn:$["a"],VCol:w["a"],VDivider:ge["a"],VRow:T["a"]});var Da=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"black--text"},[e._m(0),e._m(1),s("hr"),s("p",{staticClass:"text-left px-5 pt-2"},[e._v(" بەرواری چاپکردن/ "+e._s((new Date).toISOString().split("T")[0])+" "),s("span",{staticClass:"float-right"},[e._v(" فرۆشیار: "+e._s(e.userName)+" ")])]),s("p",{staticClass:"mx-1",staticStyle:{border:"0.2px solid"}},[s("span",{staticClass:"px-6",staticStyle:{"background-color":"lightgrey"}},[e._v(" بــەڕێــــز: ")]),s("span",{staticClass:"px-2"},[e._v(" "+e._s("Walk-in Customer"==e.customerName?"":e.customerName)+" ")]),s("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"100px"}},[e._v(" "+e._s(e._f("invoiceType")(e.invoiceType))+" ")]),s("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" جۆری وەصڵ: ")]),s("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"150px"}},[e._v(" "+e._s(e.invoiceID)+" ")]),s("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" ژ.وەصــڵ: ")])]),s("div",{staticClass:"pa-1"},[s("table",{staticClass:"mb-3",staticStyle:{width:"100%",border:"0.5px solid","border-collapse":"collapse"}},[e._m(2),s("tbody",e._l(e.items,(function(t,n){return s("tr",{key:t.invdID},[s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.itemName)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.productPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.qty)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s((t.productPrice*t.qty).toLocaleString())+" $ ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}})])})),0)]),e._m(3),s("span",{staticClass:"mt-3",staticStyle:{width:"300px",float:"left"}},[s("table",{staticStyle:{width:"300px",border:"1px solid","border-collapse":"collapse"}},[s("thead",[s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دۆلار): ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPrice.toLocaleString())+" $ ")])]),s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دینار): ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.collimation(e.totalPrice*this.$store.state.dollarPrice).toLocaleString())+" د.ع ")])]),"d"==e.invoiceType?s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" پارەی دراو: ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPay.toLocaleString())+" $ ")])]):e._e(),"d"==e.invoiceType?s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" پارەی ماوە (قەرز): ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s((e.totalPrice-e.totalPay).toLocaleString())+" $ ")])]):e._e(),"d"==e.invoiceType?s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" قەرزی کۆن: ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s((e.customerDebt-(e.totalPrice-e.totalPay)).toLocaleString())+" $ ")])]):e._e()])])])])])},Ia=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[n("img",{attrs:{src:s("4ab6"),height:"13%",width:"20%;"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",[s("p",{staticClass:"text-center mt-2"},[e._v(" ناونیشان: شەقامی سالم- سەهۆڵەکە - تەلاری سالم ")]),s("p",{staticClass:"text-center",staticStyle:{"margin-top":"-15px"},attrs:{dir:"ltr"}},[e._v(" 0770 164 8642 - 0750 307 9718 ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"7%"}},[e._v(" ژ. ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"25%"}},[e._v(" کاڵا ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"11%"}},[e._v(" نرخ (دۆلار) ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"9%"}},[e._v(" دانە ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"13%"}},[e._v(" کۆ ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid"}},[e._v(" تێبینی ")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"mt-3",staticStyle:{width:"350px",float:"right"}},[s("span",{staticClass:"px-10",staticStyle:{"background-color":"lightgrey"}},[e._v(" تێبینی: ")]),s("p",{staticClass:"px-2 mt-1",staticStyle:{border:"0.5px solid",width:"340px",height:"50px"}}),s("p",{staticClass:"text-right mt-1"},[e._v(" * فرۆشراو وەرناگیرێتەوە و ناگۆڕدرێت ")])])}],_a={data:function(){return{invoiceID:null,userName:"",customerName:"",customerID:null,customerDebt:0,items:[],invoiceType:"c",totalPrice:0,totalPay:0,discount:0}},mounted:function(){var e=this;this.$http.get("/invoice/searchInvoice/"+this.$route.params.invoiceID).then((function(t){var s=t.data;e.invoiceID=s.invoice.invoiceID,e.userName=s.invoice.fullName,e.customerName=s.invoice.customerName,e.customerID=s.invoice.customerID,e.items=s.invoiceItems,e.invoiceType=s.invoice.invoiceType,e.totalPrice=s.invoice.totalPrice,e.totalPay=s.invoice.totalPay,e.discount=s.invoice.discount,"d"==e.invoiceType&&e.$http.get("/customer/getCustomerDebtForInvoice/"+e.customerID).then((function(t){var s=t.data;e.customerDebt=s.totalRemain}))})).finally((function(){window.print(),setTimeout((function(){window.close()}),200)}))},methods:{collimation:ca},filters:{invoiceType:$e}},ka=_a,Sa=Object(l["a"])(ka,Da,Ia,!1,null,null,null),Ca=Sa.exports,$a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"black--text"},[e._m(0),e._m(1),s("hr"),s("p",{staticClass:"text-left px-5 pt-2"},[e._v(" بەرواری چاپکردن/ "+e._s((new Date).toISOString().split("T")[0])+" "),s("span",{staticClass:"float-right"},[e._v(" بەکارهێنەر: "+e._s(e.userName)+" ")])]),s("p",{staticClass:"mx-1",staticStyle:{border:"0.2px solid"}},[s("span",{staticClass:"px-6",staticStyle:{"background-color":"lightgrey"}},[e._v(" پسوڵەی کڕینی کۆمپانیای: ")]),s("span",{staticClass:"px-2"},[e._v(" "+e._s(e.supplierName)+" ")]),s("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"80px"}},[e._v(" "+e._s(e._f("invoiceType")(e.paymentType))+" ")]),s("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" جۆری وەصڵ: ")]),s("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"140px"}},[e._v(" "+e._s(e.referenceNo)+" ")]),s("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" ژ.وەصــڵ: ")])]),s("div",{staticClass:"pa-1"},[s("table",{staticClass:"mb-3",staticStyle:{width:"100%",border:"0.5px solid","border-collapse":"collapse"}},[e._m(2),s("tbody",e._l(e.items,(function(t,n){return s("tr",{key:t.invdID},[s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.itemName)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.costPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.discount)+" $ ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.costAfterDisc)+" $ ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.qty)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s((t.costAfterDisc*t.qty).toLocaleString())+" $ ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}})])})),0)]),s("span",{staticClass:"mt-3",staticStyle:{width:"350px",float:"right"}},[s("span",{staticClass:"px-10",staticStyle:{"background-color":"lightgrey"}},[e._v(" تێبینی: ")]),s("p",{staticClass:"px-2 mt-1",staticStyle:{border:"0.5px solid",width:"340px",height:"50px"}},[e._v(" "+e._s(e.note)+" ")])]),s("span",{staticClass:"mt-3",staticStyle:{width:"300px",float:"left"}},[s("table",{staticStyle:{width:"300px",border:"1px solid","border-collapse":"collapse"}},[s("thead",[s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دۆلار): ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPrice.toLocaleString())+" $ ")])]),"d"==e.paymentType?s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" بڕی پێشەکی: ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.amountPay)+" $ ")])]):e._e(),"d"==e.paymentType?s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" بڕی مــاوە: ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPrice-e.amountPay)+" $ ")])]):e._e()])])])])])},wa=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[n("img",{attrs:{src:s("4ab6"),height:"13%",width:"20%;"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",[s("p",{staticClass:"text-center mt-2"},[e._v(" ناونیشان: شەقامی سالم- سەهۆڵەکە - تەلاری سالم ")]),s("p",{staticClass:"text-center",staticStyle:{"margin-top":"-15px"},attrs:{dir:"ltr"}},[e._v(" 0770 164 8642 - 0750 307 9718 ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"7%"}},[e._v(" ژ. ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"25%"}},[e._v(" کاڵا ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"11%"}},[e._v(" نرخ ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"8.5%"}},[e._v(" داشکاندن ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"11%"}},[e._v(" نرخ دوای داشکاندن ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"9%"}},[e._v(" دانە ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"13%"}},[e._v(" کۆ ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid"}},[e._v(" تێبینی ")])])])}],Na={data:function(){return{purchaseID:null,referenceNo:null,userName:"",supplierName:"",items:[],paymentType:"c",totalPrice:0,amountPay:0}},mounted:function(){var e=this;this.$http.get("/generalReport/searchPurchase/"+this.$route.params.purchaseID).then((function(t){var s=t.data;console.log(s),e.referenceNo=s.purchase.referenceNo,e.userName=s.purchase.fullName,e.supplierName=s.purchase.supplierName,e.items=s.purchaseItems,e.paymentType=s.purchase.paymentType,e.totalPrice=s.purchase.totalPrice,e.amountPay=s.purchase.amountPay,e.note=s.purchase.note})).finally((function(){window.print(),setTimeout((function(){window.close()}),200)}))},methods:{collimation:ca},filters:{invoiceType:$e}},Ta=Na,Pa=Object(l["a"])(Ta,$a,wa,!1,null,null,null),Va=Pa.exports,Ra=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-text",[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("زانیاری گەڕان بۆ فرۆشراوەکان : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"1",md:"2"}},[s("v-text-field",{attrs:{label:"ژ.وەصڵ",type:"number",min:"0",outlined:"",dense:""},model:{value:e.search.invoiceID,callback:function(t){e.$set(e.search,"invoiceID",t)},expression:"search.invoiceID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-select",{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,"item-text":"customerName","item-value":"customerID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.customerID=null}},model:{value:e.search.customerID,callback:function(t){e.$set(e.search,"customerID",t)},expression:"search.customerID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-select",{attrs:{label:"بەکارهێنەر",outlined:"",dense:"",items:e.users,"item-text":"userName","item-value":"userID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.userID=null}},model:{value:e.search.userID,callback:function(t){e.$set(e.search,"userID",t)},expression:"search.userID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},n))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی فرۆشراوی نەقد",data:e.getTotalCash.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"کۆی فرۆشراوی قەرز",data:e.getTotalDebt.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"primary darken-3",icon:"mdi-currency-usd",text:"فرۆشراوی صـافـی",data:e.getTotalSafi.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-title",[s("span",[e._v("لیستی فرۆشراوەکان")])]),s("v-card-text",[s("v-data-table",{attrs:{items:e.filterdItems,headers:e.saleHeaders,loading:e.loadings.search,"footer-props":{"items-per-page-options":[10,15,25,50]},"item-key":"invoiceID"},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",{class:{"yellow lighten-3":"d"==n.invoiceType&&"s"==n.stockType,"green lighten-4":"c"==n.invoiceType&&"s"==n.stockType},staticStyle:{cursor:"pointer"},on:{click:function(t){return e.getInvoiceDetail(n.invoiceID)}}},[s("td",{staticClass:"text-center"},[e._v(e._s(n.invoiceID))]),s("td",{staticClass:"text-center"},[e._v(e._s(e._f("typeFilter")(n.stockType)))]),s("td",{staticClass:"text-center"},[e._v(e._s(n.customerName))]),s("td",{staticClass:"text-center"},[e._v(e._s(e._f("invoiceType")(n.invoiceType)))]),s("td",{staticClass:"text-center"},[e._v(e._s(n.totalPrice.toLocaleString()+" $"))]),s("td",{staticClass:"text-center"},[e._v(e._s(n.totalPay.toLocaleString()+" $"))]),s("td",{staticClass:"text-center"},[e._v(e._s(n.discount.toLocaleString()+" $"))]),s("td",{staticClass:"text-center"},[e._v(e._s(n.userName))]),s("td",{staticClass:"text-center"},[e._v(e._s(new Date(n.createAt).toISOString().split("T")[0]))])])]}}])},[s("template",{slot:"body.append"},[s("tr",{staticClass:"success white--text"},[s("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v("کۆی فرۆشراو : ")]),s("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v(" "+e._s(e.getTotal.toLocaleString())+" $ ")])])])],2)],1)],1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"75%"},model:{value:e.dialogs.invoiceDetail,callback:function(t){e.$set(e.dialogs,"invoiceDetail",t)},expression:"dialogs.invoiceDetail"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.invoiceDetail.invoiceID)+" ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.invoiceDetail=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("v-data-table",{attrs:{headers:e.invoiceDetailHeader,items:e.invoiceDetail.items,loading:e.loadings.invoiceDetail,"loading-text":"تکایە چاوەڕوانبە..."},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.qty)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.productPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((n.productPrice*n.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1)],1)},Ea=[],Oa={components:{card:V},data:function(){return{sales:[],loadings:{search:!1,clearSearch:!1,invoiceDetail:!1},dialogs:{invoiceDetail:!1},search:{invoiceID:null,customerID:null,userID:null,fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0]},invoiceDetail:{invoiceID:null,items:[]},customers:[],users:[],menu2:!1,menu3:!1,totalCash:0,totalDebt:0}},created:function(){var e=this;this.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s})),this.$http.get("/user/allUser").then((function(t){var s=t.data;e.users=s})),this.getAllInvoices()},methods:{clearSearch:function(){this.loadings.clearSearch=!0,this.search.invoiceID=null,this.search.customerID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0],this.loadings.clearSearch=!1},getAllInvoices:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadings.search=!0,t.next=3,e.$http.get("/invoice/getAllInvoices/"+e.search.fromDate+"/"+e.search.toDate).then((function(t){var s=t.data;e.sales=s})).finally((function(){return e.loadings.search=!1}));case 3:case"end":return t.stop()}}),t)})))()},getInvoiceDetail:function(e){var t=this;this.invoiceDetail.invoiceID=null,this.invoiceDetail.items=[],this.loadings.invoiceDetail=!0,this.dialogs.invoiceDetail=!0,this.$http.get("/invoice/searchInvoice/"+e).then((function(s){var n=s.data;t.invoiceDetail.invoiceID=e,t.invoiceDetail.items=n.invoiceItems})).finally((function(){return t.loadings.invoiceDetail=!1}))}},computed:{saleHeaders:function(){return[{text:"ژ.وەصڵ",align:"center",value:"invoiceID",sortable:!1},{text:"جۆر",align:"center",sortable:!1,value:"stockType"},{text:"کڕیار",align:"center",sortable:!1,value:"customerName"},{text:"جۆری فرۆشتن",align:"center",sortable:!1,value:"invoiceType"},{text:"کۆی نرخ",align:"center",sortable:!1,value:"totalPrice"},{text:"کۆی پارەی وەگیراو",align:"center",sortable:!1,value:"totalPay"},{text:"داشکاندن",align:"center",sortable:!1,value:"discount"},{text:"بەرکارهێنەر",align:"center",sortable:!1,value:"userName"},{text:"بەروار",align:"center",sortable:!1,value:"createAt"}]},invoiceDetailHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانە",align:"center",value:"qty",sortable:!1},{text:"نرخ",align:"center",value:"productPrice",sortable:!1},{text:"کۆی نرخ",align:"center",sortable:!1}]},filterdItems:function(){var e=this;return this.sales.filter((function(t){return(!e.search.invoiceID||t.invoiceID==e.search.invoiceID)&&(!e.search.customerID||t.customerID==e.search.customerID)&&(!e.search.userID||t.userIDUpdate==e.search.userID)}))},getTotalCash:function(){return this.filterdItems.filter((function(e){return"c"==e.invoiceType})).reduce((function(e,t){return e+t.totalPrice}),0)},getTotalDebt:function(){return this.filterdItems.filter((function(e){return"d"==e.invoiceType})).reduce((function(e,t){return e+t.totalPrice}),0)},getTotalSafi:function(){return this.filterdItems.reduce((function(e,t){return e+t.totalPay}),0)},getTotal:function(){return this.getTotalCash+this.getTotalDebt}},filters:{typeFilter:Ce,invoiceType:$e},watch:{"search.fromDate":function(){this.sales=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAllInvoices()},"search.toDate":function(){this.sales=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAllInvoices()}}},Ba=Oa,Aa=Object(l["a"])(Ba,Ra,Ea,!1,null,null,null),Ua=Aa.exports;u()(Aa,{VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDatePicker:he["a"],VDialog:fe["a"],VDivider:ge["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:De["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VSelect:_e["a"],VSpacer:Le["a"],VTextField:F["a"]});var La=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-text",[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("زانیاری گەڕان بۆ کڕدراوەکان : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"1",md:"2"}},[s("v-text-field",{attrs:{label:"ژ.وەصڵ",type:"number",min:"0",outlined:"",dense:""},model:{value:e.search.referenceNo,callback:function(t){e.$set(e.search,"referenceNo",t)},expression:"search.referenceNo"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-select",{attrs:{label:"کۆمپانیا",outlined:"",dense:"",items:e.suppliers,"item-text":"supplierName","item-value":"supplierID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.supplierID=null}},model:{value:e.search.supplierID,callback:function(t){e.$set(e.search,"supplierID",t)},expression:"search.supplierID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-select",{attrs:{label:"بەکارهێنەر",outlined:"",dense:"",items:e.users,"item-text":"userName","item-value":"userID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.userID=null}},model:{value:e.search.userID,callback:function(t){e.$set(e.search,"userID",t)},expression:"search.userID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},n))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی کڕدراوی نەقد",data:e.getTotalCash.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"کۆی کڕدراوی قەرز",data:e.getTotalDebt.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"primary darken-3",icon:"mdi-currency-usd",text:"کڕدراوی صـافـی",data:e.getTotalSafi.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-title",[s("span",[e._v("لیستی فرۆشراوەکان")])]),s("v-card-text",[s("v-data-table",{attrs:{items:e.filterdItems,headers:e.purchasesHeader,loading:e.loadings.search,"footer-props":{"items-per-page-options":[10,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",{class:{"yellow lighten-3":"d"==n.paymentType&&"p"==n.stockType,"green lighten-4":"c"==n.paymentType&&"p"==n.stockType}},[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.referenceNo)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.supplierName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.amountPay.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("invoiceType")(n.paymentType))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("purchaseStatus")(n.PurchaseStatus))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.user)+" ")]),s("td",{staticClass:"text-center"},[e._v(e._s(new Date(n.createAt).toISOString().split("T")[0]))]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getPurchaseDetail(n.purchaseID,n.referenceNo)}}},[s("v-icon",[e._v(" mdi-eye ")])],1),s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.print(n.purchaseID)}}},[s("v-icon",[e._v(" mdi-printer ")])],1)],1)])]}}])},[s("template",{slot:"body.append"},[s("tr",{staticClass:"success white--text"},[s("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v("کۆی کڕدراو : ")]),s("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v(" "+e._s(e.getTotal.toLocaleString())+" $ ")])])])],2)],1)],1)],1)],1),s("v-dialog",{attrs:{width:"75%"},model:{value:e.dialogs.purchaseDetail,callback:function(t){e.$set(e.dialogs,"purchaseDetail",t)},expression:"dialogs.purchaseDetail"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.purchaseDetail.referenceNo)+" ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.purchaseDetail=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-card-text",[s("v-data-table",{attrs:{headers:e.purchaseDetailHeader,items:e.purchaseDetail.items,loading:e.loadings.purchaseDetail,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[15,20]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.costPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.qty.toLocaleString())+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.costAfterDisc.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((n.costAfterDisc*n.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1)],1)},Fa=[],qa={components:{card:V},data:function(){return{purchases:[],loadings:{search:!1,clearSearch:!1,purchaseDetail:!1},dialogs:{purchaseDetail:!1},search:{referenceNo:null,supplierID:null,userID:null,fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0]},purchaseDetail:{referenceNo:null,items:[]},suppliers:[],users:[],menu2:!1,menu3:!1,totalCash:0,totalDebt:0}},created:function(){var e=this;this.getAllPurchases(),this.$http.get("/supplier/allSuppliers").then((function(t){var s=t.data;e.suppliers=s})),this.$http.get("/user/allUser").then((function(t){var s=t.data;e.users=s}))},methods:{clearSearch:function(){this.loadings.clearSearch=!0,this.search.referenceNo=null,this.search.supplierID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0],this.loadings.clearSearch=!1},getAllPurchases:function(){var e=this;this.loadings.search=!0,this.$http.get("/generalReport/getAllPurchases/"+this.search.fromDate+"/"+this.search.toDate).then((function(t){var s=t.data;e.purchases=s})).finally((function(){return e.loadings.search=!1}))},getPurchaseDetail:function(e,t){var s=this;this.purchaseDetail.referenceNo=null,this.purchaseDetail.items=[],this.loadings.purchaseDetail=!0,this.dialogs.purchaseDetail=!0,this.$http.get("/generalReport/getPurchaseDetail/"+e).then((function(e){var n=e.data;s.purchaseDetail.referenceNo=t,s.purchaseDetail.items=n})).finally((function(){return s.loadings.purchaseDetail=!1}))},print:function(e){window.open("/printPurchase/"+e)}},computed:{purchasesHeader:function(){return[{text:"ژ.وەصڵ",align:"center",value:"referenceNo",sortable:!1},{text:"کۆمپانیا",align:"center",value:"supplierName",sortable:!1},{text:"کۆی گشتی",align:"center",value:"totalPrice",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"پارەی دراو",align:"center",value:"amountPay",sortable:!0},{text:"جۆری کڕین",align:"center",value:"paymentType",sortable:!1},{text:"جۆری وەصڵ",align:"center",value:"PurchaseStatus",sortable:!1},{text:"بەکارهێنەر",align:"center",value:"user",sortable:!1},{text:"بەروار",align:"center",sortable:!1,value:"createAt"},{text:"کردارەکان",align:"center",sortable:!1}]},purchaseDetailHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"نرخی کڕین",align:"center",value:"costPrice",sortable:!0},{text:"دانە",align:"center",value:"qty",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"نرخی کڕین دوای داشکاندن",align:"center",value:"costAfterDisc",sortable:!0},{text:"کۆی گشتی",align:"center",sortable:!0}]},filterdItems:function(){var e=this;return this.purchases.filter((function(t){return(!e.search.referenceNo||t.referenceNo==e.search.referenceNo)&&(!e.search.supplierID||t.supplierID==e.search.supplierID)&&(!e.search.userID||t.userIDCreated==e.search.userID)}))},getTotalCash:function(){return this.filterdItems.filter((function(e){return"c"==e.paymentType})).reduce((function(e,t){return e+t.totalPrice}),0)},getTotalDebt:function(){return this.filterdItems.filter((function(e){return"d"==e.paymentType})).reduce((function(e,t){return e+t.totalPrice}),0)},getTotalSafi:function(){return this.filterdItems.reduce((function(e,t){return e+t.amountPay}),0)},getTotal:function(){return this.getTotalCash+this.getTotalDebt}},filters:{invoiceType:$e,purchaseStatus:we},watch:{"search.fromDate":function(){this.purchases=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAllPurchases()},"search.toDate":function(){this.purchases=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAllPurchases()}}},ja=qa,Wa=Object(l["a"])(ja,La,Fa,!1,null,null,null),Ma=Wa.exports;u()(Wa,{VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDatePicker:he["a"],VDialog:fe["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:De["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VSelect:_e["a"],VSpacer:Le["a"],VTextField:F["a"]});var Qa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",{staticClass:"center"},[s("v-col",{attrs:{cols:"3"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"3"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},n))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"success"},on:{click:e.getAllData}},[s("v-icon",[e._v("mdi-database-search")])],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:"",elevation:"2"}},[s("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{"font-size":"20px",width:"50%"}},[e._v(" پارەی هاتوو ")]),s("th",{staticClass:"text-center ",staticStyle:{"font-size":"20px",width:"50%"}},[e._v(" پارەی ڕۆیشتوو ")])])]),s("tbody",[s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("فرۆشتنەکان : "+e._s(e.allData.totalSale.toLocaleString())+" $")])],1),s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("کڕینەکان : "+e._s(e.allData.totalPurchase.toLocaleString())+" $")])],1)]),s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("وەرگرتنەوەی قەرز : "+e._s(e.allData.totalDebtCustomer.toLocaleString())+" $")])],1),s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("دانەوەی قەرز : "+e._s(e.allData.totalDebtCompany.toLocaleString())+" $")])],1)]),s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("داشکاندنی کڕین : "+e._s(e.allData.totalDiscountPurchase.toLocaleString())+" $")])],1),s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("داشکاندنی فرۆشتن : "+e._s(e.allData.totalDiscountInvoice.toLocaleString())+" $")])],1)]),s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("فرۆشتنی صافی : "+e._s((e.allData.totalSale-e.allData.totalDiscountInvoice).toLocaleString())+" $")])],1),s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("خەرجی : "+e._s(e.allData.totalExpenseIQD.toLocaleString())+" $")])],1)]),s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("گەڕاوەی کڕین : "+e._s(e.allData.totalReturnPurchase.toLocaleString())+" $")])],1),s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("گەڕاوەی فرۆشتن : "+e._s(e.allData.totalReturnSale.toLocaleString())+" $")])],1)]),s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("قازانج : "+e._s((e.allData.totalProfit-e.allData.totalDiscountInvoice).toLocaleString())+" $")])],1)])])]},proxy:!0}])})],1)],1)],1)],1)},Ha=[],Ga={data:function(){return{menu2:!1,menu3:!1,search:{fromDate:null,toDate:null},allData:{totalSale:0,totalPurchase:0,totalDebtCustomer:0,totalDebtCompany:0,totalDiscountInvoice:0,totalDiscountPurchase:0,totalExpenseIQD:0,totalReturnSale:0,totalReturnPurchase:0,totalProfit:0}}},methods:{getAllData:function(){var e=this;this.$http.get("/generalReport/moneyMovement/"+this.search.fromDate+"/"+this.search.toDate).then((function(t){var s=t.data;e.allData.totalSale=s.totalSale,e.allData.totalPurchase=s.totalPurchase,e.allData.totalDebtCustomer=s.totalDebtCustomer,e.allData.totalDebtCompany=s.totalDebtCompany,e.allData.totalDiscountInvoice=s.totalDiscountInvoice,e.allData.totalDiscountPurchase=s.totalDiscountPurchase,e.allData.totalExpenseIQD=s.totalExpenseIQD,e.allData.totalReturnSale=s.totalReturnSale,e.allData.totalReturnPurchase=s.totalReturnPurchase,e.allData.totalProfit=s.totalProfit}))}}},za=Ga,Ka=(s("7657"),Object(l["a"])(za,Qa,Ha,!1,null,"38921426",null)),Ja=Ka.exports;u()(Ka,{VAlert:C["a"],VBtn:$["a"],VCard:de["a"],VCol:w["a"],VContainer:pe["a"],VDatePicker:he["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VSimpleTable:L["a"],VTextField:F["a"]});var Xa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},n))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"success",block:""},on:{click:e.getTotalProfit}},[s("v-icon",[e._v("mdi-database-search")])],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"error",block:""},on:{click:function(t){e.totalProfit=[],e.totalAll=0}}},[s("v-icon",[e._v("mdi-reload")])],1)],1)],1)],1)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-card-text",[s("v-data-table",{attrs:{headers:e.headers,items:e.totalProfit,"footer-props":{"items-per-page-options":[5,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",{class:{"yellow lighten-3":"rs"==n.sourceType,"red lighten-3":"d"==n.sourceType,"red lighten-1 white--text":"s"==n.sourceType&&n.totalProfit<0}},[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.sourceID)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("typeFilter")(n.sourceType))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalSale)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalProfit)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalLoss)+" ")])])]}}])},[s("template",{slot:"body.append"},[s("tr",[s("th",{staticClass:"green lighten-1",staticStyle:{"font-size":"20px"}},[e._v("کۆی قازانج صافی : ")]),s("th",{staticClass:"green lighten-1",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.totalAll.toLocaleString())+" $ ")]),s("th",{staticClass:"red lighten-1 white--text",staticStyle:{"font-size":"20px"}},[e._v("کۆی زەرەر : "),s("br"),e._v(" "),s("span",{staticClass:"mt-5",staticStyle:{"font-size":"14px","font-weight":"lighter"}},[e._v(" کـوێـربـم بۆ مایەکـەی ")])]),s("th",{staticClass:"red lighten-1 white--text",staticStyle:{"font-size":"20px"}},[e._v(e._s((e.totalLoss+e.totalDisposal).toLocaleString())+" $ ")])])])],2)],1)],1)],1)],1)],1)},Ya=[],Za={data:function(){return{menu2:!1,menu3:!1,search:{fromDate:null,toDate:null},totalProfit:[],totalAll:0,totalDisposal:[],totalLoss:[]}},methods:{getTotalProfit:function(){var e=this;this.$http.get("/generalReport/totalProfit/"+this.search.fromDate+"/"+this.search.toDate).then((function(t){var s=t.data;e.totalProfit=s.totalProfit,e.totalAll=s.totalAll,e.totalDisposal=s.totalDisposal,e.totalLoss=s.totalLoss}))}},computed:{headers:function(){return[{text:"ژ.وەصڵ",align:"center",sortable:!1,value:"sourceID"},{text:"جۆری وەصڵ",align:"center",sortable:!1,value:"sourceType"},{text:"کۆی فرۆشتن",align:"center",sortable:!1,value:"totalSale"},{text:"کۆی قازانج",align:"center",sortable:!1,value:"totalProfit"},{text:"کۆی زەرەر",align:"center",sortable:!1,value:"totalLoss"}]}},filters:{typeFilter:Ce}},ei=Za,ti=Object(l["a"])(ei,Xa,Ya,!1,null,null,null),si=ti.exports;u()(ti,{VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDatePicker:he["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VTextField:F["a"]});var ni=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},n))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"1",lg:"1",sm:"12"}},[s("v-btn",{attrs:{block:"",color:"success"},on:{click:e.getTotalExpense}},[s("v-icon",[e._v("mdi-database-search")])],1)],1),s("v-col",{attrs:{cols:"12",md:"1",lg:"1",sm:"12"}},[s("v-btn",{attrs:{block:"",color:"error"},on:{click:function(t){e.totalExpense=[],e.totalPrice.totalIQD=0,e.totalPrice.total$=0}}},[s("v-icon",[e._v("mdi-reload")])],1)],1)],1)],1)],1)],1)],1),s("v-data-table",{attrs:{items:e.totalExpense,headers:e.headers,"footer-props":{"items-per-page-options":[5,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",[s("td",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" "+e._s(n.typeName)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(n.priceExpenseIQD)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(n.priceExpense$)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(n.dollarPrice)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"20%"}},[e._v(" "+e._s(n.note)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(new Date(n.createAt).toISOString().split("T")[0])+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(n.userName)+" ")])])]}}])},[s("template",{slot:"body.append"},[s("tr",{staticClass:"blue-grey lighten-4"},[s("th",{staticStyle:{"font-size":"20px"}},[e._v("کۆی خەرجی : ")]),s("th",{staticStyle:{"font-size":"15px"}},[e._v(e._s(e.totalPrice.totalIQD.toLocaleString())+" IQD ")]),s("th",{staticStyle:{"font-size":"15px"}},[e._v(e._s(e.totalPrice.total$)+" $ ")])])])],2)],1)},ai=[],ii={data:function(){return{menu2:!1,menu3:!1,search:{fromDate:null,toDate:null},totalExpense:[],totalPrice:{totalIQD:0,total$:0}}},methods:{getTotalExpense:function(){var e=this;this.$http.get("/expense/betweenDateExpense/"+this.search.fromDate+"/"+this.search.toDate).then((function(t){var s=t.data;e.totalExpense=s.totalExpense,e.totalPrice.totalIQD=s.totalPrice.totalIQD,e.totalPrice.total$=s.totalPrice.total$}))}},computed:{headers:function(){return[{text:"جۆری مەسرووف",align:"center",sortable:!1,value:"typeName"},{text:"بڕی دینار",align:"center",sortable:!1,value:"priceExpenseIQD"},{text:"بڕی دۆلار",align:"center",sortable:!1,value:"priceExpense$"},{text:"نرخی دۆلار",align:"center",sortable:!1,value:"dollarPrice"},{text:"تێبینی",align:"center",sortable:!1,value:"note"},{text:"بەروار",align:"center",sortable:!1,value:"createAt"},{text:"بەکرهێنەر",align:"center",sortable:!1,value:"userName"}]}}},ri=ii,oi=Object(l["a"])(ri,ni,ai,!1,null,null,null),li=oi.exports;u()(oi,{VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDatePicker:he["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VTextField:F["a"]});var ci=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"green darken-3",icon:"mdi-cash-lock-open",text:"کۆی پارەی ناو مەخزەن",data:e.sum.toLocaleString()+"$"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-data-table",{attrs:{headers:e.headers,items:e.moneyInStock,"footer-props":{"items-per-page-options":[15,25,35,45,55]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemCode)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.costPrice)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalInStock)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((n.totalInStock*n.costPrice).toLocaleString())+" ")])])]}}])})],1)],1)],1)},ui=[],di={components:{card:V},data:function(){return{totalMoenyInStock:0,moneyInStock:[]}},created:function(){var e=this;this.$http.get("/item/moneyInStock").then((function(t){var s=t.data;e.moneyInStock=s.moneyInStock}))},computed:{headers:function(){return[{text:"بارکۆد",align:"center",sortable:!1,value:"itemCode"},{text:"ناوی كاڵا",align:"center",sortable:!1,value:"itemName"},{text:"نرخی کڕین",align:"center",value:"costPrice"},{text:"دانەی ماوە",align:"center",sortable:!1,value:"totalInStock"},{text:"کۆی پارە",align:"center",sortable:!1}]},sum:function(){return this.moneyInStock.reduce((function(e,t){return e+(t.totalInStock*t.costPrice||0)}),0)}}},mi=di,pi=Object(l["a"])(mi,ci,ui,!1,null,null,null),vi=pi.exports;u()(pi,{VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VRow:T["a"]});var hi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-text",[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("گەڕان بۆ کۆمپانیا : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"3",md:"3",lg:"3",sm:"12"}},[s("v-select",{attrs:{label:"کۆمپانیا",outlined:"",dense:"",items:e.suppliers,"item-text":"supplierName","item-value":"supplierName"},model:{value:e.search.supplierName,callback:function(t){e.$set(e.search,"supplierName",t)},expression:"search.supplierName"}})],1),s("v-col",{attrs:{cols:"1",md:"1",lg:"1",sm:"12"}},[s("v-btn",{attrs:{block:"",color:"error"},on:{click:function(t){e.search.supplierName=null}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"green darken-3",icon:"mdi-cash-lock-open",text:"کۆی قەرزی کۆمپانیاکان",data:e.sum.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-data-table",{attrs:{items:e.debtSupToCust,headers:e.headers,"footer-props":{"items-per-page-options":[20,30,40,50]}}})],1)],1)],1)},fi=[],gi={components:{card:V},data:function(){return{debtSupToCust:[],suppliers:[],search:{supplierName:null}}},created:function(){var e=this;this.$http.get("/supplier/debtSupToCust").then((function(t){var s=t.data;e.debtSupToCust=s.debtSupToCust})),this.$http.get("/supplier/allSuppliers").then((function(t){var s=t.data;e.suppliers=s}))},computed:{headers:function(){var e=this;return[{text:"ناوی کۆمپانیا",align:"center",sortable:!1,value:"supplierName",filter:function(t){return!e.search.supplierName||t==e.search.supplierName}},{text:"قەرزی کۆمپانیا لای ئێمە",align:"center",sortable:!1,value:"totalRemainSupplier"},{text:"قەرزی ئێمە لای کۆمپانیا",align:"center",sortable:!1,value:"totalRemainCustomer"},{text:"کۆی قەرزی کۆمپانیا لای ئێمە",align:"center",sortable:!1,value:"totalRemain"}]},sum:function(){return this.debtSupToCust.reduce((function(e,t){return e+t.totalRemain}),0)}}},bi=gi,xi=Object(l["a"])(bi,hi,fi,!1,null,null,null),yi=xi.exports;u()(xi,{VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:De["a"],VIcon:N["a"],VRow:T["a"],VSelect:_e["a"]});var Di=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("گەڕان بۆ کڕیار : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"3",md:"3",lg:"3",sm:"12"}},[s("v-select",{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,"item-text":"customerName","item-value":"CustomerName"},model:{value:e.search.customerName,callback:function(t){e.$set(e.search,"customerName",t)},expression:"search.customerName"}})],1),s("v-col",{attrs:{cols:"1",md:"1",lg:"1",sm:"12"}},[s("v-btn",{attrs:{block:"",color:"error"},on:{click:function(t){e.search.customerName=null}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"green darken-3",icon:"mdi-cash-lock-open",text:"کۆی قەرزی کڕیارەکان",data:e.sum.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-data-table",{attrs:{headers:e.headers,items:e.debtCustToSup},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",{class:{"success lighten-5":0==n.totalRemainSupplier&&0==n.totalRemainCustomer&&0==n.totalRemain}},[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.customerName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalRemainSupplier.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalRemainCustomer.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalRemain.toLocaleString())+" $ ")])])]}}])})],1)],1)],1)},Ii=[],_i={components:{card:V},data:function(){return{search:{customerName:null},customers:[],debtCustToSup:[]}},created:function(){var e=this;this.$http.get("/customer/debtCustToSup").then((function(t){var s=t.data;e.debtCustToSup=s.debtCustToSup})),this.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s}))},computed:{headers:function(){var e=this;return[{text:"ناوی کڕیار",align:"center",sortable:!1,value:"customerName",filter:function(t){return!e.search.customerName||t==e.search.customerName}},{text:"قەرزی کڕیار لای ئێمە",align:"center",sortable:!1,value:"totalRemainSupplier"},{text:"قەرزی ئێمە لای کڕیار",align:"center",sortable:!1,value:"totalRemainCustomer"},{text:"کۆی قەرزی ئێمە لای کڕیار",align:"center",sortable:!1,value:"totalRemain"}]},sum:function(){return this.debtCustToSup.reduce((function(e,t){return e+t.totalRemain}),0)}}},ki=_i,Si=Object(l["a"])(ki,Di,Ii,!1,null,null,null),Ci=Si.exports;u()(Si,{VBtn:$["a"],VCard:de["a"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:De["a"],VIcon:N["a"],VRow:T["a"],VSelect:_e["a"]});var $i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("فرۆشراوی خاوەندارێتی : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"2"}},[s("v-select",{attrs:{label:"خاوەنی کاڵا",outlined:"",dense:"",items:e.owners,"item-text":"shelfName","item-value":"shelfID"},model:{value:e.search.ownerID,callback:function(t){e.$set(e.search,"ownerID",t)},expression:"search.ownerID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},n))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی فرۆشراو",data:e.getTotalSale.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"کۆی گەڕاوەی فرۆشراو",data:e.getTotalReturnSale.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"primary darken-3",icon:"mdi-currency-usd",text:"فرۆشراوی صـافـی",data:(e.getTotalSale-e.getTotalReturnSale).toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-data-table",{attrs:{headers:e.headers,items:e.filteredSale,"footer-props":{"items-per-page-options":[5,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",{class:{"yellow lighten-3":"rs"==n.sourceType,"green lighten-4":"s"==n.sourceType}},[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemCode))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.itemName))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.shelfName))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.sold))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalPriceSold))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("typeFilter")(n.sourceType)))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(n.createAt).toISOString().split("T")[0]))])])]}}])})],1)],1)],1)},wi=[],Ni=(s("466d"),{components:{card:V},data:function(){return{owners:[],getSaleByOwner:[],search:{ownerID:null,fromDate:null,toDate:null},menu2:!1,menu3:!1,loadings:{search:!1,clearSearch:!1}}},created:function(){var e=this;this.getTodaySale(),this.$http.get("/essential/getOwner").then((function(t){var s=t.data;e.owners=s})),this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},computed:{headers:function(){return[{text:"بارکۆد",align:"center",value:"itemCode",sortable:!1},{text:"ناوی کاڵا",align:"center",value:"itemName",sortable:!1},{text:"ناوی خاوەن",align:"center",value:"shelfName",sortable:!1},{text:"دانەی فرۆشراو",align:"center",value:"sold",sortable:!1},{text:"کۆی نرخی فرۆشراو",align:"center",value:"totalPriceSold",sortable:!1},{text:"جۆر",align:"center",value:"sourceType",sortable:!1},{text:"بەروار",align:"center",value:"createAt",sortable:!1}]},filteredSale:function(){var e=this;return this.getSaleByOwner.filter((function(t){return t.shelfID.toString().match(e.search.ownerID||"")&&new Date(t.createAt).toISOString().split("T")[0]>=e.search.fromDate&&new Date(t.createAt).toISOString().split("T")[0]<=e.search.toDate}))},getTotalSale:function(){return this.filteredSale.filter((function(e){return"s"==e.sourceType})).reduce((function(e,t){return e+t.totalPriceSold}),0)},getTotalReturnSale:function(){return this.filteredSale.filter((function(e){return"rs"==e.sourceType})).reduce((function(e,t){return e+-1*t.totalPriceSold}),0)}},methods:{clearSearch:function(){this.search.ownerID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},getTodaySale:function(){var e=this;this.$http.get("/invoice/getSaleByOwner").then((function(t){var s=t.data;e.getSaleByOwner=s.getSaleByOwner}))}},filters:{typeFilter:Ce}}),Ti=Ni,Pi=Object(l["a"])(Ti,$i,wi,!1,null,null,null),Vi=Pi.exports;u()(Pi,{VBtn:$["a"],VCard:de["a"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDatePicker:he["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:De["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VSelect:_e["a"],VTextField:F["a"]});var Ri=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی صافی قازانج",data:e.totalProfit.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"red darken-3",icon:"mdi-currency-usd",text:"کۆی زەرەر",data:e.totalLoss.toLocaleString()+" $"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-card-title",[s("v-row",[s("v-col",{staticClass:"py-0 pt-2",attrs:{cols:"12",md:"2",lg:"2",xl:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1),s("v-col",{staticClass:"py-0 pt-2",attrs:{cols:"12",md:"2",lg:"2",xl:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}},n))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1),s("v-col",{staticClass:"py-0 pt-2",attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[s("v-text-field",{attrs:{dense:"",outlined:"","append-icon":"mdi-magnify",label:"گەڕان بە پێی بارکۆد و ناو .....","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-col",{staticClass:"py-0 pt-2",attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-select",{attrs:{label:"جۆر",dense:"",outlined:"",items:e.categories,"item-text":"categoryName","item-value":"categoryName",clearable:""},model:{value:e.searchGroup.categoryName,callback:function(t){e.$set(e.searchGroup,"categoryName",t)},expression:"searchGroup.categoryName"}})],1),s("v-col",{staticClass:"py-0 pt-2",attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-select",{attrs:{label:"خاوەندارێتی",dense:"",outlined:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfName",clearable:""},model:{value:e.searchGroup.shelfName,callback:function(t){e.$set(e.searchGroup,"shelfName",t)},expression:"searchGroup.shelfName"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-select",{attrs:{label:"براند",dense:"",outlined:"",items:e.brands,"item-text":"brandName","item-value":"brandName",clearable:""},model:{value:e.searchGroup.brandName,callback:function(t){e.$set(e.searchGroup,"brandName",t)},expression:"searchGroup.brandName"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"1",lg:"1",xl:"1"}},[s("v-btn",{attrs:{color:"error",block:""},on:{click:function(t){return e.clear()}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1),s("v-card-text",[s("v-data-table",{attrs:{headers:e.headers,items:e.filterProfit,"footer-props":{"items-per-page-options":[10,15,25,50]},search:e.search,loading:e.loading.item,"loading-text":"تکایە چاوەروانبە...."}})],1)],1)],1)],1)],1)},Ei=[],Oi={components:{card:V},data:function(){return{profits:[],brands:[],shelfs:[],categories:[],search:"",searchGroup:{shelfName:null,brandName:null,categoryName:null},from:(new Date).toISOString().split("T")[0],to:(new Date).toISOString().split("T")[0],loading:{item:!1},menu2:!1,menu3:!1}},created:function(){var e=this;this.$http.get("/essential/getBrands").then((function(t){var s=t.data;e.brands=s})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s})),this.$http.get("/essential/getCategories").then((function(t){var s=t.data;e.categories=s})),this.getProfit()},methods:{getProfit:function(){var e=this;this.profits=[],this.loading.item,this.$http.get("/item/getProfitByItem/"+this.from+"/"+this.to).then((function(t){var s=t.data;e.profits=s.getProfitByItem})).finally((function(){return e.loading.item}))},clear:function(){this.search="",this.searchGroup.shelfName=null,this.searchGroup.brandName=null,this.searchGroup.categoryName=null,this.from=(new Date).toISOString().split("T")[0],this.to=(new Date).toISOString().split("T")[0]}},computed:{headers:function(){return[{text:"بارکۆد",align:"center",sortable:!1,value:"itemCode"},{text:"ناوی کاڵا",align:"center",sortable:!1,value:"itemName"},{text:"جۆر",align:"center",sortable:!1,value:"categoryName"},{text:"بڕاند",align:"center",sortable:!1,value:"brandName"},{text:"خاوەندارێتی",align:"center",sortable:!1,value:"shelfName"},{text:"دانەی فرۆشراو",align:"center",sortable:!1,value:"totalQtySale"},{text:"کۆی قازانج",align:"center",sortable:!0,value:"profitByItem"},{text:"کۆی زەرەر",align:"center",sortable:!0,value:"totalLoss"}]},filterProfit:function(){var e=this;return this.profits.filter((function(t){return(!e.searchGroup.shelfName||t.shelfName==e.searchGroup.shelfName)&&(!e.searchGroup.categoryName||t.categoryName==e.searchGroup.categoryName)&&(!e.searchGroup.brandName||t.brandName==e.searchGroup.brandName)}))},totalProfit:function(){return this.filterProfit.reduce((function(e,t){return e+t.profitByItem}),0)},totalLoss:function(){return this.filterProfit.reduce((function(e,t){return e+t.totalLoss}),0)}},watch:{from:function(){this.from&&this.to&&this.from<=this.to&&this.getProfit()},to:function(){this.from&&this.to&&this.from<=this.to&&this.getProfit()}}},Bi=Oi,Ai=Object(l["a"])(Bi,Ri,Ei,!1,null,null,null),Ui=Ai.exports;u()(Ai,{VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDatePicker:he["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VSelect:_e["a"],VTextField:F["a"]});var Li=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-title",[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v(" زانیاری گەڕان : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"2",lg:"2",sm:"6"}},[s("v-select",{attrs:{label:"جۆری حساب",outlined:"",dense:"",items:[{text:"کۆمپانیا",value:"s"},{text:"کڕیار",value:"c"},{text:"هاوبەشەکان",value:"cs"}],"item-text":"text","item-value":"value"},model:{value:e.search.accountType,callback:function(t){e.$set(e.search,"accountType",t)},expression:"search.accountType"}})],1),s("v-col",{attrs:{cols:"12",md:"2",lg:"2",sm:"6"}},["s"==e.search.accountType||"c"==e.search.accountType?s("v-select",{attrs:{label:"ناوی حساب",outlined:"",dense:"",items:"s"==e.search.accountType?e.suppliers:"c"==e.search.accountType?e.customers:[],"item-text":"s"==e.search.accountType?"supplierName":"c"==e.search.accountType?"customerName":"","item-value":"supplierName"},model:{value:e.search.supplierName,callback:function(t){e.$set(e.search,"supplierName",t)},expression:"search.supplierName"}}):"cs"==e.search.accountType?s("v-select",{attrs:{outlined:"",dense:"",label:"ناوی حساب",items:e.partners,"item-text":"accountName","item-value":"accountName"},model:{value:e.search.partnerName,callback:function(t){e.$set(e.search,"partnerName",t)},expression:"search.partnerName"}}):e._e()],1),s("v-col",{attrs:{cols:"12",md:"2",lg:"2",sm:"6"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"2",lg:"2",sm:"6"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},n))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{staticClass:"notPrint",attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"error",block:""},on:{click:e.clearSearch}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),s("v-row",["s"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی کڕین",data:e.getTotalPurchase+"$"}})],1):e._e(),"s"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"cyan darken-3",icon:"mdi-currency-usd",text:"کڕین کاش",data:e.totalPurchaseCash+"$"}})],1):e._e(),"s"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"teal darken-4",icon:"mdi-currency-usd",text:"کڕین قەرز",data:e.totalPurchaseDebt+"$"}})],1):e._e(),"s"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"گەڕاندنەوەی قەرز",data:e.totalReturnDebt+"$"}})],1):e._e(),"s"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"orange darken-4",icon:"mdi-currency-usd",text:"وەصڵی گەڕاوە",data:e.totalReturnPurchase+"$"}})],1):e._e(),"s"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"error darken-3",icon:"mdi-currency-usd",text:"قەرزی کۆمپانیا لای ئێمە",data:e.totalRemainDebt+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"teal darken-4",icon:"mdi-currency-usd",text:"فرۆشتن",data:e.totalSale+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"blue-grey darken-2",icon:"mdi-currency-usd",text:"فرۆشتن کاش",data:e.totalSaleCash+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"indigo darken-3",icon:"mdi-currency-usd",text:"فرۆشتن قەرز",data:e.totalSaleDebt+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"teal darken-4",icon:"mdi-currency-usd",text:"وەرگرتنەوەی قەرز",data:e.totalReturnDebtCustomer+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"deep-orange darken-3",icon:"mdi-currency-usd",text:"فرۆشراوی گەڕاوە",data:e.totalReturnSale+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?s("v-col",{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[s("card",{attrs:{color:"deep-orange darken-3",icon:"mdi-currency-usd",text:"قەرزی ئێمە لای كڕیار",data:e.totalRemainDebtCustomer+"$"}})],1):e._e(),s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-card-title",[s("v-spacer"),s("v-btn",{attrs:{fab:"","x-small":""}},[s("download-excel",{attrs:{data:e.filterBySupplier.map((function(t){return{sourceID:t.sourceID,sourceType:t.sourceType.replace(t.sourceType,e.typeFilterFunction(t.sourceType)),accountName:t.accountName,totalPrice:t.totalPrice,totalPay:t.totalPay,transactionType:t.transactionType.replace(t.transactionType,e.invoiceTypeFunction(t.transactionType)),createAt:new Date(t.createAt).toISOString().split("T")[0]}})),fields:e.fileds}},[s("v-icon",[e._v("mdi-file-excel-outline")])],1)],1)],1),s("v-card-text",[s("v-data-table",{attrs:{headers:e.headers,items:e.filterBySupplier,loading:e.loadings.search},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[s("tr",{class:{"yellow lighten-3":"rp"==n.sourceType,"green lighten-3":"rdp"==n.sourceType,"red lighten-3":"p"==n.sourceType,"teal darken-4 white--text":"s"==n.sourceType,"deep-orange darken-3 white--text":"rs"==n.sourceType,"amber accent-3 black--text":"rds"==n.sourceType}},[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.sourceID)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("typeFilter")(n.sourceType))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.accountName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalPrice)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.totalPay)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("invoiceType")(n.transactionType))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(n.createAt).toISOString().split("T")[0])+" ")])])]}}])})],1)],1)],1)],1)],1)},Fi=[],qi={components:{card:V},data:function(){return{search:{supplierName:"",fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0],accountType:"s",partnerName:""},suppliers:[],customers:[],partners:[],menu2:!1,menu3:!1,accountStatement:[],loadings:{search:!1},fileds:{"ژ.وەصڵ":"sourceID","جۆری پسووڵە":"sourceType","ناوی حساب":"accountName","کۆی پارە":"totalPrice","بڕی پێشەکی":"totalPay","جۆری مامەڵە":"transactionType","بەروار":"createAt"}}},created:function(){var e=this;this.$http.get("/supplier/allSuppliers").then((function(t){var s=t.data;e.suppliers=s})),this.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s})),this.$http.get("/supplier/allPartnerName").then((function(t){var s=t.data;e.partners=s,console.log(e.partners)})),this.getAccountStatement()},methods:{clearSearch:function(){this.search.supplierName="",this.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},getAccountStatement:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("s"!=e.search.accountType&&"c"!=e.search.accountType){t.next=5;break}return t.next=3,e.$http.get("/supplier/accountStatement/"+e.search.fromDate+"/"+e.search.toDate+"/"+e.search.accountType).then((function(t){var s=t.data;e.accountStatement=s.accountStatement}));case 3:t.next=7;break;case 5:return t.next=7,e.$http.get("/supplier/accountStatementPartner/"+e.search.fromDate+"/"+e.search.toDate).then((function(t){var s=t.data;e.accountStatement=s.accountStatementPartner}));case 7:case"end":return t.stop()}}),t)})))()},typeFilterFunction:Ce,invoiceTypeFunction:$e},computed:{headers:function(){return[{text:"ژ.وەصڵ",align:"center",value:"sourceID",sortable:!1},{text:"جۆری پسووڵە",align:"center",value:"sourceType",sortable:!1},{text:"ناوی حساب",align:"center",value:"accountName",sortable:!1},{text:"کۆی پارە",align:"center",value:"totalPrice",sortable:!1},{text:"بڕی پێشەکی",align:"center",value:"totalPay",sortable:!1},{text:"جۆری مامەڵە",align:"center",value:"transactionType",sortable:!1},{text:"بەروار",align:"center",value:"createAt",sortable:!0}]},filterBySupplier:function(){var e=this;return"s"==this.search.accountType||"c"==this.search.accountType?this.accountStatement.filter((function(t){return!e.search.supplierName||t.accountName==e.search.supplierName})):this.accountStatement.filter((function(t){return!e.search.partnerName||t.accountName==e.search.partnerName}))},getTotalPurchase:function(){return this.filterBySupplier.filter((function(e){return"p"==e.sourceType})).reduce((function(e,t){return e+t.totalPrice}),0)},totalPurchaseCash:function(){return this.filterBySupplier.filter((function(e){return"p"==e.sourceType&&"c"==e.transactionType})).reduce((function(e,t){return e+t.totalPrice}),0)},totalPurchaseDebt:function(){return this.filterBySupplier.filter((function(e){return"p"==e.sourceType&&"d"==e.transactionType})).reduce((function(e,t){return e+t.totalPrice}),0)},totalRemainDebt:function(){var e=this.filterBySupplier.filter((function(e){return"s"==e.accountType&&"d"==e.transactionType})).reduce((function(e,t){return e+t.totalPay}),0);return this.filterBySupplier.filter((function(e){return"s"==e.accountType&&["d","rd","pds"].includes(e.transactionType)})).reduce((function(e,t){return e+t.totalPrice}),0)-e},totalReturnDebt:function(){return-1*this.filterBySupplier.filter((function(e){return"rdp"==e.sourceType})).reduce((function(e,t){return e+t.totalPrice}),0)},totalReturnPurchase:function(){return-1*this.filterBySupplier.filter((function(e){return"rp"==e.sourceType})).reduce((function(e,t){return e+t.totalPrice}),0)},totalSale:function(){var e=this.filterBySupplier.filter((function(e){return"s"==e.sourceType})).reduce((function(e,t){return e+t.totalPrice}),0);return e>=0?e:-1*e},totalSaleCash:function(){var e=this.filterBySupplier.filter((function(e){return"s"==e.sourceType&&"c"==e.transactionType})).reduce((function(e,t){return e+t.totalPrice}),0);return e>=0?e:-1*e},totalSaleDebt:function(){var e=this.filterBySupplier.filter((function(e){return"s"==e.sourceType&&"d"==e.transactionType})).reduce((function(e,t){return e+t.totalPrice}),0);return e>=0?e:-1*e},totalReturnSale:function(){return this.filterBySupplier.filter((function(e){return"rs"==e.sourceType})).reduce((function(e,t){return e+t.totalPrice}),0)},totalReturnDebtCustomer:function(){return this.filterBySupplier.filter((function(e){return"rds"==e.sourceType})).reduce((function(e,t){return e+t.totalPrice}),0)},totalRemainDebtCustomer:function(){var e=this.filterBySupplier.filter((function(e){return"c"==e.accountType&&"d"==e.transactionType})).reduce((function(e,t){return e+t.totalPay}),0);return console.log(e),-1*this.filterBySupplier.filter((function(e){return"c"==e.accountType&&["d","rd","pdc"].includes(e.transactionType)})).reduce((function(e,t){return e+t.totalPrice}),0)-e}},filters:{typeFilter:Ce,invoiceType:$e},watch:{"search.fromDate":function(){this.accountStatement=[],this.search.accountType&&this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAccountStatement()},"search.toDate":function(){this.accountStatement=[],this.search.accountType&&this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAccountStatement()},"search.accountType":function(){this.accountStatement=[],this.search.accountType&&this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAccountStatement()}}},ji=qi,Wi=(s("f306"),Object(l["a"])(ji,Li,Fi,!1,null,"786d962f",null)),Mi=Wi.exports;u()(Wi,{VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDatePicker:he["a"],VExpansionPanel:be["a"],VExpansionPanelContent:xe["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:De["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VSelect:_e["a"],VSpacer:Le["a"],VTextField:F["a"]});var Qi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-alert",{staticClass:"title text-center py-3",attrs:{text:"",color:"green"}},[e._v(" داریــن گـەیـم ")]),s("v-card",{staticClass:"mt-3 px-3 py-5",attrs:{elevation:"4",width:"450px"}},[s("v-select",{attrs:{label:"بەکارهێنەر",outlined:"",dense:"",items:e.users,"item-text":"userName","item-value":"userName"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("password")}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{label:"وشەی نهێنی",outlined:"",dense:"",type:"password",id:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}}),s("v-btn",{attrs:{color:"success",block:"",loading:e.loading},on:{click:function(t){return e.login()}}},[e._v(" چوونەژوورەوە ")])],1),s("v-divider"),s("v-alert",{staticClass:"text-center py-5 mt-3",attrs:{text:"",color:"success"}},[e._v(" Developed By: Suly Tech ")]),s("notification")],1)},Hi=[],Gi={data:function(){return{loading:!1,username:null,password:null,users:[]}},created:function(){var e=this;this.$http.get("/user/allUser").then((function(t){var s=t.data;e.users=s}))},methods:{setFocus:function(e){document.getElementById(e).focus()},login:function(){var e=this;this.loading=!0,this.$http.post("/login",{userName:this.username,password:this.password}).then((function(t){var s=t.data;localStorage.setItem("darinGameToken",s.token),e.$http.defaults.headers.common["Authorization"]="Bearer "+s.token,location.href="/"})).catch((function(t){e.emitter.$emit("notify",{type:"error",text:t.response.data.message})})).finally((function(){return e.loading=!1}))}}},zi=Gi,Ki=Object(l["a"])(zi,Qi,Hi,!1,null,null,null),Ji=Ki.exports;u()(Ki,{VAlert:C["a"],VBtn:$["a"],VCard:de["a"],VDivider:ge["a"],VSelect:_e["a"],VTextField:F["a"]});var Xi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("v-select",{attrs:{dense:"",outlined:"",clearable:"",label:"خاوندارێتی",items:e.owners,"item-text":"shelfName","item-value":"shelfName"},model:{value:e.search.shelfName,callback:function(t){e.$set(e.search,"shelfName",t)},expression:"search.shelfName"}})],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"2",lg:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},n))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[s("v-date-picker",{on:{input:function(t){e.menu1=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"2",lg:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1)],1),s("v-row",[s("v-col",{staticClass:"pt-0",attrs:{cols:"12",md:"3",lg:"3"}},[s("card",{attrs:{color:"success",icon:"mdi-currency-usd",text:"کۆی پارە",data:e.getTotalMoney.toLocaleString()+" $"}})],1)],1),s("v-divider",{staticClass:"my-3"}),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-dialog",{attrs:{persistent:"",eager:"",width:"580px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[s("v-alert",e._g(e._b({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"px-3 py-1 text-center",attrs:{color:"success",outlined:"",text:""}},"v-alert",a,!1),n),[s("v-icon",{attrs:{left:"",color:"success"}},[e._v(" mdi-plus ")]),e._v(" زیادکردن بۆ سەر سندوق ")],1)]}}]),model:{value:e.dialogs.amountOwner,callback:function(t){e.$set(e.dialogs,"amountOwner",t)},expression:"dialogs.amountOwner"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زیادکردنی پارە بۆ حسابی خاوەندارێتی : ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeAmount"),e.dialogs.amountOwner=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-card-text",[s("formAmountOwner")],1)],1)],1)],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.filterByOwner},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,a=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.shelfName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.shelfName2)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.amount)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(n.createAt).toISOString().split("T")[0])+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(n.userName)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getAmountOwner(n)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteAmount(n.mbID)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])]}}])}),s("notification")],1)},Yi=[],Zi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formAmountOwner",on:{submit:function(e){e.preventDefault()}}},[s("v-select",{attrs:{label:"لە حسابی",outlined:"",dense:"",items:e.owners,"item-value":"shelfID","item-text":"shelfName"},model:{value:e.singleAmount.shelfID,callback:function(t){e.$set(e.singleAmount,"shelfID",t)},expression:"singleAmount.shelfID"}}),s("v-select",{attrs:{label:"بۆ حسابی",outlined:"",dense:"",items:e.owners,"item-value":"shelfID","item-text":"shelfName"},model:{value:e.singleAmount.shelfID2,callback:function(t){e.$set(e.singleAmount,"shelfID2",t)},expression:"singleAmount.shelfID2"}}),s("v-text-field",{attrs:{outlined:"",dense:"",type:"number",min:"0"},model:{value:e.singleAmount.amount,callback:function(t){e.$set(e.singleAmount,"amount",t)},expression:"singleAmount.amount"}}),s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بەروار",outlined:"",dense:""},model:{value:e.singleAmount.createAt,callback:function(t){e.$set(e.singleAmount,"createAt",t)},expression:"singleAmount.createAt"}},n))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[s("v-date-picker",{on:{input:function(t){e.menu1=!1}},model:{value:e.singleAmount.createAt,callback:function(t){e.$set(e.singleAmount,"createAt",t)},expression:"singleAmount.createAt"}})],1)],1),e.singleAmount.mbID?s("v-btn",{attrs:{block:"",color:"warning",loading:e.loadings.updateAmount,disabled:!e.singleAmount.shelfID||!e.singleAmount.shelfID2||e.singleAmount.amount<=0},on:{click:function(t){return e.updateAmount()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addAmount,disabled:!e.singleAmount.shelfID||!e.singleAmount.shelfID2||e.singleAmount.amount<=0},on:{click:function(t){return e.addAmount()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)},er=[],tr={data:function(){return{owners:[],singleAmount:{mbID:null,shelfID:null,shelfID2:null,amount:0,createAt:(new Date).toISOString().split("T")[0]},menu1:!1,loadings:{addAmount:!1,updateAmount:!1},userID:null,userName:""}},created:function(){var e=this;this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.owners=s})),this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName}))},mounted:function(){var e=this;this.emitter.$on("openAmount",(function(t){e.singleAmount.mbID=t.mbID,e.singleAmount.shelfID=t.shelfID,e.singleAmount.shelfID2=t.shelfID2,e.singleAmount.amount=t.amount,e.singleAmount.createAt=new Date(t.createAt).toISOString().split("T")[0]})),this.emitter.$on("closeAmount",(function(){e.clearAmount()}))},methods:{addAmount:function(){var e=this;this.$refs.formAmountOwner.validate()&&(this.loadings.addAmount=!0,this.$http.post("/owner/addAmount",{shelfID:this.singleAmount.shelfID,shelfID2:this.singleAmount.shelfID2,amount:this.singleAmount.amount,createAt:this.singleAmount.createAt}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("addAmount",{mbID:s.mbID,shelfID:e.singleAmount.shelfID,shelfID2:e.singleAmount.shelfID2,shelfName:e.owners.find((function(t){return t.shelfID==e.singleAmount.shelfID})).shelfName,shelfName2:e.owners.find((function(t){return t.shelfID==e.singleAmount.shelfID2})).shelfName,amount:e.singleAmount.amount,createAt:e.singleAmount.createAt,userName:e.userName}),e.clearAmount()})).finally((function(){return e.loadings.addAmount=!1})))},updateAmount:function(){var e=this;this.$refs.formAmountOwner.validate()&&(this.loadings.updateAmount=!0,this.$http.patch("/owner/updateAmount/"+this.singleAmount.mbID,{shelfID:this.singleAmount.shelfID,shelfID2:this.singleAmount.shelfID2,amount:this.singleAmount.amount,createAt:this.singleAmount.createAt}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("updateAmount",{mbID:e.singleAmount.mbID,shelfName:e.owners.find((function(t){return t.shelfID==e.singleAmount.shelfID})).shelfName,shelfName2:e.owners.find((function(t){return t.shelfID==e.singleAmount.shelfID2})).shelfName,amount:e.singleAmount.amount,userName:e.userName})})).finally((function(){return e.loadings.updateAmount=!1})))},clearAmount:function(){this.singleAmount.mbID=null,this.singleAmount.shelfID=null,this.singleAmount.shelfID2=null,this.singleAmount.amount=0,this.singleAmount.createAt=(new Date).toISOString().split("T")[0]}},beforeDestroy:function(){this.emitter.$off("openAmount"),this.emitter.$off("closeAmount")}},sr=tr,nr=Object(l["a"])(sr,Zi,er,!1,null,null,null),ar=nr.exports;u()(nr,{VBtn:$["a"],VDatePicker:he["a"],VForm:A["a"],VIcon:N["a"],VMenu:Ie["a"],VSelect:_e["a"],VTextField:F["a"]});var ir={components:{formAmountOwner:ar,card:V},data:function(){return{dialogs:{amountOwner:!1},loadings:{table:!1},amountOwner:[],owners:[],search:{shelfName:null,fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0]},menu1:!1,menu2:!1}},created:function(){var e=this;this.getAmountOwners(),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.owners=s}))},mounted:function(){var e=this;this.emitter.$on("addAmount",(function(t){e.amountOwner.unshift(t)})),this.emitter.$on("updateAmount",(function(t){var s=e.amountOwner.findIndex((function(e){return e.mbID=t.mbID}));e.amountOwner[s].shelfName=t.shelfName,e.amountOwner[s].amount=t.amount}))},methods:{getAmountOwners:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.amountOwner=[],e.loadings.table=!0,e.$http.get("/owner/getAmountOwner/"+e.search.fromDate+"/"+e.search.toDate).then((function(t){var s=t.data;e.amountOwner=s.getAmountOwner})).finally((function(){return e.loadings.table=!1}));case 3:case"end":return t.stop()}}),t)})))()},getAmountOwner:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.dialogs.amountOwner=!0,t.emitter.$emit("openAmount",e);case 2:case"end":return s.stop()}}),s)})))()},deleteAmount:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوە ؟","","question").then((function(){var s=t.amountOwner.findIndex((function(t){return t.mbID==e}));t.$http.delete("/owner/deleteAmount/"+e).then((function(){t.amountOwner.splice(s,1)}))}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"لە حسابی",value:"shelfName",align:"center",sortable:!1},{text:"بۆ حسابی",value:"shelfName2",align:"center",sortable:!1},{text:"بڕی پارە $",value:"amount",align:"center",sortable:!1},{text:"بەروار",value:"createAt",align:"center",sortable:!1},{text:"بەرکار‌هێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",value:"userName",align:"center",sortable:!1}]},filterByOwner:function(){var e=this;return this.amountOwner.filter((function(t){return!e.search.shelfName||t.shelfName2==e.search.shelfName}))},getTotalMoney:function(){return this.filterByOwner.reduce((function(e,t){return e+Number(t.amount)}),0)}},watch:{"search.fromDate":function(){this.amountOwner=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAmountOwners()},"search.toDate":function(){this.amountOwner=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAmountOwners()}},beforeDestroy:function(){this.emitter.$off("addAmount"),this.emitter.$off("updateAmount")}},rr=ir,or=Object(l["a"])(rr,Xi,Yi,!1,null,null,null),lr=or.exports;u()(or,{VAlert:C["a"],VBtn:$["a"],VCard:de["a"],VCardText:me["a"],VCardTitle:me["b"],VCol:w["a"],VContainer:pe["a"],VDataTable:ve["a"],VDatePicker:he["a"],VDialog:fe["a"],VDivider:ge["a"],VIcon:N["a"],VMenu:Ie["a"],VRow:T["a"],VSelect:_e["a"],VSpacer:Le["a"],VTextField:F["a"]}),qe()(or,{Ripple:rt["a"]}),n["a"].use(g["a"]);var cr=[{path:"/",component:Me,name:"home",meta:{requireAuth:!0}},{path:"/items",component:lt,name:"items",meta:{requireAuth:!0}},{path:"/roles",component:yt,name:"roles",meta:{requireAuth:!0}},{path:"/expenses",component:Ut,name:"expenses",meta:{requireAuth:!0}},{path:"/box",component:Yt,name:"box",meta:{requireAuth:!0}},{path:"/suppliers",component:us,name:"suppliers",meta:{requireAuth:!0}},{path:"/customers",component:Is,name:"customers",meta:{requireAuth:!0}},{path:"/users",component:Es,name:"users",meta:{requireAuth:!0}},{path:"/purchases",component:Ks,name:"purchases",meta:{requireAuth:!0}},{path:"/disposals",component:ln,name:"disposals",meta:{requireAuth:!0}},{path:"/invoice",component:hn,name:"invoice",meta:{requireAuth:!0}},{path:"/showInvoice",component:Dn,name:"showInvoice",meta:{requireAuth:!0}},{path:"/stock",component:wn,name:"stock",meta:{requireAuth:!0}},{path:"/stockReport",component:En,name:"stockReport",meta:{requireAuth:!0}},{path:"/saleReport",component:Ua,name:"saleReport",meta:{requireAuth:!0}},{path:"/itemSaleReport",component:Se,name:"itemSaleReport",meta:{requireAuth:!0}},{path:"/purchaseReport",component:Ma,name:"purchaseReport",meta:{requireAuth:!0}},{path:"/moneyMovement",component:Ja,name:"moneyMovement",meta:{requireAuth:!0}},{path:"/moneyInStock",component:vi,name:"moneyInStock",meta:{requireAuth:!0}},{path:"/customerDebts/:customerID?",component:zn,name:"customerDebts",meta:{requireAuth:!0}},{path:"/supplierDebts/:supplierID?",component:ra,name:"supplierDebts",meta:{requireAuth:!0}},{path:"/printShowInvoice",component:pa,name:"printShowInvoice"},{path:"/printInvoice/:invoiceID",component:ya,name:"printInvoice"},{path:"/printA4/:invoiceID",component:Ca,name:"printInvoiceA4"},{path:"/printPurchase/:purchaseID",component:Va,name:"printPurchase"},{path:"/profitReport",component:si,name:"profitReport",meta:{requireAuth:!0}},{path:"/expenseReport",component:li,name:"expenseReport",meta:{requireAuth:!0}},{path:"/supplierDebtReport",component:yi,name:"supplierDebtReport",meta:{requireAuth:!0}},{path:"/customerDebtReport",component:Ci,name:"customerDebtReport",meta:{requireAuth:!0}},{path:"/ownerSaleReport",component:Vi,name:"ownerSaleReport",meta:{requireAuth:!0}},{path:"/profitByItem",component:Ui,name:"profitByItem",meta:{requireAuth:!0}},{path:"/accountStatementCompany",component:Mi,name:"accountStatementCompany",meta:{requireAuth:!0}},{path:"/amountOwner",component:lr,name:"amountOwner",meta:{requireAuth:!0}},{path:"/login",component:Ji,name:"login"}],ur=new g["a"]({routes:cr,mode:"history"});ur.beforeEach(function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,s,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.matched.some((function(e){return e.meta.requireAuth}))&&(a=localStorage.getItem("darinGameToken"),a?x.a.post("/verifyToken").then((function(e){var s=e.data;"login"==t.name?n({name:"home"}):s.permissions.includes(t.name)||"home"==t.name?n():(alert("ببورە ... ئەم هەژمارە رێگەپێندراوە بۆ بەکارهێنانی ئەم بەشە"),n({name:"home"}))})).catch((function(){return n({name:"login"})})):n({name:"login"})),n();case 2:case"end":return e.stop()}}),e)})));return function(t,s,n){return e.apply(this,arguments)}}());var dr=ur,mr=s("2f62"),pr=s("0e44");n["a"].use(mr["a"]);var vr=new mr["a"].Store({plugins:[Object(pr["a"])()],state:{dollarPrice:0,showInvoice:null},mutations:{updateDollar:function(e,t){e.dollarPrice=t},updateShowInvoice:function(e,t){e.showInvoice=t}},actions:{},modules:{}}),hr=(s("5363"),s("15f5"),s("f309")),fr=s("fcf4");n["a"].use(hr["a"]);var gr=new hr["a"]({rtl:!0,icons:{iconfont:"mdi"},theme:{dark:Boolean(Number(localStorage.getItem("sulyMarketDarkTheme"))),themes:{dark:{primary:fr["a"].blue.darken3,success:fr["a"].green.darken1,error:fr["a"].red.darken2,cyan:fr["a"].cyan.lighten4}}}}),br=s("ba48"),xr=s.n(br),yr=s("683f"),Dr=s("f2d9"),Ir=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",[s("v-app-bar",{attrs:{dark:"",height:"49.5",dir:this.$vuetify.rtl?"rtl":"ltr"}},["/invoice"!=e.$route.fullPath&&"/showInvoice"!=e.$route.fullPath?s("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}):s("v-btn",{attrs:{icon:"",to:"/"}},[s("v-icon",[e._v(" mdi-home ")])],1),s("v-toolbar-title",{staticClass:"mx-2"},[e._v(" "+e._s(e.pageTitle)+" ")]),s("v-spacer"),s("v-switch",{staticClass:"mt-6",attrs:{dense:"",inset:"",label:"Dark"},model:{value:e.dark,callback:function(t){e.dark=t},expression:"dark"}}),s("v-btn",{attrs:{icon:""},on:{click:function(t){return e.toggleFullScreen()}}},[s("v-icon",[e._v(" "+e._s(e.isFullScreen?"mdi-fullscreen-exit":"mdi-fullscreen")+" ")])],1),s("v-btn",{attrs:{color:"error",loading:e.loadings.logout,icon:""},on:{click:function(t){return e.logout()}}},[s("v-icon",[e._v(" mdi-logout ")])],1)],1),s("v-navigation-drawer",{staticClass:"fill-height",attrs:{app:"",dark:"",width:"225",right:this.$vuetify.rtl},scopedSlots:e._u([{key:"append",fn:function(){return[s("v-banner",{staticClass:"text-center"},[s("small",{attrs:{dir:"ltr"}},[e._v(" Developed By: "),s("a",{staticStyle:{"text-decoration":"none",color:"white"},attrs:{href:"https://www.facebook.com/sulytech19",target:"_blank"}},[e._v(" Suly Tech ")])])])]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-list-item",[s("v-list-item-content",[s("v-list-item-title",{staticClass:"title text-center",staticStyle:{"font-family":"NRT !important"}},[e._v(" داریــن گــەیـم ")])],1)],1),s("v-divider"),s("v-list",{attrs:{nav:"",dense:""}},[s("v-list-item",{attrs:{link:"",to:"/"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-home ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" پەڕەی سەرەکی ")])],1)],1),e.permissions.includes("items")?s("v-list-item",{attrs:{link:"",to:"/items"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-dots-grid ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کاڵاکان ")])],1)],1):e._e(),e.permissions.includes("users")?s("v-list-item",{attrs:{link:"",to:"/users"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-group-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" بەکارهێنەرەکان ")])],1)],1):e._e(),e.permissions.includes("amountOwner")?s("v-list-item",{attrs:{link:"",to:"/amountOwner"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-box-multiple ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" سندوقی حساب")])],1)],1):e._e(),e.permissions.includes("invoice")?s("v-list-item",{attrs:{link:"",to:"/invoice"}},[s("v-list-item-icon",[s("v-icon",[e._v(" fa fa-cash-register ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" فرۆشتن ")])],1)],1):e._e(),e.permissions.includes("showInvoice")?s("v-list-item",{attrs:{link:"",to:"/showInvoice"}},[s("v-list-item-icon",[s("v-icon",[e._v(" fa fa-receipt ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" پسوڵەی عـرض ")])],1)],1):e._e(),e.permissions.includes("expenses")?s("v-list-item",{attrs:{link:"",to:"/expenses"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cash-multiple ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" خەرجیەکان ")])],1)],1):e._e(),e.permissions.includes("box")?s("v-list-item",{attrs:{link:"",to:"/box"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-archive-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" قاسەی پارە ")])],1)],1):e._e(),s("v-list-group",{scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-office-building-marker-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کۆمپانیا ")])],1)],1)]},proxy:!0}])},[s("v-list",[e.permissions.includes("suppliers")?s("v-list-item",{attrs:{link:"",to:"/suppliers"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-office-building-marker-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کۆمپانیاکان ")])],1)],1):e._e(),e.permissions.includes("supplierDebts")?s("v-list-item",{attrs:{link:"",to:"/supplierDebts"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cash-multiple ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" دانەوەی قەرز ")])],1)],1):e._e()],1)],1),s("v-list-group",{scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-cash-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کڕیار ")])],1)],1)]},proxy:!0}])},[s("v-list",[e.permissions.includes("customers")?s("v-list-item",{attrs:{link:"",to:"/customers"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-cash-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کڕیارەکان ")])],1)],1):e._e(),e.permissions.includes("customerDebts")?s("v-list-item",{attrs:{link:"",to:"/customerDebts"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cash-multiple ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" وەرگرتنەوەی قەرز ")])],1)],1):e._e()],1)],1),e.permissions.includes("accountStatementCompany")?s("v-list-item",{attrs:{link:"",to:"/accountStatementCompany"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cash-multiple ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کشف حساب ")])],1)],1):e._e(),e.permissions.includes("purchases")?s("v-list-item",{attrs:{link:"",to:"/purchases"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cart-plus ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کڕینەکان ")])],1)],1):e._e(),e.permissions.includes("disposals")?s("v-list-item",{attrs:{link:"",to:"/disposals"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-image-broken-variant ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" تەلەفەکان ")])],1)],1):e._e(),e.permissions.includes("stock")?s("v-list-item",{attrs:{link:"",to:"/stock"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-pie ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" مەخزەن ")])],1)],1):e._e(),s("v-list-group",{scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-areaspline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" ڕاپۆرتەکان ")])],1)],1)]},proxy:!0}])},[s("v-list",{staticClass:"ml-7"},[e.permissions.includes("stockReport")?s("v-list-item",{attrs:{link:"",to:"/stockReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-pie ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" زانیاری مەخزەن ")])],1)],1):e._e(),e.permissions.includes("saleReport")?s("v-list-item",{attrs:{link:"",to:"/saleReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-point-of-sale ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" زانیاری فرۆشتن ")])],1)],1):e._e(),e.permissions.includes("itemSaleReport")?s("v-list-item",{attrs:{link:"",to:"/itemSaleReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-point-of-sale ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کاڵای فرۆشراو ")])],1)],1):e._e(),e.permissions.includes("purchaseReport")?s("v-list-item",{attrs:{link:"",to:"/purchaseReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cart-check ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" زانیاری کڕین ")])],1)],1):e._e(),e.permissions.includes("moneyMovement")?s("v-list-item",{attrs:{link:"",to:"/moneyMovement"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cached ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" جوڵەی پارە ")])],1)],1):e._e(),e.permissions.includes("profitReport")?s("v-list-item",{attrs:{link:"",to:"/profitReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-line ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" قازانجی پسووڵە ")])],1)],1):e._e(),e.permissions.includes("profitByItem")?s("v-list-item",{attrs:{link:"",to:"/profitByItem"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-line ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" قازانجی مەواد ")])],1)],1):e._e(),e.permissions.includes("expenseReport")?s("v-list-item",{attrs:{link:"",to:"/expenseReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-sankey ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" زانیاری خەرجیەکان ")])],1)],1):e._e(),e.permissions.includes("moneyInStock")?s("v-list-item",{attrs:{link:"",to:"/moneyInStock"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cash-check ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" پارەی مخزەن ")])],1)],1):e._e(),e.permissions.includes("supplierDebtReport")?s("v-list-item",{attrs:{link:"",to:"/supplierDebtReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-office-building-marker-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("قەرزی کۆمپانیاکان")])],1)],1):e._e(),e.permissions.includes("customerDebtReport")?s("v-list-item",{attrs:{link:"",to:"/customerDebtReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-cash-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("قەرزی کڕیارەکان")])],1)],1):e._e(),e.permissions.includes("ownerSaleReport")?s("v-list-item",{attrs:{link:"",to:"/ownerSaleReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-convert ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("فرۆشراوی خاوەندارێتی")])],1)],1):e._e()],1)],1)],1)],1)],1)},_r=[],kr={props:{pageTitle:String},data:function(){return{loadings:{logout:!1},drawer:!0,isFullScreen:!1,dark:!1,permissions:[]}},created:function(){var e=this;this.drawer="/invoice"!=this.$route.fullPath&&"/showInvoice"!=this.$route.fullPath&&!this.$isMobile(),this.$http.post("/verifyToken").then((function(t){var s=t.data;e.permissions=s.permissions}))},mounted:function(){var e=this;this.dark=Boolean(Number(localStorage.getItem("sulyMarketDarkTheme"))),this.emitter.$on("changeDrawer",(function(t){e.drawer=t}))},methods:{toggleFullScreen:function(){document.fullscreenElement?(document.exitFullscreen(),this.isFullScreen=!1):(document.getElementById("app").requestFullscreen(),this.isFullScreen=!0)},logout:function(){this.loadings.logout=!1,localStorage.removeItem("darinGameToken"),this.$http.defaults.headers.common["Authorization"]=null,this.$router.push({name:"login"})}},watch:{dark:function(){localStorage.setItem("sulyMarketDarkTheme",Number(this.dark)),this.$vuetify.theme.dark=this.dark}},beforeDestroy:function(){this.emitter.$off("changeDrawer")}},Sr=kr,Cr=s("40dc"),$r=s("5bc1"),wr=s("e4e5"),Nr=s("8860"),Tr=s("56b0"),Pr=s("da13"),Vr=s("5d23"),Rr=s("34c3"),Er=s("f774"),Or=s("2a7f"),Br=Object(l["a"])(Sr,Ir,_r,!1,null,null,null),Ar=Br.exports;u()(Br,{VAppBar:Cr["a"],VAppBarNavIcon:$r["a"],VBanner:wr["a"],VBtn:$["a"],VDivider:ge["a"],VIcon:N["a"],VList:Nr["a"],VListGroup:Tr["a"],VListItem:Pr["a"],VListItemContent:Vr["a"],VListItemIcon:Rr["a"],VListItemTitle:Vr["b"],VNavigationDrawer:Er["a"],VSpacer:Le["a"],VSwitch:it["a"],VToolbarTitle:Or["a"]});var Ur=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-snackbar",{attrs:{timeout:e.timeout,color:e.types[e.type].color},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[s("v-btn",e._b({staticClass:"px-1",attrs:{color:"white black--text",outlined:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v(" بــاشـە ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[s("v-icon",[e._v(" "+e._s(e.types[e.type].icon)+" ")]),e._v("   "+e._s(e.text)+" ")],1)},Lr=[],Fr={data:function(){return{snackbar:!1,type:"default",timeout:3500,text:"",types:{success:{color:"success",icon:"mdi-check-circle"},warning:{color:"warning",icon:"mdi-information"},error:{color:"error",icon:"mdi-alert-circle"},default:{color:"dark",icon:""}}}},mounted:function(){var e=this;this.emitter.$on("notify",(function(t){e.type=t.type||"default",e.text=t.text,e.snackbar=!0}))},beforeDestroy:function(){this.emitter.$off("notify")}},qr=Fr,jr=s("2db4"),Wr=Object(l["a"])(qr,Ur,Lr,!1,null,null,null),Mr=Wr.exports;u()(Wr,{VBtn:$["a"],VIcon:N["a"],VSnackbar:jr["a"]});var Qr=s("1321"),Hr=s.n(Qr);n["a"].component("downloadExcel",Dr["a"]),n["a"].use(Hr.a),n["a"].component("apexchart",Hr.a),n["a"].component("navbar",Ar),n["a"].component("notification",Mr),n["a"].prototype.emitter=new n["a"],x.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("darinGameToken"),n["a"].prototype.$http=x.a,n["a"].config.productionTip=!1,n["a"].use(xr.a),n["a"].use(yr["a"]),new n["a"]({router:dr,store:vr,vuetify:gr,render:function(e){return e(v)}}).$mount("#app")},"59f6":function(e,t,s){e.exports=s.p+"img/250_IQD.fa47d52f.jpg"},6027:function(e,t,s){e.exports=s.p+"img/25_IQD.b3049890.jpg"},7657:function(e,t,s){"use strict";s("c117")},"85ec":function(e,t,s){},9145:function(e,t,s){e.exports=s.p+"img/10_IQD.66ceeb85.jpg"},c117:function(e,t,s){},c854:function(e,t,s){"use strict";s("2201")},d9b1:function(e,t,s){e.exports=s.p+"img/100_$.f99014bf.jpg"},f306:function(e,t,s){"use strict";s("48dd")}});